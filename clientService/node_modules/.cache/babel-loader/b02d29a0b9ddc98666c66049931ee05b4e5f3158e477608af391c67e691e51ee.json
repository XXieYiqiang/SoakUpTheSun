{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Administrator/Desktop/GimChat/gimChatVue/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.array.push.js\");\nrequire(\"core-js/modules/es.iterator.constructor.js\");\nrequire(\"core-js/modules/es.iterator.map.js\");\nvar _FileList = _interopRequireDefault(require(\"@/components/file/FileList.vue\"));\nvar _BreadCrumb = _interopRequireDefault(require(\"@/components/file/components/BreadCrumb.vue\"));\nvar _FileTable = _interopRequireDefault(require(\"@/components/file/FileTable.vue\"));\nvar _OperationMenu = _interopRequireDefault(require(\"@/components/file/OperationMenu.vue\"));\nvar _FileGrid = _interopRequireDefault(require(\"@/components/file/components/FileGrid.vue\"));\nvar _FileTimeLine = _interopRequireDefault(require(\"@/components/file/components/FileTimeLine.vue\"));\nvar _file = require(\"@/api/file.js\");\n// (JS‰ª£Á†Å‰øùÊåÅ‰∏çÂèò)\nvar _default = exports.default = {\n  name: \"Pan\",\n  // components: { FileList,},\n  components: {\n    FileTable: _FileTable.default,\n    OperationMenu: _OperationMenu.default,\n    FileGrid: _FileGrid.default,\n    BreadCrumb: _BreadCrumb.default,\n    FileTimeLine: _FileTimeLine.default\n  },\n  data() {\n    return {\n      isRefreshData: \"\",\n      fileNameSearch: '',\n      loading: true,\n      // ¬†Ë°®Ê†ºÊï∞ÊçÆ-loading\n      fileList: [],\n      // ¬†Ë°®Ê†ºÊï∞ÊçÆ-Êñá‰ª∂ÂàóË°®\n      // ÂàÜÈ°µÊï∞ÊçÆ\n      pageData: {\n        currentPage: 1,\n        pageCount: 50,\n        total: 0\n      }\n    };\n  },\n  created() {\n    this.setPageCount();\n    //lml\n    this.getTableDataByType();\n  },\n  watch: {\n    //lml\n    filePath() {\n      // ÂΩìÂ∑¶‰æßËèúÂçïÈÄâÊã©‚ÄúÂÖ®ÈÉ®‚ÄùÊàñ‚ÄúÊàëÁöÑÂàÜ‰∫´‚ÄùÔºåÊñá‰ª∂Ë∑ØÂæÑÂèëÁîüÂèòÂåñÊó∂ÔºåÂÜçÈáçÊñ∞Ëé∑ÂèñÊñá‰ª∂ÂàóË°®\n      if (this.$route.name === 'File' && [0, 8].includes(this.fileType)) {\n        this.setPageCount();\n        this.getTableDataByType();\n      }\n    },\n    //lml\n    fileType() {\n      if (this.$route.name === 'File') {\n        this.setPageCount();\n        this.getTableDataByType();\n      }\n    },\n    // ÁõëÂê¨Êñá‰ª∂Êü•ÁúãÊ®°Âºè\n    fileModel() {\n      this.setPageCount();\n    },\n    refreshData(newVal) {\n      // ÊØèÂΩì message ÂèòÂåñÔºåÊâßË°åÈÄªËæë\n      console.log('Áà∂ÁªÑ‰ª∂‰º†ÂÄºÂèòÂåñ:', newVal);\n      this.showFileList();\n    }\n  },\n  computed: {\n    // Â∑¶‰æßËèúÂçïÈÄâ‰∏≠ÁöÑÊñá‰ª∂Á±ªÂûã\n    fileType() {\n      return this.$route.query.fileType ? Number(this.$route.query.fileType) : 0;\n    },\n    // ÂΩìÂâçÊâÄÂú®Ë∑ØÂæÑ\n    filePath() {\n      return this.$route.query.filePath ? this.$route.query.filePath : '/';\n    },\n    // Êñá‰ª∂Êü•ÁúãÊ®°Âºè 0ÂàóË°®Ê®°Âºè 1ÁΩëÊ†ºÊ®°Âºè 2 Êó∂Èó¥Á∫øÊ®°Âºè\n    fileModel() {\n      return this.$store.getters.fileModel;\n    },\n    // Â±èÂπïÂÆΩÂ∫¶\n    screenWidth() {\n      return this.$store.state.common.screenWidth;\n    }\n  },\n  methods: {\n    handleSelect(key) {\n      const fileType = Number(key);\n      this.$router.push({\n        name: this.$route.name,\n        query: {\n          ...this.$route.query,\n          fileType: fileType,\n          filePath: '/' // ÂèØÈÄâÔºöÈáçÁΩÆË∑ØÂæÑÔºå‰πüÂèØ‰ª•‰øùÁïôÂΩìÂâç filePath\n        }\n      });\n    },\n    /**\r\n    * Êñá‰ª∂Â±ïÁ§∫Âå∫ÂüüÁöÑÁ©∫ÁôΩÂ§ÑÂè≥ÈîÆ‰∫ã‰ª∂\r\n    * @param {Document} event Âè≥ÈîÆ‰∫ã‰ª∂ÂØπË±°\r\n    * //lml\r\n    */\n    handleClickRight(event) {\n      console.log('Êñá‰ª∂Â±ïÁ§∫Âå∫ÂüüÁöÑÁ©∫ÁôΩÂ§ÑÂè≥ÈîÆ‰∫ã‰ª∂:');\n      event.preventDefault();\n      // Âè™ÊúâÂú®ÂÖ®ÈÉ®È°µÈù¢ÊâçÂèØ‰ª•ËøõË°å‰ª•‰∏ãÊìç‰Ωú\n      if (![6, 8].includes(this.fileType)) {\n        this.$openBox.contextMenu({\n          selectedFile: undefined,\n          domEvent: event,\n          serviceEl: this\n        }).then(res => {\n          if (res === 'confirm') {\n            this.getTableDataByType(); // ¬†Âà∑Êñ∞Êñá‰ª∂ÂàóË°®\n            // this.$store.dispatch('showStorage') // ¬†Âà∑Êñ∞Â≠òÂÇ®ÂÆπÈáè\n          }\n        });\n      }\n    },\n    /**\r\n     * Ë°®Ê†ºÊï∞ÊçÆËé∑ÂèñÁõ∏ÂÖ≥‰∫ã‰ª∂ | Ë∞ÉÊï¥ÂàÜÈ°µÂ§ßÂ∞è\r\n     */\n    setPageCount() {\n      this.pageData.currentPage = 1;\n      if (this.fileModel === 0) {\n        this.pageData.pageCount = 50;\n      }\n      if (this.fileModel === 1) {\n        this.pageData.pageCount = 100;\n      }\n    },\n    /**\r\n     * Ë°®Ê†ºÊï∞ÊçÆËé∑ÂèñÁõ∏ÂÖ≥‰∫ã‰ª∂ | Ëé∑ÂèñÊñá‰ª∂ÂàóË°®Êï∞ÊçÆ\r\n     * lml\r\n     */\n    getTableDataByType() {\n      this.loading = true;\n      console.log('getTableDataByType===');\n      // ÂàÜÁ±ªÂûã\n      if (Number(this.fileType)) {\n        switch (Number(this.fileType)) {\n          case 6:\n            {\n              this.showFileRecovery(); // ¬†ÂõûÊî∂Á´ô\n              break;\n            }\n          case 8:\n            {\n              this.showMyShareFile(); // ¬†ÊàëÁöÑÂàÜ‰∫´\n              break;\n            }\n          default:\n            {\n              this.showFileList();\n              break;\n            }\n        }\n      } else {\n        // ÂÖ®ÈÉ®Êñá‰ª∂\n        this.showFileList();\n      }\n      // this.$store.dispatch('showStorage')\n    },\n    /**\r\n     * Ë°®Ê†ºÊï∞ÊçÆËé∑ÂèñÁõ∏ÂÖ≥‰∫ã‰ª∂ | Ëé∑ÂèñÂΩìÂâçË∑ØÂæÑ‰∏ãÁöÑÊñá‰ª∂ÂàóË°®\r\n     */\n    showFileList() {\n      console.log('showFileList==');\n      let data = {\n        fileType: this.fileType,\n        filePath: this.filePath,\n        currentPage: this.pageData.currentPage,\n        pageCount: this.pageData.pageCount\n      };\n      if (this.refreshData) {\n        data.fileType = this.refreshData;\n      }\n      (0, _file.getFileListByPath)(data).then(res => {\n        if (res && res.data && res.data.code === 200) {\n          this.fileList = res.data.data.records;\n          this.pageData.total = Number(res.data.data.total);\n          this.loading = false;\n        } else {\n          this.loading = false;\n          this.$message.error(res.data.message);\n        }\n      }).finally(res => {\n        this.loading = false;\n      });\n    },\n    /**\r\n     * Ë°®Ê†ºÊï∞ÊçÆËé∑ÂèñÁõ∏ÂÖ≥‰∫ã‰ª∂ | ÂàÜÈ°µÁªÑ‰ª∂ | ÂΩìÂâçÈ°µÁ†ÅÊîπÂèò\r\n     * * //lml\r\n     */\n    handleCurrentChange(currentPage) {\n      this.pageData.currentPage = currentPage;\n      this.getTableDataByType();\n    },\n    /**\r\n     * Ë°®Ê†ºÊï∞ÊçÆËé∑ÂèñÁõ∏ÂÖ≥‰∫ã‰ª∂ | ÂàÜÈ°µÁªÑ‰ª∂ | È°µÂ§ßÂ∞èÊîπÂèòÊó∂\r\n     * //lml\r\n     */\n    handleSizeChange(pageCount) {\n      this.pageData.pageCount = pageCount;\n      this.getTableDataByType();\n    },\n    /**\r\n     * Ë°®Ê†ºÊï∞ÊçÆËé∑ÂèñÁõ∏ÂÖ≥‰∫ã‰ª∂ | Ëé∑ÂèñÂõûÊî∂Á´ôÊñá‰ª∂ÂàóË°®\r\n     */\n    showFileRecovery() {\n      console.log('showFileRecovery==');\n      (0, _file.getRecoveryFile)().then(res => {\n        console.log('data1=', res);\n        if (res.success) {\n          this.fileList = res.dataList;\n          this.loading = false;\n        } else {\n          this.$message.error(res.message);\n        }\n      });\n    },\n    /**\r\n     * Ë°®Ê†ºÊï∞ÊçÆËé∑ÂèñÁõ∏ÂÖ≥‰∫ã‰ª∂ | Ëé∑ÂèñÊàëÁöÑÂàÜ‰∫´ÂàóË°®\r\n     */\n    showMyShareFile() {\n      console.log('showMyShareFile==');\n      let data = {\n        shareFilePath: this.filePath,\n        shareBatchNum: this.$route.query.shareBatchNum,\n        currentPage: this.pageData.currentPage,\n        pageCount: this.pageData.pageCount\n      };\n      (0, _file.getMyShareFileList)(data).then(res => {\n        if (res.success) {\n          this.fileList = res.dataList;\n          this.pageData.total = Number(res.total);\n          this.loading = false;\n        } else {\n          this.$message.error(res.message);\n        }\n      });\n    },\n    /**\r\n     * Ë°®Ê†ºÊï∞ÊçÆËé∑ÂèñÁõ∏ÂÖ≥‰∫ã‰ª∂ | Ê†πÊçÆÊñá‰ª∂Á±ªÂûãÂ±ïÁ§∫Êñá‰ª∂ÂàóË°®\r\n     */\n    showFileListByType() {\n      console.log('showFileListByType==');\n      // ¬†ÂàÜÁ±ªÂûã\n      let data = {\n        fileType: this.fileType,\n        currentPage: this.pageData.currentPage,\n        pageCount: this.pageData.pageCount\n      };\n      if (res.success) {\n        this.fileList = res.dataList;\n        this.pageData.total = Number(res.total);\n        this.loading = false;\n      } else {\n        this.$message.error(res.message);\n      }\n    },\n    /**\r\n     * Ëé∑ÂèñÊêúÁ¥¢Êñá‰ª∂ÁªìÊûúÂàóË°®\r\n     * @param {string} fileName Êñá‰ª∂ÂêçÁß∞\r\n     */\n    getSearchFileList(fileName) {\n      this.loading = true;\n      (0, _file.searchFile)({\n        currentPage: this.pageData.currentPage,\n        pageCount: this.pageData.pageCount,\n        fileName: fileName\n      }).then(res => {\n        this.loading = false;\n        if (res.success) {\n          this.fileList = res.dataList.map(item => {\n            return {\n              ...item,\n              highlightFields: item.highLight.fileName[0]\n            };\n          });\n          this.pageData.total = res.data.totalHits;\n        } else {\n          this.$message.error(res.message);\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["_FileList","_interopRequireDefault","require","_BreadCrumb","_FileTable","_OperationMenu","_FileGrid","_FileTimeLine","_file","_default","exports","default","name","components","FileTable","OperationMenu","FileGrid","BreadCrumb","FileTimeLine","data","isRefreshData","fileNameSearch","loading","fileList","pageData","currentPage","pageCount","total","created","setPageCount","getTableDataByType","watch","filePath","$route","includes","fileType","fileModel","refreshData","newVal","console","log","showFileList","computed","query","Number","$store","getters","screenWidth","state","common","methods","handleSelect","key","$router","push","handleClickRight","event","preventDefault","$openBox","contextMenu","selectedFile","undefined","domEvent","serviceEl","then","res","showFileRecovery","showMyShareFile","getFileListByPath","code","records","$message","error","message","finally","handleCurrentChange","handleSizeChange","getRecoveryFile","success","dataList","shareFilePath","shareBatchNum","getMyShareFileList","showFileListByType","getSearchFileList","fileName","searchFile","map","item","highlightFields","highLight","totalHits"],"sources":["src/views/DocsView.vue"],"sourcesContent":["<template>\r\n  <div class=\"pan-container tech-bg-dark\">\r\n    <el-menu :default-active=\"String(fileType)\" class=\"side-menu tech-side-menu\" @select=\"handleSelect\">\r\n      <el-menu-item index=\"0\">\r\n        <i class=\"tech-icon-nav el-icon-folder\"></i> üìÅ ÂÖ®ÈÉ®\r\n      </el-menu-item>\r\n      <el-menu-item index=\"1\">\r\n        <i class=\"tech-icon-nav el-icon-picture-outline\"></i> üñºÔ∏è ÂõæÁâá\r\n      </el-menu-item>\r\n      <el-menu-item index=\"2\">\r\n        <i class=\"tech-icon-nav el-icon-document\"></i> üìÑ ÊñáÊ°£\r\n      </el-menu-item>\r\n      <el-menu-item index=\"3\">\r\n        <i class=\"tech-icon-nav el-icon-video-camera\"></i> üé¨ ËßÜÈ¢ë\r\n      </el-menu-item>\r\n      <el-menu-item index=\"4\">\r\n        <i class=\"tech-icon-nav el-icon-headset\"></i> üéµ Èü≥‰πê\r\n      </el-menu-item>\r\n      <el-menu-item index=\"5\">\r\n        <i class=\"tech-icon-nav el-icon-takeaway-box\"></i> üì¶ ÂÖ∂‰ªñ\r\n      </el-menu-item>\r\n      <el-menu-item index=\"6\">\r\n        <i class=\"tech-icon-nav el-icon-delete\"></i> üóëÔ∏è ÂõûÊî∂Á´ô\r\n      </el-menu-item>\r\n      <el-menu-item index=\"8\">\r\n        <i class=\"tech-icon-nav el-icon-share\"></i> ‚ú® ÊàëÁöÑÂàÜ‰∫´\r\n      </el-menu-item>\r\n    </el-menu>\r\n\r\n    <div class=\"content tech-content-area\">\r\n\r\n      <div class=\"file-list-wrapper\">\r\n        <el-header height=\"auto\" class=\"tech-header-pad\">\r\n          <OperationMenu :fileType=\"fileType\" :filePath=\"filePath\" @getSearchFileList=\"getSearchFileList\"\r\n            @getTableDataByType=\"getTableDataByType\"></OperationMenu>\r\n        </el-header>\r\n        \r\n        <div class=\"middle-wrapper\">\r\n          <BreadCrumb class=\"breadcrumb\" :fileType=\"fileType\" :filePath=\"filePath\"\r\n            @getTableDataByType=\"getTableDataByType\"></BreadCrumb>\r\n        </div>\r\n        \r\n        <FileTable :fileType=\"fileType\" :filePath=\"filePath\" :fileList=\"fileList\" :loading.sync=\"loading\"\r\n          v-if=\"fileModel === 0\" @getTableDataByType=\"getTableDataByType\" @click.native.right=\"handleClickRight\">\r\n        </FileTable>\r\n        \r\n        <FileGrid :fileType=\"fileType\" :filePath=\"filePath\" :fileList=\"fileList\" :loading=\"loading\"\r\n          v-if=\"fileModel === 1\" @getTableDataByType=\"getTableDataByType\" @click.native.right=\"handleClickRight\">\r\n        </FileGrid>\r\n        \r\n        <FileTimeLine class=\"image-model\" :fileList=\"fileList\" :loading.sync=\"loading\"\r\n          v-if=\"fileModel === 2 && fileType === 1\" @getTableDataByType=\"getTableDataByType\"\r\n          @click.native.right=\"handleClickRight\"></FileTimeLine>\r\n        \r\n        <div class=\"pagination-wrapper tech-pagination-bar\">\r\n          <div class=\"current-page-count sub-text-dark\"></div>\r\n          <el-pagination :current-page=\"pageData.currentPage\" :page-size=\"pageData.pageCount\" :total=\"pageData.total\"\r\n            :page-sizes=\"[10, 50, 100, 200]\" :layout=\"screenWidth <= 768\r\n              ? 'total, prev, next, jumper'\r\n              : 'sizes, total, prev, pager, next'\r\n              \" @current-change=\"handleCurrentChange\" @size-change=\"handleSizeChange\" v-if=\"fileType !== 6\">\r\n          </el-pagination>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// (JS‰ª£Á†Å‰øùÊåÅ‰∏çÂèò)\r\nimport FileList from '@/components/file/FileList.vue'\r\nimport BreadCrumb from '@/components/file/components/BreadCrumb.vue'\r\nimport FileTable from '@/components/file/FileTable.vue'\r\nimport OperationMenu from '@/components/file/OperationMenu.vue'\r\nimport FileGrid from '@/components/file/components/FileGrid.vue'\r\nimport FileTimeLine from '@/components/file/components/FileTimeLine.vue'\r\nimport {\r\n  getFileListByPath,\r\n  getFileListByType,\r\n  getRecoveryFile,\r\n  getMyShareFileList,\r\n  searchFile\r\n} from '@/api/file.js'\r\nexport default {\r\n  name: \"Pan\",\r\n  // components: { FileList,},\r\n  components: {\r\n    FileTable,\r\n    OperationMenu,\r\n    FileGrid,\r\n    BreadCrumb,\r\n    FileTimeLine\r\n  },\r\n  data() {\r\n    return {\r\n      isRefreshData: \"\",\r\n\r\n      fileNameSearch: '',\r\n      loading: true, // ¬†Ë°®Ê†ºÊï∞ÊçÆ-loading\r\n      fileList: [], // ¬†Ë°®Ê†ºÊï∞ÊçÆ-Êñá‰ª∂ÂàóË°®\r\n      // ÂàÜÈ°µÊï∞ÊçÆ\r\n      pageData: {\r\n        currentPage: 1,\r\n        pageCount: 50,\r\n        total: 0\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.setPageCount()\r\n    //lml\r\n    this.getTableDataByType()\r\n  },\r\n  watch: {\r\n    //lml\r\n    filePath() {\r\n      // ÂΩìÂ∑¶‰æßËèúÂçïÈÄâÊã©‚ÄúÂÖ®ÈÉ®‚ÄùÊàñ‚ÄúÊàëÁöÑÂàÜ‰∫´‚ÄùÔºåÊñá‰ª∂Ë∑ØÂæÑÂèëÁîüÂèòÂåñÊó∂ÔºåÂÜçÈáçÊñ∞Ëé∑ÂèñÊñá‰ª∂ÂàóË°®\r\n      if (this.$route.name === 'File' && [0, 8].includes(this.fileType)) {\r\n        this.setPageCount()\r\n        this.getTableDataByType()\r\n      }\r\n    },\r\n    //lml\r\n    fileType() {\r\n      if (this.$route.name === 'File') {\r\n        this.setPageCount()\r\n        this.getTableDataByType()\r\n      }\r\n    },\r\n    // ÁõëÂê¨Êñá‰ª∂Êü•ÁúãÊ®°Âºè\r\n    fileModel() {\r\n      this.setPageCount()\r\n    },\r\n    refreshData(newVal) {\r\n      // ÊØèÂΩì message ÂèòÂåñÔºåÊâßË°åÈÄªËæë\r\n      console.log('Áà∂ÁªÑ‰ª∂‰º†ÂÄºÂèòÂåñ:', newVal)\r\n\r\n      this.showFileList()\r\n    }\r\n  },\r\n  computed: {\r\n    // Â∑¶‰æßËèúÂçïÈÄâ‰∏≠ÁöÑÊñá‰ª∂Á±ªÂûã\r\n    fileType() {\r\n      return this.$route.query.fileType ? Number(this.$route.query.fileType) : 0\r\n    },\r\n    // ÂΩìÂâçÊâÄÂú®Ë∑ØÂæÑ\r\n    filePath() {\r\n      return this.$route.query.filePath ? this.$route.query.filePath : '/'\r\n    },\r\n    // Êñá‰ª∂Êü•ÁúãÊ®°Âºè 0ÂàóË°®Ê®°Âºè 1ÁΩëÊ†ºÊ®°Âºè 2 Êó∂Èó¥Á∫øÊ®°Âºè\r\n    fileModel() {\r\n      return this.$store.getters.fileModel\r\n    },\r\n    // Â±èÂπïÂÆΩÂ∫¶\r\n    screenWidth() {\r\n      return this.$store.state.common.screenWidth\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    handleSelect(key) {\r\n      const fileType = Number(key);\r\n\r\n      this.$router.push({\r\n        name: this.$route.name,\r\n        query: {\r\n          ...this.$route.query,\r\n          fileType: fileType,\r\n          filePath: '/' // ÂèØÈÄâÔºöÈáçÁΩÆË∑ØÂæÑÔºå‰πüÂèØ‰ª•‰øùÁïôÂΩìÂâç filePath\r\n        }\r\n      });\r\n    },\r\n    /**\r\n * Êñá‰ª∂Â±ïÁ§∫Âå∫ÂüüÁöÑÁ©∫ÁôΩÂ§ÑÂè≥ÈîÆ‰∫ã‰ª∂\r\n * @param {Document} event Âè≥ÈîÆ‰∫ã‰ª∂ÂØπË±°\r\n * //lml\r\n */\r\n    handleClickRight(event) {\r\n      console.log('Êñá‰ª∂Â±ïÁ§∫Âå∫ÂüüÁöÑÁ©∫ÁôΩÂ§ÑÂè≥ÈîÆ‰∫ã‰ª∂:')\r\n      event.preventDefault()\r\n      // Âè™ÊúâÂú®ÂÖ®ÈÉ®È°µÈù¢ÊâçÂèØ‰ª•ËøõË°å‰ª•‰∏ãÊìç‰Ωú\r\n      if (![6, 8].includes(this.fileType)) {\r\n        this.$openBox\r\n          .contextMenu({\r\n            selectedFile: undefined,\r\n            domEvent: event,\r\n            serviceEl: this\r\n          })\r\n          .then((res) => {\r\n            if (res === 'confirm') {\r\n              this.getTableDataByType() // ¬†Âà∑Êñ∞Êñá‰ª∂ÂàóË°®\r\n              // this.$store.dispatch('showStorage') // ¬†Âà∑Êñ∞Â≠òÂÇ®ÂÆπÈáè\r\n            }\r\n          })\r\n      }\r\n    },\r\n    /**\r\n     * Ë°®Ê†ºÊï∞ÊçÆËé∑ÂèñÁõ∏ÂÖ≥‰∫ã‰ª∂ | Ë∞ÉÊï¥ÂàÜÈ°µÂ§ßÂ∞è\r\n     */\r\n    setPageCount() {\r\n      this.pageData.currentPage = 1\r\n      if (this.fileModel === 0) {\r\n        this.pageData.pageCount = 50\r\n      }\r\n      if (this.fileModel === 1) {\r\n        this.pageData.pageCount = 100\r\n      }\r\n    },\r\n    /**\r\n     * Ë°®Ê†ºÊï∞ÊçÆËé∑ÂèñÁõ∏ÂÖ≥‰∫ã‰ª∂ | Ëé∑ÂèñÊñá‰ª∂ÂàóË°®Êï∞ÊçÆ\r\n     * lml\r\n     */\r\n    getTableDataByType() {\r\n      this.loading = true\r\n      console.log('getTableDataByType===')\r\n      // ÂàÜÁ±ªÂûã\r\n      if (Number(this.fileType)) {\r\n        switch (Number(this.fileType)) {\r\n          case 6: {\r\n            this.showFileRecovery() // ¬†ÂõûÊî∂Á´ô\r\n            break\r\n          }\r\n          case 8: {\r\n            this.showMyShareFile() // ¬†ÊàëÁöÑÂàÜ‰∫´\r\n            break\r\n          }\r\n          default: {\r\n            this.showFileList()\r\n            break\r\n          }\r\n        }\r\n      } else {\r\n        // ÂÖ®ÈÉ®Êñá‰ª∂\r\n        this.showFileList()\r\n      }\r\n      // this.$store.dispatch('showStorage')\r\n    },\r\n    /**\r\n     * Ë°®Ê†ºÊï∞ÊçÆËé∑ÂèñÁõ∏ÂÖ≥‰∫ã‰ª∂ | Ëé∑ÂèñÂΩìÂâçË∑ØÂæÑ‰∏ãÁöÑÊñá‰ª∂ÂàóË°®\r\n     */\r\n    showFileList() {\r\n      console.log('showFileList==')\r\n      let data = {\r\n        fileType: this.fileType,\r\n        filePath: this.filePath,\r\n        currentPage: this.pageData.currentPage,\r\n        pageCount: this.pageData.pageCount\r\n      }\r\n      if (this.refreshData) {\r\n        data.fileType = this.refreshData\r\n      }\r\n      getFileListByPath(data).then((res) => {\r\n        if (res && res.data && res.data.code === 200) {\r\n          this.fileList = res.data.data.records\r\n          this.pageData.total = Number(res.data.data.total)\r\n          this.loading = false\r\n        } else {\r\n          this.loading = false\r\n          this.$message.error(res.data.message)\r\n        }\r\n      }).finally(res => {\r\n        this.loading = false\r\n      })\r\n    },\r\n    /**\r\n     * Ë°®Ê†ºÊï∞ÊçÆËé∑ÂèñÁõ∏ÂÖ≥‰∫ã‰ª∂ | ÂàÜÈ°µÁªÑ‰ª∂ | ÂΩìÂâçÈ°µÁ†ÅÊîπÂèò\r\n     * * //lml\r\n     */\r\n    handleCurrentChange(currentPage) {\r\n      this.pageData.currentPage = currentPage\r\n      this.getTableDataByType()\r\n    },\r\n    /**\r\n     * Ë°®Ê†ºÊï∞ÊçÆËé∑ÂèñÁõ∏ÂÖ≥‰∫ã‰ª∂ | ÂàÜÈ°µÁªÑ‰ª∂ | È°µÂ§ßÂ∞èÊîπÂèòÊó∂\r\n     * //lml\r\n     */\r\n    handleSizeChange(pageCount) {\r\n      this.pageData.pageCount = pageCount\r\n      this.getTableDataByType()\r\n    },\r\n    /**\r\n     * Ë°®Ê†ºÊï∞ÊçÆËé∑ÂèñÁõ∏ÂÖ≥‰∫ã‰ª∂ | Ëé∑ÂèñÂõûÊî∂Á´ôÊñá‰ª∂ÂàóË°®\r\n     */\r\n    showFileRecovery() {\r\n      console.log('showFileRecovery==')\r\n      getRecoveryFile().then((res) => {\r\n        console.log('data1=',res)\r\n        if (res.success) {\r\n          this.fileList = res.dataList\r\n          this.loading = false\r\n        } else {\r\n          this.$message.error(res.message)\r\n        }\r\n      })\r\n    },\r\n    /**\r\n     * Ë°®Ê†ºÊï∞ÊçÆËé∑ÂèñÁõ∏ÂÖ≥‰∫ã‰ª∂ | Ëé∑ÂèñÊàëÁöÑÂàÜ‰∫´ÂàóË°®\r\n     */\r\n    showMyShareFile() {\r\n      console.log('showMyShareFile==')\r\n      let data = {\r\n        shareFilePath: this.filePath,\r\n        shareBatchNum: this.$route.query.shareBatchNum,\r\n        currentPage: this.pageData.currentPage,\r\n        pageCount: this.pageData.pageCount\r\n      }\r\n      getMyShareFileList(data).then((res) => {\r\n        if (res.success) {\r\n          this.fileList = res.dataList\r\n          this.pageData.total = Number(res.total)\r\n          this.loading = false\r\n        } else {\r\n          this.$message.error(res.message)\r\n        }\r\n      })\r\n    },\r\n    /**\r\n     * Ë°®Ê†ºÊï∞ÊçÆËé∑ÂèñÁõ∏ÂÖ≥‰∫ã‰ª∂ | Ê†πÊçÆÊñá‰ª∂Á±ªÂûãÂ±ïÁ§∫Êñá‰ª∂ÂàóË°®\r\n     */\r\n    showFileListByType() {\r\n      console.log('showFileListByType==')\r\n      // ¬†ÂàÜÁ±ªÂûã\r\n      let data = {\r\n        fileType: this.fileType,\r\n        currentPage: this.pageData.currentPage,\r\n        pageCount: this.pageData.pageCount\r\n      }\r\n      if (res.success) {\r\n        this.fileList = res.dataList\r\n        this.pageData.total = Number(res.total)\r\n        this.loading = false\r\n      } else {\r\n        this.$message.error(res.message)\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Ëé∑ÂèñÊêúÁ¥¢Êñá‰ª∂ÁªìÊûúÂàóË°®\r\n     * @param {string} fileName Êñá‰ª∂ÂêçÁß∞\r\n     */\r\n    getSearchFileList(fileName) {\r\n      this.loading = true\r\n      searchFile({\r\n        currentPage: this.pageData.currentPage,\r\n        pageCount: this.pageData.pageCount,\r\n        fileName: fileName\r\n      }).then((res) => {\r\n        this.loading = false\r\n        if (res.success) {\r\n          this.fileList = res.dataList.map((item) => {\r\n            return {\r\n              ...item,\r\n              highlightFields: item.highLight.fileName[0]\r\n            }\r\n          })\r\n          this.pageData.total = res.data.totalHits\r\n        } else {\r\n          this.$message.error(res.message)\r\n        }\r\n      })\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n/* ================= ËµõÂçöÊúãÂÖã‰∏ªÈ¢òÂèòÈáè (ÈáçÂ§ç‰ª•‰æøÁã¨Á´ãË∞ÉËØï) ================= */\r\n@bg-dark: #0f1219;\r\n@bg-panel: rgba(26, 31, 44, 0.7);\r\n@primary-color: #00f2ff; /* Cyber Cyan */\r\n@accent-color: #7d2ae8;  /* Neon Purple */\r\n@text-main: #e2e8f0; // ÊµÖËâ≤‰∏ªÊñáÊú¨\r\n@text-sub: #94a3b8;  // ËæÖÂä©ÊñáÊú¨\r\n@border-color: rgba(255, 255, 255, 0.08);\r\n\r\n/* ================= Êï¥‰ΩìÂ∏ÉÂ±ÄÂíåËÉåÊôØ ================= */\r\n.pan-container {\r\n  display: flex;\r\n  height: 75vh;\r\n  overflow: hidden;\r\n\r\n  &.tech-bg-dark {\r\n    background-color: @bg-dark;\r\n  }\r\n}\r\n\r\n.content {\r\n  flex: 1;\r\n  padding: 20px;\r\n  overflow-y: auto;\r\n  position: relative;\r\n  // Â∫ïÈÉ®ÁïôÂá∫ÂàÜÈ°µÁªÑ‰ª∂ÁöÑÈ´òÂ∫¶\r\n  padding-bottom: 70px;\r\n\r\n  &.tech-content-area {\r\n    background-color: rgba(0, 0, 0, 0.1); // ËΩªÂæÆÁöÑÈÄèÊòéÂ∫¶\r\n    border-left: 1px solid @border-color;\r\n  }\r\n}\r\n\r\n.tech-header-pad {\r\n  margin-bottom: 15px;\r\n  padding: 0;\r\n}\r\n\r\n/* ================= Â∑¶‰æßÂØºËà™ (el-menu) Ê†∑ÂºèË¶ÜÁõñ ================= */\r\n.side-menu {\r\n  width: 180px;\r\n  min-width: 150px;\r\n  border-right: 1px solid #eee;\r\n}\r\n\r\n.tech-side-menu {\r\n  background-color: @bg-dark !important;\r\n  border-right: 1px solid @border-color !important;\r\n  padding-top: 10px;\r\n\r\n  // ËèúÂçïÈ°π\r\n  ::v-deep .el-menu-item {\r\n    color: @text-main !important;\r\n    font-size: 14px;\r\n    height: 45px;\r\n    line-height: 45px;\r\n    transition: all 0.2s;\r\n    border-left: 3px solid transparent;\r\n    \r\n    // ÊÇ¨ÂÅúÊïàÊûú\r\n    &:hover {\r\n      background-color: rgba(0, 242, 255, 0.1) !important;\r\n      color: @primary-color !important;\r\n    }\r\n\r\n    // ÈÄâ‰∏≠Áä∂ÊÄÅ\r\n    &.is-active {\r\n      background-color: rgba(0, 242, 255, 0.15) !important;\r\n      color: @primary-color !important;\r\n      border-left: 3px solid @primary-color;\r\n      font-weight: 600;\r\n      text-shadow: 0 0 5px rgba(0, 242, 255, 0.5);\r\n    }\r\n  }\r\n\r\n  // ËèúÂçïÈ°π‰∏≠ÁöÑÂõæÊ†áÈ¢úËâ≤\r\n  .tech-icon-nav {\r\n      color: @accent-color;\r\n      margin-right: 5px;\r\n  }\r\n  .el-menu-item.is-active .tech-icon-nav {\r\n      color: @primary-color;\r\n  }\r\n}\r\n\r\n/* ================= Êñá‰ª∂ÂàóË°®Âå∫Âüü ================= */\r\n.file-list-wrapper {\r\n  position: relative;\r\n\r\n  .middle-wrapper {\r\n    margin-bottom: 8px;\r\n  }\r\n}\r\n\r\n/* ================= Â∫ïÈÉ®Âõ∫ÂÆöÂàÜÈ°µÊ†è (el-pagination) ================= */\r\n.pagination-wrapper {\r\n  position: fixed;\r\n  bottom: 0;\r\n  // Ë∞ÉÊï¥ left ‰ª•ÈÄÇÂ∫î‰æßËæπÊ†èÂÆΩÂ∫¶\r\n  left: 180px; \r\n  right: 0;\r\n  height: 60px;\r\n  padding: 0 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  z-index: 100; // Á°Æ‰øùÂú®Êñá‰ª∂ÂàóË°®‰πã‰∏ä\r\n}\r\n\r\n.tech-pagination-bar {\r\n  background: rgba(15, 18, 25, 0.95) !important; // ‰ΩøÁî®Ê∑±Ëâ≤ËÉåÊôØÔºåÁï•Â∏¶ÈÄèÊòé\r\n  border-top: 1px solid @border-color;\r\n  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.5);\r\n\r\n  .current-page-count {\r\n    font-size: 13px;\r\n    color: @text-sub;\r\n    white-space: nowrap;\r\n  }\r\n  \r\n  // Ë¶ÜÁõñ Element UI ÂàÜÈ°µÁªÑ‰ª∂Ê†∑Âºè\r\n  ::v-deep(.el-pagination) {\r\n    flex-shrink: 0;\r\n    \r\n    // Êï¥‰ΩìÊñáÂ≠óÈ¢úËâ≤\r\n    .el-pagination__total, .el-pagination__sizes, .el-pagination__jump {\r\n        color: @text-sub !important;\r\n    }\r\n\r\n    // È°µÁ†ÅÊåâÈíÆ\r\n    .btn-prev, .btn-next, .el-pager li {\r\n        background: transparent !important;\r\n        color: @text-main !important;\r\n        border: 1px solid transparent;\r\n        transition: all 0.2s;\r\n        \r\n        &:hover {\r\n            color: @primary-color !important;\r\n        }\r\n    }\r\n    \r\n    // ÈÄâ‰∏≠È°µÁ†Å\r\n    .el-pager li.active {\r\n        color: @primary-color !important;\r\n        font-weight: bold;\r\n        border: 1px solid @primary-color !important;\r\n        background-color: rgba(0, 242, 255, 0.1) !important;\r\n        border-radius: 4px;\r\n        text-shadow: 0 0 5px rgba(0, 242, 255, 0.5);\r\n    }\r\n\r\n    // È°µÂ§ßÂ∞èÈÄâÊã©Âô®\r\n    .el-input__inner {\r\n      background-color: rgba(255, 255, 255, 0.1) !important;\r\n      border-color: @border-color !important;\r\n      color: @text-main !important;\r\n    }\r\n  }\r\n}\r\n\r\n.middle-wrapper {\r\n    margin-bottom: 15px !important;\r\n}\r\n\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}