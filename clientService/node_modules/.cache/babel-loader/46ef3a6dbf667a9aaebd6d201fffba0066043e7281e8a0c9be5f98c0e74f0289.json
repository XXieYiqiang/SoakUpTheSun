{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Administrator/Desktop/GimChat/front/gim-chat/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.iterator.constructor.js\");\nrequire(\"core-js/modules/es.iterator.for-each.js\");\nvar _sparkMd = _interopRequireDefault(require(\"spark-md5\"));\nvar _auth = require(\"@/utils/auth\");\nvar _default = exports.default = {\n  data() {\n    return {\n      params: {},\n      // ✅ 外部传入的参数\n      uploadWay: 0,\n      // ✅ 外部传入上传方式\n      serviceEl: null,\n      // ✅ 外部组件\n      callType: null,\n      // ✅ 外部调用方式\n      callback: () => {},\n      // ✅ 外部回调函数\n\n      uploadStatus: {},\n      options: {\n        target: '/api/filetransfer/uploadfile',\n        chunkSize: 1024 * 1024,\n        fileParameterName: 'file',\n        maxChunkRetries: 3,\n        testChunks: true,\n        checkChunkUploadedByResponse: function (chunk, message) {\n          let objMessage = JSON.parse(message);\n          // if (objMessage.success) {\n          if (objMessage.code === 200) {\n            let data = objMessage.data;\n            if (data.skipUpload) return true;\n            return (data.uploaded || []).indexOf(chunk.offset + 1) >= 0;\n          } else {\n            console.log('响应参数：');\n            console.log(objMessage);\n            console.log(objMessage.message);\n            return true;\n          }\n        },\n        headers: {\n          token: (0, _auth.getTokenType)() + ' ' + (0, _auth.getToken)()\n        },\n        query() {}\n      },\n      fileStatusText: {\n        success: '上传成功',\n        error: 'error',\n        uploading: '上传中',\n        paused: '暂停中',\n        waiting: '等待中'\n      },\n      attrs: {\n        accept: '*'\n      },\n      panelShow: false,\n      collapse: false,\n      dropBoxShow: false,\n      pasteImg: {\n        src: '',\n        name: ''\n      },\n      pasteImgObj: null,\n      filesLength: 0\n    };\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.handlePrepareUpload();\n    });\n  },\n  computed: {\n    uploaderInstance() {\n      return this.$refs.uploader?.uploader || null;\n    }\n  },\n  methods: {\n    // 隐藏拖拽上传遮罩\n    hideUploadMask(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      this.dropBoxShow = false;\n    },\n    handlePrepareUpload() {\n      this.options.headers.token = (0, _auth.getTokenType)() + ' ' + (0, _auth.getToken)();\n      switch (this.uploadWay) {\n        case 1:\n          this.$refs.uploadBtn?.$el?.click();\n          break;\n        case 2:\n          this.$refs.uploadDirBtn?.$el?.click();\n          break;\n        case 3:\n          this.pasteImg = {\n            src: '',\n            name: ''\n          };\n          this.pasteImgObj = null;\n          this.dropBoxShow = true;\n          break;\n      }\n    },\n    handleUploadPasteImg() {\n      this.uploaderInstance?.addFile(this.pasteImgObj);\n    },\n    handleDeletePasteImg() {\n      this.pasteImg = {\n        src: '',\n        name: ''\n      };\n      this.pasteImgObj = null;\n    },\n    handlePaste(event) {\n      const items = (event.clipboardData || window.clipboardData).items;\n      const imgObj = items?.[0]?.getAsFile();\n      if (!imgObj) {\n        this.$message.error('粘贴内容非图片');\n        return;\n      }\n      this.pasteImgObj = new File([imgObj], `upload_${Date.now()}.png`, {\n        type: imgObj.type\n      });\n      const reader = new FileReader();\n      reader.onload = e => {\n        this.pasteImg.src = e.target.result;\n        this.pasteImg.name = this.pasteImgObj.name;\n      };\n      reader.readAsDataURL(this.pasteImgObj);\n    },\n    handleFilesAdded(files) {\n      this.filesLength += files.length;\n      files.forEach(file => {\n        this.dropBoxShow = false;\n        this.panelShow = true;\n        this.collapse = false;\n        this.computeMD5(file);\n      });\n    },\n    computeMD5(file) {\n      const reader = new FileReader();\n      const blobSlice = File.prototype.slice || File.prototype.mozSlice || File.prototype.webkitSlice;\n      let currentChunk = 0;\n      const chunkSize = 1024 * 1024;\n      const chunks = Math.ceil(file.size / chunkSize);\n      const spark = new _sparkMd.default.ArrayBuffer();\n      this.uploadStatus[file.id] = '计算MD5';\n      file.pause();\n      const loadNext = () => {\n        const start = currentChunk * chunkSize;\n        const end = Math.min(start + chunkSize, file.size);\n        reader.readAsArrayBuffer(blobSlice.call(file.file, start, end));\n      };\n      reader.onload = e => {\n        spark.append(e.target.result);\n        if (++currentChunk < chunks) {\n          loadNext();\n          this.uploadStatus[file.id] = `校验MD5 ${(currentChunk / chunks * 100).toFixed(0)}%`;\n          this.uploadStatus = {\n            ...this.uploadStatus\n          };\n        } else {\n          this.calculateFileMD5End(spark.end(), file);\n        }\n      };\n      reader.onerror = () => {\n        this.$notify({\n          title: '错误',\n          message: `文件读取失败`,\n          type: 'error'\n        });\n        file.cancel();\n      };\n      loadNext();\n    },\n    calculateFileMD5End(md5, file) {\n      Object.assign(this.uploaderInstance.opts, {\n        query: {\n          ...this.params\n        }\n      });\n      file.uniqueIdentifier = md5;\n      file.resume();\n      this.uploadStatus[file.id] = '';\n      this.uploadStatus = {\n        ...this.uploadStatus\n      };\n    },\n    handleFileSuccess(rootFile, file, response) {\n      console.log(\"文件上传成功：\");\n      console.log(response);\n      let result = {};\n      try {\n        result = JSON.parse(response);\n      } catch {}\n      console.log('响应参数：');\n      console.log(result);\n      if (!result.code === 200) {\n        this.uploadStatus[file.id] = '上传失败';\n        this.$message.error(result.message || '上传失败');\n        return;\n      }\n      if (this.filesLength === 1) {\n        this.$message.success('上传完毕');\n        if (this.callType === 1) {\n          this.serviceEl?.$emit?.('getTableDataByType');\n        } else {\n          this.serviceEl?.getTableDataByType?.();\n        }\n        //计算文件上传 内存\n        // this.serviceEl?.$store?.dispatch('showStorage')\n        this.callback(true);\n      }\n      this.filesLength--;\n    },\n    handleFileError(rootFile, file, response) {\n      this.$message({\n        message: response,\n        type: 'error'\n      });\n    },\n    handleClosePanel() {\n      this.uploaderInstance?.cancel();\n      this.panelShow = false;\n      this.callback('cancel');\n    }\n  }\n};","map":{"version":3,"names":["_sparkMd","_interopRequireDefault","require","_auth","_default","exports","default","data","params","uploadWay","serviceEl","callType","callback","uploadStatus","options","target","chunkSize","fileParameterName","maxChunkRetries","testChunks","checkChunkUploadedByResponse","chunk","message","objMessage","JSON","parse","code","skipUpload","uploaded","indexOf","offset","console","log","headers","token","getTokenType","getToken","query","fileStatusText","success","error","uploading","paused","waiting","attrs","accept","panelShow","collapse","dropBoxShow","pasteImg","src","name","pasteImgObj","filesLength","mounted","$nextTick","handlePrepareUpload","computed","uploaderInstance","$refs","uploader","methods","hideUploadMask","e","stopPropagation","preventDefault","uploadBtn","$el","click","uploadDirBtn","handleUploadPasteImg","addFile","handleDeletePasteImg","handlePaste","event","items","clipboardData","window","imgObj","getAsFile","$message","File","Date","now","type","reader","FileReader","onload","result","readAsDataURL","handleFilesAdded","files","length","forEach","file","computeMD5","blobSlice","prototype","slice","mozSlice","webkitSlice","currentChunk","chunks","Math","ceil","size","spark","SparkMD5","ArrayBuffer","id","pause","loadNext","start","end","min","readAsArrayBuffer","call","append","toFixed","calculateFileMD5End","onerror","$notify","title","cancel","md5","Object","assign","opts","uniqueIdentifier","resume","handleFileSuccess","rootFile","response","$emit","getTableDataByType","handleFileError","handleClosePanel"],"sources":["src/components/file/box/uploadFile/Box.vue"],"sourcesContent":["<template>\r\n\t<div class=\"upload-file-wrapper\">\r\n\t\t<uploader class=\"uploader-app\" ref=\"uploader\" :options=\"options\" :autoStart=\"false\"\r\n\t\t\t:fileStatusText=\"fileStatusText\" @files-added=\"handleFilesAdded\" @file-success=\"handleFileSuccess\"\r\n\t\t\t@file-error=\"handleFileError\" @dragleave=\"hideUploadMask\">\r\n\t\t\t<uploader-unsupport />\r\n\t\t\t<uploader-btn class=\"select-file-btn\" :attrs=\"attrs\" ref=\"uploadBtn\">选择文件</uploader-btn>\r\n\t\t\t<uploader-btn class=\"select-file-btn\" :attrs=\"attrs\" :directory=\"true\"\r\n\t\t\t\tref=\"uploadDirBtn\">选择目录</uploader-btn>\r\n\t\t\t<uploader-drop class=\"drop-box\" id=\"dropBox\" @paste.native=\"handlePaste\" v-show=\"dropBoxShow\">\r\n\t\t\t\t<div class=\"paste-img-wrapper\" v-show=\"pasteImg.src\">\r\n\t\t\t\t\t<div class=\"paste-name\">{{ pasteImg.name }}</div>\r\n\t\t\t\t\t<img class=\"paste-img\" :src=\"pasteImg.src\" :alt=\"pasteImg.name\" v-if=\"pasteImg.src\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<span class=\"text\" v-show=\"!pasteImg.src\">截图粘贴或将文件拖拽至此区域上传</span>\r\n\t\t\t\t<i class=\"upload-icon el-icon-upload\" v-show=\"pasteImg.src\" @click=\"handleUploadPasteImg\">上传图片</i>\r\n\t\t\t\t<i class=\"delete-icon el-icon-delete\" v-show=\"pasteImg.src\" @click=\"handleDeletePasteImg\">删除图片</i>\r\n\t\t\t\t<i class=\"close-icon el-icon-circle-close\" @click=\"dropBoxShow = false\">关闭</i>\r\n\t\t\t</uploader-drop>\r\n\t\t\t<uploader-list v-show=\"panelShow\">\r\n\t\t\t\t<template v-slot:default=\"props\">\r\n\t\t\t\t\t<div class=\"file-panel\">\r\n\t\t\t\t\t\t<div class=\"file-title\">\r\n\t\t\t\t\t\t\t<span class=\"title-span\">上传列表<span class=\"count\">（{{ props.fileList.length }}）</span></span>\r\n\t\t\t\t\t\t\t<div class=\"operate\">\r\n\t\t\t\t\t\t\t\t<el-button type=\"text\" :title=\"collapse ? '展开' : '折叠'\"\r\n\t\t\t\t\t\t\t\t\t:icon=\"collapse ? 'el-icon-full-screen' : 'el-icon-minus'\"\r\n\t\t\t\t\t\t\t\t\t@click=\"collapse = !collapse\" />\r\n\t\t\t\t\t\t\t\t<el-button @click=\"handleClosePanel\" type=\"text\" title=\"关闭\" icon=\"el-icon-close\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<el-collapse-transition>\r\n\t\t\t\t\t\t\t<ul class=\"file-list\" v-show=\"!collapse\">\r\n\t\t\t\t\t\t\t\t<li class=\"file-item\" v-for=\"file in props.fileList\" :key=\"file.id\"\r\n\t\t\t\t\t\t\t\t\t:class=\"{ 'custom-status-item': uploadStatus[file.id] !== '' }\">\r\n\t\t\t\t\t\t\t\t\t<uploader-file ref=\"fileItem\" :file=\"file\" :list=\"true\" />\r\n\t\t\t\t\t\t\t\t\t<span class=\"custom-status\">{{ uploadStatus[file.id] }}</span>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<div class=\"no-file\" v-if=\"!props.fileList.length\">\r\n\t\t\t\t\t\t\t\t\t<i class=\"icon-empty-file\"></i> 暂无待上传文件\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</el-collapse-transition>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</template>\r\n\t\t\t</uploader-list>\r\n\t\t</uploader>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport SparkMD5 from 'spark-md5'\r\nimport { getToken,getTokenType} from '@/utils/auth'\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tparams: {},          // ✅ 外部传入的参数\r\n\t\t\tuploadWay: 0,        // ✅ 外部传入上传方式\r\n\t\t\tserviceEl: null,     // ✅ 外部组件\r\n\t\t\tcallType: null,      // ✅ 外部调用方式\r\n\t\t\tcallback: () => { },  // ✅ 外部回调函数\r\n\r\n\t\t\tuploadStatus: {},\r\n\t\t\toptions: {\r\n\t\t\t\ttarget: '/api/filetransfer/uploadfile',\r\n\t\t\t\tchunkSize: 1024 * 1024,\r\n\t\t\t\tfileParameterName: 'file',\r\n\t\t\t\tmaxChunkRetries: 3,\r\n\t\t\t\ttestChunks: true,\r\n\t\t\t\tcheckChunkUploadedByResponse: function (chunk, message) {\r\n\t\t\t\t\tlet objMessage = JSON.parse(message)\r\n\t\t\t\t\t// if (objMessage.success) {\r\n\t\t\t\t   if (objMessage.code === 200) {\r\n\t\t\t\t\t\tlet data = objMessage.data\r\n\t\t\t\t\t\tif (data.skipUpload) return true\r\n\t\t\t\t\t\treturn (data.uploaded || []).indexOf(chunk.offset + 1) >= 0\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log('响应参数：')\r\n\t\t\t\t\t\tconsole.log(objMessage)\r\n\t\t\t\t\t\tconsole.log(objMessage.message)\r\n\t\t\t\t\t\treturn true\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\theaders: {\r\n\t\t\t\t\ttoken: getTokenType()+ ' '+getToken(),\r\n\t\t\t\t},\r\n\t\t\t\tquery() { }\r\n\t\t\t},\r\n\t\t\tfileStatusText: {\r\n\t\t\t\tsuccess: '上传成功',\r\n\t\t\t\terror: 'error',\r\n\t\t\t\tuploading: '上传中',\r\n\t\t\t\tpaused: '暂停中',\r\n\t\t\t\twaiting: '等待中'\r\n\t\t\t},\r\n\t\t\tattrs: {\r\n\t\t\t\taccept: '*'\r\n\t\t\t},\r\n\t\t\tpanelShow: false,\r\n\t\t\tcollapse: false,\r\n\t\t\tdropBoxShow: false,\r\n\t\t\tpasteImg: { src: '', name: '' },\r\n\t\t\tpasteImgObj: null,\r\n\t\t\tfilesLength: 0\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tthis.handlePrepareUpload()\r\n\t\t})\r\n\t},\r\n\tcomputed: {\r\n\t\tuploaderInstance() {\r\n\t\t\treturn this.$refs.uploader?.uploader || null\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// 隐藏拖拽上传遮罩\r\n\t\thideUploadMask(e) {\r\n\t\t\te.stopPropagation()\r\n\t\t\te.preventDefault()\r\n\t\t\tthis.dropBoxShow = false\r\n\t\t},\r\n\t\thandlePrepareUpload() {\r\n\t\t\tthis.options.headers.token = getTokenType()+ ' '+getToken()\r\n\r\n\t\t\tswitch (this.uploadWay) {\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tthis.$refs.uploadBtn?.$el?.click()\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tthis.$refs.uploadDirBtn?.$el?.click()\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tthis.pasteImg = { src: '', name: '' }\r\n\t\t\t\t\tthis.pasteImgObj = null\r\n\t\t\t\t\tthis.dropBoxShow = true\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleUploadPasteImg() {\r\n\t\t\tthis.uploaderInstance?.addFile(this.pasteImgObj)\r\n\t\t},\r\n\t\thandleDeletePasteImg() {\r\n\t\t\tthis.pasteImg = { src: '', name: '' }\r\n\t\t\tthis.pasteImgObj = null\r\n\t\t},\r\n\t\thandlePaste(event) {\r\n\t\t\tconst items = (event.clipboardData || window.clipboardData).items\r\n\t\t\tconst imgObj = items?.[0]?.getAsFile()\r\n\t\t\tif (!imgObj) {\r\n\t\t\t\tthis.$message.error('粘贴内容非图片')\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tthis.pasteImgObj = new File([imgObj], `upload_${Date.now()}.png`, { type: imgObj.type })\r\n\t\t\tconst reader = new FileReader()\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tthis.pasteImg.src = e.target.result\r\n\t\t\t\tthis.pasteImg.name = this.pasteImgObj.name\r\n\t\t\t}\r\n\t\t\treader.readAsDataURL(this.pasteImgObj)\r\n\t\t},\r\n\t\thandleFilesAdded(files) {\r\n\t\t\tthis.filesLength += files.length\r\n\t\t\tfiles.forEach(file => {\r\n\t\t\t\tthis.dropBoxShow = false\r\n\t\t\t\tthis.panelShow = true\r\n\t\t\t\tthis.collapse = false\r\n\t\t\t\tthis.computeMD5(file)\r\n\t\t\t})\r\n\t\t},\r\n\t\tcomputeMD5(file) {\r\n\t\t\tconst reader = new FileReader()\r\n\t\t\tconst blobSlice = File.prototype.slice || File.prototype.mozSlice || File.prototype.webkitSlice\r\n\t\t\tlet currentChunk = 0\r\n\t\t\tconst chunkSize = 1024 * 1024\r\n\t\t\tconst chunks = Math.ceil(file.size / chunkSize)\r\n\t\t\tconst spark = new SparkMD5.ArrayBuffer()\r\n\t\t\tthis.uploadStatus[file.id] = '计算MD5'\r\n\t\t\tfile.pause()\r\n\r\n\t\t\tconst loadNext = () => {\r\n\t\t\t\tconst start = currentChunk * chunkSize\r\n\t\t\t\tconst end = Math.min(start + chunkSize, file.size)\r\n\t\t\t\treader.readAsArrayBuffer(blobSlice.call(file.file, start, end))\r\n\t\t\t}\r\n\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tspark.append(e.target.result)\r\n\t\t\t\tif (++currentChunk < chunks) {\r\n\t\t\t\t\tloadNext()\r\n\t\t\t\t\tthis.uploadStatus[file.id] = `校验MD5 ${(currentChunk / chunks * 100).toFixed(0)}%`\r\n\t\t\t\t\tthis.uploadStatus = { ...this.uploadStatus }\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.calculateFileMD5End(spark.end(), file)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treader.onerror = () => {\r\n\t\t\t\tthis.$notify({ title: '错误', message: `文件读取失败`, type: 'error' })\r\n\t\t\t\tfile.cancel()\r\n\t\t\t}\r\n\r\n\t\t\tloadNext()\r\n\t\t},\r\n\t\tcalculateFileMD5End(md5, file) {\r\n\t\t\tObject.assign(this.uploaderInstance.opts, {\r\n\t\t\t\tquery: { ...this.params }\r\n\t\t\t})\r\n\t\t\tfile.uniqueIdentifier = md5\r\n\t\t\tfile.resume()\r\n\t\t\tthis.uploadStatus[file.id] = ''\r\n\t\t\tthis.uploadStatus = { ...this.uploadStatus }\r\n\t\t},\r\n\t\thandleFileSuccess(rootFile, file, response) {\r\n\t\t\tconsole.log(\"文件上传成功：\")\r\n\t\t\tconsole.log(response)\r\n\t\t\tlet result = {}\r\n\t\t\ttry { result = JSON.parse(response) } catch { }\r\n\t\t\tconsole.log('响应参数：')\r\n\t\t\tconsole.log(result)\r\n\t\t\tif (!result.code === 200) {\r\n\t\t\t\tthis.uploadStatus[file.id] = '上传失败'\r\n\t\t\t\tthis.$message.error(result.message || '上传失败')\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif (this.filesLength === 1) {\r\n\t\t\t\tthis.$message.success('上传完毕')\r\n\t\t\t\tif (this.callType === 1) {\r\n\t\t\t\t\tthis.serviceEl?.$emit?.('getTableDataByType')\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.serviceEl?.getTableDataByType?.()\r\n\t\t\t\t}\r\n\t\t\t\t//计算文件上传 内存\r\n\t\t\t\t// this.serviceEl?.$store?.dispatch('showStorage')\r\n\t\t\t\tthis.callback(true)\r\n\t\t\t}\r\n\t\t\tthis.filesLength--\r\n\t\t},\r\n\t\thandleFileError(rootFile, file, response) {\r\n\t\t\tthis.$message({ message: response, type: 'error' })\r\n\t\t},\r\n\t\thandleClosePanel() {\r\n\t\t\tthis.uploaderInstance?.cancel()\r\n\t\t\tthis.panelShow = false\r\n\t\t\tthis.callback('cancel')\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n\r\n.upload-file-wrapper {\r\n  position: fixed;\r\n  z-index: 20;\r\n  right: 16px;\r\n  bottom: 16px;\r\n\r\n  .drop-box {\r\n    position: fixed;\r\n    z-index: 19;\r\n    top: 0;\r\n    left: 0;\r\n    border: 5px dashed #8091a5 !important;\r\n    background: #ffffffd9;\r\n    color: #8091a5 !important;\r\n    text-align: center;\r\n    box-sizing: border-box;\r\n    height: 100%;\r\n    line-height: 100%;\r\n    width: 100%;\r\n\r\n    .text {\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      width: 100%;\r\n      transform: translate(-50%, -50%);\r\n      font-size: 30px;\r\n    }\r\n\r\n    .upload-icon {\r\n      position: absolute;\r\n      right: 176px;\r\n      top: 16px;\r\n      cursor: pointer;\r\n\r\n      &:hover {\r\n        color: $Primary;\r\n      }\r\n    }\r\n\r\n    .delete-icon {\r\n      position: absolute;\r\n      right: 80px;\r\n      top: 16px;\r\n      cursor: pointer;\r\n\r\n      &:hover {\r\n        color: $Danger;\r\n      }\r\n    }\r\n\r\n    .close-icon {\r\n      position: absolute;\r\n      right: 16px;\r\n      top: 16px;\r\n      cursor: pointer;\r\n\r\n      &:hover {\r\n        color: $Success;\r\n      }\r\n    }\r\n\r\n    .paste-img-wrapper {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n\r\n    .paste-img {\r\n      margin-top: 16px;\r\n      max-width: 90%;\r\n      max-height: 80%;\r\n    }\r\n\r\n    .paste-name {\r\n      height: 24px;\r\n      line-height: 24px;\r\n      font-size: 18px;\r\n      color: $PrimaryText;\r\n    }\r\n  }\r\n\r\n  .uploader-app {\r\n    width: 560px;\r\n  }\r\n\r\n  .file-panel {\r\n    background-color: #fff;\r\n    border: 1px solid #e2e2e2;\r\n    border-radius: 7px 7px 0 0;\r\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\r\n\r\n    .file-title {\r\n      display: flex;\r\n      height: 40px;\r\n      line-height: 40px;\r\n      padding: 0 15px;\r\n      border-bottom: 1px solid #ddd;\r\n\r\n      .title-span {\r\n        padding-left: 0;\r\n        margin-bottom: 0;\r\n        font-size: 16px;\r\n\r\n        .count {\r\n          color: $SecondaryText;\r\n        }\r\n      }\r\n\r\n      .operate {\r\n        flex: 1;\r\n        text-align: right;\r\n\r\n        >>> .el-button--text {\r\n          color: $PrimaryText;\r\n\r\n          i[class^=el-icon-] {\r\n            font-weight: 600;\r\n          }\r\n\r\n          &:hover {\r\n            .el-icon-full-screen, .el-icon-minus {\r\n              color: $Success;\r\n            }\r\n\r\n            .el-icon-close {\r\n              color: $Danger;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .file-list {\r\n      position: relative;\r\n      height: 240px;\r\n      overflow-x: hidden;\r\n      overflow-y: auto;\r\n      background-color: #fff;\r\n      font-size: 12px;\r\n      list-style: none;\r\n      setScrollbar(6px, #EBEEF5, #C0C4CC);\r\n\r\n      .file-item {\r\n        position: relative;\r\n        background-color: #fff;\r\n\r\n        >>> .uploader-file {\r\n          height: 40px;\r\n          line-height: 40px;\r\n\r\n          .uploader-file-progress {\r\n            border: 1px solid $Success;\r\n            border-right: none;\r\n            border-left: none;\r\n            background: #e1f3d8;\r\n          }\r\n\r\n          .uploader-file-name {\r\n            width: 44%;\r\n          }\r\n\r\n          .uploader-file-size {\r\n            width: 16%;\r\n          }\r\n\r\n          .uploader-file-meta {\r\n            display: none;\r\n          }\r\n\r\n          .uploader-file-status {\r\n            width: 30%;\r\n            text-indent: 0;\r\n          }\r\n\r\n          .uploader-file-actions>span {\r\n            margin-top: 12px;\r\n          }\r\n        }\r\n\r\n        >>> .uploader-file[status='success'] {\r\n          .uploader-file-progress {\r\n            border: none;\r\n          }\r\n        }\r\n      }\r\n\r\n      .file-item.custom-status-item {\r\n        >>> .uploader-file-status {\r\n          visibility: hidden;\r\n        }\r\n\r\n        .custom-status {\r\n          position: absolute;\r\n          top: 0;\r\n          right: 10%;\r\n          width: 24%;\r\n          height: 40px;\r\n          line-height: 40px;\r\n        }\r\n      }\r\n    }\r\n\r\n    &.collapse {\r\n      .file-title {\r\n        background-color: #E7ECF2;\r\n      }\r\n    }\r\n  }\r\n\r\n  .no-file {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    font-size: 16px;\r\n  }\r\n\r\n  /deep/.uploader-file-icon {\r\n    display: none;\r\n  }\r\n\r\n  /deep/.uploader-file-actions > span {\r\n    margin-right: 6px;\r\n  }\r\n}\r\n\r\n/* 隐藏上传按钮 */\r\n.select-file-btn {\r\n  display: none;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}