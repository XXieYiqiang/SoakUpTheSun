{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _ai = require(\"@/api/ai\");\n// JavaScript 逻辑保持不变\nvar _default = exports.default = {\n  data() {\n    return {\n      loading: false,\n      // 控制 loading 状态\n      loadedTime: '',\n      // 存储加载完成时间\n      // 实时加载时长相关\n      startTime: 0,\n      // 请求开始时的时间戳\n      elapsedTime: '0.000s',\n      // 实时显示加载了多久\n      timerInterval: null,\n      // 用于存储 setInterval 的引用\n\n      videoStartTime: 0,\n      // 请求开始时的时间戳\n      videoElapsedTime: '0.000s',\n      // 实时显示加载了多久\n      videoTimerInterval: null,\n      startTime: null,\n      taskId: null,\n      labelPosition: 'top',\n      formData: {\n        title: '美女跳舞',\n        userPrompt: '美女跳舞',\n        videoStyle: '写实风格',\n        videoLength: '15'\n      },\n      videoKey: 0,\n      // 用来强制重新渲染视频播放器\n      playerOptions: {\n        techOrder: ['html5'],\n        sources: [{\n          type: 'video/mp4',\n          // src: 'https://vjs.zencdn.net/v/oceans.mp4',  // 视频源\n          // src: 'https://tempfile.aiquickdraw.com/f/aaebe9df5e951608796487abbaebd7a9/4481152c-38db-465e-87ab-ebb45dfe36cc.mp4'\n          src: 'https://tempfile.aiquickdraw.com/r/5407877d-1beb-450f-9f98-d250134c32fa_watermarked.mp4'\n        }],\n        poster: 'https://vjs.zencdn.net/v/oceans.png',\n        // 预览图\n        controls: true,\n        controlBar: {\n          children: ['playToggle', 'volumePanel', 'timeDivider', 'progressControl', 'fullscreenToggle'],\n          align: 'center'\n        }\n      },\n      // 模拟的时间线数据\n      // 更新后的分片信息数据\n      timelineData: [{\n        segmentTitle: '片段 1',\n        beginTime: '0',\n        // 模拟 API 返回的字符串秒数\n        endTime: '5',\n        // 模拟 API 返回的字符串秒数\n        segmentDescription: '分片描述信息',\n        segmentKeywords: '分片关键字1,分片关键字2',\n        shardingStyle: '超现实写实风格',\n        // 新增字段\n        fragmentedComposition: '分片构图信息',\n        // 新增字段\n        fragmentedLightAndShadow: '分片光影信息',\n        // 新增字段\n        fragmentedCameraMovement: '分片运镜信息' // 新增字段\n      }]\n    };\n  },\n  methods: {\n    startVideoTimer() {\n      this.clearTimer();\n      this.videoStartTime = Date.now();\n      this.videoTimerInterval = setInterval(() => {\n        if (this.videoLoading) {\n          const duration = Date.now() - this.videoStartTime;\n          this.videoElapsedTime = (duration / 1000).toFixed(3) + 's';\n        } else {\n          this.clearTimer();\n        }\n      }, 100);\n    },\n    /**\r\n     * 生成视频\r\n     */\n    async generateVideo() {\n      this.videoLoading = true;\n      try {\n        this.videoLoading = true;\n        this.videoElapsedTime = '0.000s';\n        this.videoLoadedTime = '';\n        // 假设 startTimer, clearTimer, setLoadedTime 方法已定义在 methods 中\n        this.startVideoTimer();\n        const param = {\n          segmentInfoList: this.timelineData\n        };\n        const respData = await (0, _ai.generatorVideo)(param);\n        console.log('respData', respData);\n        if (respData.data.code == 200 && respData.data.data) {\n          this.taskId = respData.data.data;\n          console.log('this.taskId =', this.taskId);\n\n          // 启动定时任务，每隔 30 秒查询一次视频状态\n          this.startPollingTask();\n          this.$message({\n            message: '操作成功！视频生成任务已开始！',\n            type: 'success',\n            duration: 3000\n          });\n        } else {\n          this.$message({\n            message: '操作失败，请稍后进行重试！',\n            type: 'error',\n            duration: 3000\n          });\n        }\n      } catch (error) {\n        console.error('Error in getVideoPrompt:', error);\n        this.$message({\n          message: `❌ 视频生成失败！错误信息: ${error.message || '未知错误'}`,\n          type: 'error',\n          duration: 5000\n        });\n      } finally {\n        // 3. 无论成功或失败，都在 finally 中停止 loading 状态\n        this.videoLoading = false;\n      }\n    },\n    /**\r\n     * 启动轮询任务\r\n     */\n    startPollingTask() {\n      const that = this;\n      console.log('taskId=begin', that.taskId);\n      // 设置轮询间隔（30秒）\n      this.taskInterval = setInterval(async () => {\n        console.log('taskId=end', that.taskId);\n        const param = {\n          taskId: that.taskId\n        };\n        console.log('param=', param);\n        const respData = await (0, _ai.queryVideoResult)(param);\n        console.log('[startPollingTask]respData=', respData);\n        if (respData.data.code == 200 && respData.data.data) {\n          console.log('视频url:', respData.data.data);\n\n          // this.playerOptions.sources[0].src = respData.data.data\n\n          this.videoKey += 1; // 改变 key，强制重新渲染视频播放器\n          this.$set(this.playerOptions.sources, 0, {\n            type: 'video/mp4',\n            src: respData.data.data\n          });\n          console.log('图片视频url:', this.playerOptions.sources[0].src);\n          clearInterval(this.taskInterval); // 停止定时任务\n          this.$message({\n            message: '视频生成完成！',\n            type: 'success',\n            duration: 3000\n          });\n        } else {\n          const resState = respData.message;\n          if (resState === \"2\") {\n            // 如果任务失败，停止轮询\n            clearInterval(this.taskInterval);\n            this.$message.error(\"任务生成失败\");\n          } else if (resState === \"3\") {\n            // 如果任务失败，停止轮询\n            clearInterval(this.taskInterval);\n            log.info(\"操作失败，任务创建成功但生成失败\");\n            this.$message.error(\"任务创建成功但生成失败\");\n          } else if (resState === \"-1\") {\n            // 如果任务失败，停止轮询\n            clearInterval(this.taskInterval);\n            log.info(\"操作失败，请稍后重试！\");\n            this.$message.error(\"操作失败，请稍后重试！\");\n          }\n        }\n\n        // 超过10分钟仍没有结果，停止轮询\n        if (!this.startTime) {\n          this.startTime = new Date().getTime();\n        }\n        const currentTime = new Date().getTime();\n        if (currentTime - this.startTime > 10 * 60 * 1000) {\n          // 10分钟\n          clearInterval(this.taskInterval);\n          this.$message({\n            message: '操作失败，视频生成超时，已停止查询结果。',\n            type: 'error',\n            duration: 3000\n          });\n        }\n      }, 1000 * 8);\n    },\n    /**\r\n     * 停止轮询任务\r\n     */\n    stopPollingTask() {\n      if (this.taskInterval) {\n        clearInterval(this.taskInterval);\n      }\n    },\n    /**\r\n     * 保存表单数据到浏览器的 localStorage\r\n     */\n    saveFormData() {\n      const token = this.$store.getters['user/token'];\n      localStorage.setItem('formData=' + token, JSON.stringify(this.formData));\n      this.$message({\n        message: '数据已保存！',\n        type: 'success',\n        duration: 3000\n      });\n    },\n    /**\r\n     * 加载保存的表单数据\r\n     */\n    loadFormData() {\n      // 从 localStorage 获取保存的表单数据\n      const token = this.$store.getters['user/token'];\n      const savedData = localStorage.getItem('formData=' + token);\n      if (savedData) {\n        this.formData = JSON.parse(savedData); // 解析并加载数据\n      }\n    },\n    /**\r\n     * 清空内容\r\n     */\n    clearData() {\n      this.formData = {\n        title: '',\n        userPrompt: '',\n        videoStyle: '',\n        videoLength: ''\n      };\n      const token = this.$store.getters['user/token'];\n      localStorage.removeItem('formData=' + token);\n    },\n    // 清除计时器\n    clearTimer() {\n      if (this.timerInterval) {\n        clearInterval(this.timerInterval);\n        this.timerInterval = null;\n      }\n      if (this.videoTimerInterval) {\n        clearInterval(this.videoTimerInterval);\n        this.videoTimerInterval = null;\n      }\n    },\n    // 实时更新已加载时间\n    startTimer() {\n      this.clearTimer(); // 先清除旧的计时器\n      this.startTime = Date.now(); // 记录开始时间戳\n\n      this.timerInterval = setInterval(() => {\n        if (this.loading) {\n          const duration = Date.now() - this.startTime;\n          // 将毫秒转换为秒，并保留三位小数\n          this.elapsedTime = (duration / 1000).toFixed(3) + 's';\n        } else {\n          // 如果 loading 结束了，就停止计时器\n          this.clearTimer();\n        }\n      }, 100); // 每 100 毫秒更新一次\n    },\n    /**\r\n     * 获取AI分片提示词\r\n     */\n    async getVideoPrompt() {\n      console.log('getVideoPrompt');\n\n      // 1. 设置 loading 状态和开始计时\n      this.loading = true;\n      this.elapsedTime = '0.000s';\n      this.loadedTime = '';\n      // 假设 startTimer, clearTimer, setLoadedTime 方法已定义在 methods 中\n      this.startTimer();\n      let param = {\n        ...this.formData\n      };\n      try {\n        const resData = await (0, _ai.createPrompt)(param);\n        console.log('resData=', resData);\n        if (resData.data.code == 200 && resData.data.data && resData.data.data.length > 0) {\n          this.timelineData = resData.data.data;\n          this.$message({\n            message: '提示词已生成，分片信息已更新！',\n            type: 'success',\n            duration: 3000\n          });\n        } else {\n          this.$message({\n            message: '提示词生成失败或数据为空。',\n            type: 'error',\n            duration: 3000\n          });\n        }\n      } catch (error) {\n        console.error('Error in getVideoPrompt:', error);\n        this.$message({\n          message: `❌ 提示词生成失败！错误信息: ${error.message || '未知错误'}`,\n          type: 'error',\n          duration: 5000\n        });\n      } finally {\n        // 3. 无论成功或失败，都在 finally 中停止 loading 状态\n        this.loading = false;\n        // clearTimer 会在 loading 变为 false 时自动在 startTimer 内部的 setInterval 中执行\n        console.log('getVideoPrompt: Request finished');\n      }\n    },\n    /**\r\n    * 复制指定分片的数据到剪贴板\r\n    * @param {Object} item - 分片数据对象\r\n    */\n    copySegmentData(item) {\n      // 1. 格式化文本\n      const copyText = [`分片标题：${item.segmentTitle}`, `详细的画面描述：${item.segmentDescription}`, `关键字：${item.segmentKeywords}`, `风格：${item.shardingStyle}`, `构图描述：${item.fragmentedComposition}`, `光影描述：${item.fragmentedLightAndShadow}`, `运镜描述：${item.fragmentedCameraMovement}`].join('\\n'); // 使用换行符分隔\n\n      // 2. 复制到剪贴板\n      if (navigator.clipboard) {\n        navigator.clipboard.writeText(copyText).then(() => {\n          // 3. 复制成功提示\n          this.$message({\n            message: '分片信息已成功复制到剪贴板！',\n            type: 'success',\n            duration: 2000\n          });\n        }).catch(err => {\n          // 复制失败提示\n          this.$message({\n            message: `复制失败：${err}`,\n            type: 'error',\n            duration: 3000\n          });\n        });\n      } else {\n        // 兼容性提示（旧版浏览器）\n        this.$message({\n          message: '您的浏览器不支持 navigator.clipboard，请手动复制。',\n          type: 'warning',\n          duration: 4000\n        });\n      }\n    },\n    /**\r\n     * 将秒数转换为 MM:SS 格式\r\n     * @param {string | number} totalSeconds - 总秒数\r\n     * @returns {string} 格式化后的时间字符串 (MM:SS)\r\n    */\n    formatSecondsToTime(totalSeconds) {\n      const seconds = parseInt(totalSeconds);\n      if (isNaN(seconds) || seconds < 0) {\n        return '00:00';\n      }\n      const minutes = Math.floor(seconds / 60);\n      const remainingSeconds = seconds % 60;\n\n      // 确保是两位数\n      const formattedMinutes = String(minutes).padStart(2, '0');\n      const formattedSeconds = String(remainingSeconds).padStart(2, '0');\n      return `${formattedMinutes}:${formattedSeconds}`;\n    },\n    /**\r\n     * 根据分片的起始和结束时间，生成时间戳字符串\r\n     * @param {Object} item - 分片数据对象 (包含 beginTime 和 endTime)\r\n     * @returns {string} 格式化的时间范围字符串 (MM:SS - MM:SS)\r\n     */\n    getSegmentTimestamp(item) {\n      const startTime = this.formatSecondsToTime(item.beginTime || 0);\n      const endTime = this.formatSecondsToTime(item.endTime || 0);\n      return `${startTime} - ${endTime}`;\n    }\n  },\n  mounted() {\n    this.loadFormData();\n  },\n  beforeDestroy() {\n    // 在组件销毁时清除定时任务，避免内存泄漏\n    this.stopPollingTask();\n    this.clearTimer();\n  }\n};","map":{"version":3,"names":["_ai","require","_default","exports","default","data","loading","loadedTime","startTime","elapsedTime","timerInterval","videoStartTime","videoElapsedTime","videoTimerInterval","taskId","labelPosition","formData","title","userPrompt","videoStyle","videoLength","videoKey","playerOptions","techOrder","sources","type","src","poster","controls","controlBar","children","align","timelineData","segmentTitle","beginTime","endTime","segmentDescription","segmentKeywords","shardingStyle","fragmentedComposition","fragmentedLightAndShadow","fragmentedCameraMovement","methods","startVideoTimer","clearTimer","Date","now","setInterval","videoLoading","duration","toFixed","generateVideo","videoLoadedTime","param","segmentInfoList","respData","generatorVideo","console","log","code","startPollingTask","$message","message","error","that","taskInterval","queryVideoResult","$set","clearInterval","resState","info","getTime","currentTime","stopPollingTask","saveFormData","token","$store","getters","localStorage","setItem","JSON","stringify","loadFormData","savedData","getItem","parse","clearData","removeItem","startTimer","getVideoPrompt","resData","createPrompt","length","copySegmentData","item","copyText","join","navigator","clipboard","writeText","then","catch","err","formatSecondsToTime","totalSeconds","seconds","parseInt","isNaN","minutes","Math","floor","remainingSeconds","formattedMinutes","String","padStart","formattedSeconds","getSegmentTimestamp","mounted","beforeDestroy"],"sources":["src/views/aiVideo/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"container tech-container\">\r\n    <div class=\"header\">\r\n      <h2 class=\"neon-title\">AI 视频制作 <span class=\"sub-text\"></span></h2>\r\n      <p class=\"sub-text\">通过AI技术，只需输入视频标题，即可快速生成高清画质视频，支持自定义片段，实时预览效果。</p>\r\n    </div>\r\n\r\n    <div class=\"content\">\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"7\">\r\n          <el-card class=\"tech-card\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n              <i class=\"el-icon-edit-outline tech-icon\" /><span>提示词设置 </span>\r\n            </div>\r\n            <div class=\"form-container\">\r\n              <el-form :model=\"formData\" ref=\"form\" label-width=\"100px\" class=\"tech-form\"\r\n                :label-position=\"labelPosition\">\r\n                <el-form-item label=\"视频标题\" prop=\"title\">\r\n                  <el-input v-model=\"formData.title\" placeholder=\"输入视频标题\" class=\"tech-input\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"视频描述\" prop=\"userPrompt\">\r\n                  <el-input type=\"textarea\" v-model=\"formData.userPrompt\" placeholder=\"请输入视频描述\" rows=\"4\"\r\n                    class=\"tech-input\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"视频风格\" prop=\"videoStyle\">\r\n                  <el-select v-model=\"formData.videoStyle\" placeholder=\"写实风格\" style=\"width: 100%\" class=\"tech-select\">\r\n                    <el-option label=\"写实风格\" value=\"写实风格\"></el-option>\r\n                    <el-option label=\"卡通风格\" value=\"卡通风格\"></el-option>\r\n                    <el-option label=\"未来感风格\" value=\"未来感风格\"></el-option>\r\n                  </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"视频长度\" prop=\"videoLength\">\r\n                  <el-select v-model=\"formData.videoLength\" placeholder=\"短片 (10s)\" style=\"width: 100%\"\r\n                    class=\"tech-select\">\r\n                    <el-option label=\"短片 (10s)\" value=\"10\"></el-option>\r\n                    <el-option label=\"中等长度 (15s)\" value=\"15\"></el-option>\r\n                    <el-option label=\"长片 (30s)\" value=\"30\"></el-option>\r\n                  </el-select>\r\n                </el-form-item>\r\n              </el-form>\r\n            </div>\r\n          </el-card>\r\n\r\n          <el-card class=\"tech-card\" style=\"margin-top: 20px;\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n              <i class=\"el-icon-paperclip tech-icon\" /><span>文件上传</span>\r\n            </div>\r\n            <el-upload drag action=\"https://jsonplaceholder.typicode.com/posts/\" multiple class=\"tech-upload-area\">\r\n              <i class=\"el-icon-upload\"></i>\r\n              <div class=\"el-upload__text\" style=\"width: 260px;\">将文件拖到此处，或<em class=\"neon-text-primary\">点击上传</em></div>\r\n            </el-upload>\r\n          </el-card>\r\n\r\n          <el-card class=\"tech-card\" style=\"margin-top: 20px;\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n              <i class=\"el-icon-s-tools tech-icon\" /><span>操作控制</span>\r\n            </div>\r\n            <div>\r\n              <el-button type=\"primary\" class=\"tech-button primary-btn\" @click.native=\"getVideoPrompt\">\r\n                <i class=\"el-icon-cpu\"></i> 生成提示词\r\n              </el-button>\r\n            </div>\r\n            <div><el-button class=\"tech-button primary-btn\" @click.native=\"saveFormData\">保存草稿</el-button></div>\r\n            <div><el-button class=\"tech-button primary-btn\" @click.native=\"clearData\">清空内容</el-button>\r\n            </div>\r\n            <div>\r\n              <el-button type=\"primary\" class=\"tech-button primary-btn\" @click.native=\"generateVideo\">\r\n                <i class=\"el-icon-cpu\"></i> 生成视频\r\n              </el-button>\r\n            </div>\r\n          </el-card>\r\n\r\n        </el-col>\r\n\r\n        <el-col :span=\"17\">\r\n          <el-card class=\"tech-card\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n              <i class=\"el-icon-view tech-icon\" /><span>视频预览 </span>\r\n            </div>\r\n            <div class=\"loaded-time-display\" :class=\"{ 'is-loading': videoLoading, 'is-complete': !videoLoading && videoLoadedTime }\"\r\n              v-if=\"videoLoading\">\r\n              <template>\r\n                ⏳视频数据加载中...耗时: <span class=\"time-value loading-text\">{{ videoElapsedTime }}</span>\r\n                <i class=\"el-icon-loading loading-icon-spin\"></i>\r\n              </template>\r\n            </div>\r\n            <div class=\"preview-box\" v-loading=\"videoLoading\">\r\n              <video-player ref=\"videoPlayer\" :key=\"videoKey\" class=\"video-player\" :options=\"playerOptions\"\r\n                :playsinline=\"true\" :preload=\"true\" :autoplay=\"true\" :loop=\"true\" :muted=\"true\"></video-player>\r\n            </div>\r\n          </el-card>\r\n\r\n          <el-card class=\"tech-card\" style=\"margin-top: 20px;\">\r\n            <div class=\"loaded-time-display\" :class=\"{ 'is-loading': loading, 'is-complete': !loading && loadedTime }\"\r\n              v-if=\"loading\">\r\n              <template>\r\n                ⏳分片提示词数据加载中...耗时: <span class=\"time-value loading-text\">{{ elapsedTime }}</span>\r\n                <i class=\"el-icon-loading loading-icon-spin\"></i>\r\n              </template>\r\n            </div>\r\n\r\n            <div slot=\"header\" class=\"clearfix\">\r\n              <i class=\"el-icon-s-operation tech-icon\" />分片信息<span></span>\r\n            </div>\r\n            <el-timeline class=\"tech-timeline\" v-loading=\"loading\" element-loading-text=\"拼命加载中\"\r\n              element-loading-spinner=\"el-icon-loading\" element-loading-background=\"rgba(0, 0, 0, 0.8)\">\r\n              <el-timeline-item v-for=\"(item, index) in timelineData\" :key=\"index\"\r\n                :timestamp=\"getSegmentTimestamp(item)\" placement=\"top\">\r\n                <el-card class=\"timeline-card\">\r\n                  <el-button type=\"text\" class=\"copy-button\" icon=\"el-icon-document-copy\"\r\n                    @click=\"copySegmentData(item)\">\r\n                    复制\r\n                  </el-button>\r\n                  <span class=\"segment-title\">{{ item.segmentTitle }}</span>\r\n                  <p class=\"segment-description-long\">{{ item.segmentDescription }}</p>\r\n\r\n                  <div class=\"segment-detail-divider\"></div>\r\n\r\n                  <div class=\"segment-details-grid\">\r\n                    <p class=\"segment-param\">\r\n                      <span class=\"param-label\">关键字:</span>\r\n                      <span class=\"param-value neon-text-accent\">{{ item.segmentKeywords }}</span>\r\n                    </p>\r\n                    <p class=\"segment-param\">\r\n                      <span class=\"param-label\">风格:</span>\r\n                      <span class=\"param-value\">{{ item.shardingStyle }}</span>\r\n                    </p>\r\n                    <p class=\"segment-param\">\r\n                      <span class=\"param-label\">构图:</span>\r\n                      <span class=\"param-value\">{{ item.fragmentedComposition }}</span>\r\n                    </p>\r\n                    <p class=\"segment-param\">\r\n                      <span class=\"param-label\">光影:</span>\r\n                      <span class=\"param-value\">{{ item.fragmentedLightAndShadow }}</span>\r\n                    </p>\r\n                    <p class=\"segment-param\">\r\n                      <span class=\"param-label\">运镜:</span>\r\n                      <span class=\"param-value\">{{ item.fragmentedCameraMovement }}</span>\r\n                    </p>\r\n                  </div>\r\n                </el-card>\r\n              </el-timeline-item>\r\n            </el-timeline>\r\n          </el-card>\r\n\r\n          <el-card class=\"tech-card\" style=\"margin-top: 20px;\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n              <i class=\"el-icon-folder-checked tech-icon\" /><span>最近完成 (RECENT LOG)</span>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { createPrompt, generatorVideo, queryVideoResult } from '@/api/ai'\r\n// JavaScript 逻辑保持不变\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading: false,     // 控制 loading 状态\r\n      loadedTime: '',     // 存储加载完成时间\r\n      // 实时加载时长相关\r\n      startTime: 0,       // 请求开始时的时间戳\r\n      elapsedTime: '0.000s', // 实时显示加载了多久\r\n      timerInterval: null, // 用于存储 setInterval 的引用\r\n\r\n      videoStartTime: 0,       // 请求开始时的时间戳\r\n      videoElapsedTime: '0.000s', // 实时显示加载了多久\r\n      videoTimerInterval: null,\r\n\r\n\r\n\r\n      startTime: null,\r\n      taskId: null,\r\n      labelPosition: 'top',\r\n      formData: {\r\n        title: '美女跳舞',\r\n        userPrompt: '美女跳舞',\r\n        videoStyle: '写实风格',\r\n        videoLength: '15'\r\n      },\r\n      videoKey: 0,  // 用来强制重新渲染视频播放器\r\n      playerOptions: {\r\n        techOrder: ['html5'],\r\n        sources: [\r\n          {\r\n            type: 'video/mp4',\r\n            // src: 'https://vjs.zencdn.net/v/oceans.mp4',  // 视频源\r\n            // src: 'https://tempfile.aiquickdraw.com/f/aaebe9df5e951608796487abbaebd7a9/4481152c-38db-465e-87ab-ebb45dfe36cc.mp4'\r\n            src: 'https://tempfile.aiquickdraw.com/r/5407877d-1beb-450f-9f98-d250134c32fa_watermarked.mp4'\r\n          },\r\n        ],\r\n        poster: 'https://vjs.zencdn.net/v/oceans.png',  // 预览图\r\n        controls: true,\r\n        controlBar: {\r\n          children: ['playToggle', 'volumePanel', 'timeDivider', 'progressControl', 'fullscreenToggle'],\r\n          align: 'center'\r\n        },\r\n      },\r\n      // 模拟的时间线数据\r\n      // 更新后的分片信息数据\r\n      timelineData: [\r\n        {\r\n          segmentTitle: '片段 1',\r\n          beginTime: '0', // 模拟 API 返回的字符串秒数\r\n          endTime: '5',   // 模拟 API 返回的字符串秒数\r\n          segmentDescription: '分片描述信息',\r\n          segmentKeywords: '分片关键字1,分片关键字2',\r\n          shardingStyle: '超现实写实风格', // 新增字段\r\n          fragmentedComposition: '分片构图信息', // 新增字段\r\n          fragmentedLightAndShadow: '分片光影信息', // 新增字段\r\n          fragmentedCameraMovement: '分片运镜信息', // 新增字段\r\n        },\r\n      ]\r\n    };\r\n  },\r\n  methods: {\r\n    startVideoTimer() {\r\n      this.clearTimer();\r\n      this.videoStartTime = Date.now();\r\n      this.videoTimerInterval = setInterval(() => {\r\n        if (this.videoLoading) {\r\n          const duration = Date.now() - this.videoStartTime;\r\n          this.videoElapsedTime = (duration / 1000).toFixed(3) + 's';\r\n        } else {\r\n          this.clearTimer();\r\n        }\r\n      }, 100);\r\n    },\r\n    /**\r\n     * 生成视频\r\n     */\r\n    async generateVideo() {\r\n\r\n      this.videoLoading = true\r\n\r\n      try {\r\n        this.videoLoading = true;\r\n        this.videoElapsedTime = '0.000s';\r\n        this.videoLoadedTime = '';\r\n        // 假设 startTimer, clearTimer, setLoadedTime 方法已定义在 methods 中\r\n        this.startVideoTimer();\r\n        const param = {\r\n          segmentInfoList: this.timelineData\r\n        }\r\n\r\n\r\n        const respData = await generatorVideo(param);\r\n\r\n        console.log('respData', respData)\r\n\r\n        if (respData.data.code == 200 && respData.data.data) {\r\n\r\n          this.taskId = respData.data.data;\r\n\r\n          console.log('this.taskId =', this.taskId)\r\n\r\n          // 启动定时任务，每隔 30 秒查询一次视频状态\r\n          this.startPollingTask();\r\n\r\n          this.$message({\r\n            message: '操作成功！视频生成任务已开始！',\r\n            type: 'success',\r\n            duration: 3000\r\n          });\r\n        } else {\r\n          this.$message({\r\n            message: '操作失败，请稍后进行重试！',\r\n            type: 'error',\r\n            duration: 3000\r\n          });\r\n        }\r\n\r\n      } catch (error) {\r\n        console.error('Error in getVideoPrompt:', error);\r\n        this.$message({\r\n          message: `❌ 视频生成失败！错误信息: ${error.message || '未知错误'}`,\r\n          type: 'error',\r\n          duration: 5000\r\n        });\r\n      } finally {\r\n        // 3. 无论成功或失败，都在 finally 中停止 loading 状态\r\n        this.videoLoading = false;\r\n      }\r\n\r\n\r\n    },\r\n    /**\r\n     * 启动轮询任务\r\n     */\r\n    startPollingTask() {\r\n      const that = this\r\n      console.log('taskId=begin', that.taskId)\r\n      // 设置轮询间隔（30秒）\r\n      this.taskInterval = setInterval(async () => {\r\n        console.log('taskId=end', that.taskId)\r\n        const param = {\r\n          taskId: that.taskId\r\n        }\r\n        console.log('param=', param)\r\n        const respData = await queryVideoResult(param);\r\n\r\n        console.log('[startPollingTask]respData=', respData)\r\n\r\n        if (respData.data.code == 200 && respData.data.data) {\r\n\r\n          console.log('视频url:', respData.data.data)\r\n\r\n          // this.playerOptions.sources[0].src = respData.data.data\r\n\r\n          this.videoKey += 1;  // 改变 key，强制重新渲染视频播放器\r\n          this.$set(this.playerOptions.sources, 0, {\r\n            type: 'video/mp4',\r\n            src: respData.data.data\r\n          });\r\n\r\n          console.log('图片视频url:', this.playerOptions.sources[0].src)\r\n\r\n          clearInterval(this.taskInterval);  // 停止定时任务\r\n          this.$message({\r\n            message: '视频生成完成！',\r\n            type: 'success',\r\n            duration: 3000\r\n          });\r\n\r\n        } else {\r\n          const resState = respData.message\r\n\r\n          if (resState === \"2\") {\r\n            // 如果任务失败，停止轮询\r\n            clearInterval(this.taskInterval);\r\n            this.$message.error(\"任务生成失败\")\r\n          } else if (resState === \"3\") {\r\n            // 如果任务失败，停止轮询\r\n            clearInterval(this.taskInterval);\r\n            log.info(\"操作失败，任务创建成功但生成失败\")\r\n            this.$message.error(\"任务创建成功但生成失败\")\r\n          } else if (resState === \"-1\") {\r\n            // 如果任务失败，停止轮询\r\n            clearInterval(this.taskInterval);\r\n            log.info(\"操作失败，请稍后重试！\")\r\n            this.$message.error(\"操作失败，请稍后重试！\")\r\n          }\r\n        }\r\n\r\n        // 超过10分钟仍没有结果，停止轮询\r\n        if (!this.startTime) {\r\n          this.startTime = new Date().getTime();\r\n        }\r\n        const currentTime = new Date().getTime();\r\n        if (currentTime - this.startTime > 10 * 60 * 1000) {  // 10分钟\r\n          clearInterval(this.taskInterval);\r\n          this.$message({\r\n            message: '操作失败，视频生成超时，已停止查询结果。',\r\n            type: 'error',\r\n            duration: 3000\r\n          });\r\n        }\r\n      }, 1000 * 8);\r\n    },\r\n\r\n    /**\r\n     * 停止轮询任务\r\n     */\r\n    stopPollingTask() {\r\n      if (this.taskInterval) {\r\n        clearInterval(this.taskInterval);\r\n      }\r\n    },\r\n    /**\r\n     * 保存表单数据到浏览器的 localStorage\r\n     */\r\n    saveFormData() {\r\n      const token = this.$store.getters['user/token'];\r\n      localStorage.setItem('formData=' + token, JSON.stringify(this.formData));\r\n      this.$message({\r\n        message: '数据已保存！',\r\n        type: 'success',\r\n        duration: 3000\r\n      });\r\n    },\r\n    /**\r\n     * 加载保存的表单数据\r\n     */\r\n    loadFormData() {\r\n      // 从 localStorage 获取保存的表单数据\r\n      const token = this.$store.getters['user/token'];\r\n      const savedData = localStorage.getItem('formData=' + token);\r\n      if (savedData) {\r\n        this.formData = JSON.parse(savedData);  // 解析并加载数据\r\n      }\r\n    },\r\n    /**\r\n     * 清空内容\r\n     */\r\n    clearData() {\r\n      this.formData = {\r\n        title: '',\r\n        userPrompt: '',\r\n        videoStyle: '',\r\n        videoLength: ''\r\n      }\r\n\r\n      const token = this.$store.getters['user/token'];\r\n      localStorage.removeItem('formData=' + token);\r\n    },\r\n    // 清除计时器\r\n    clearTimer() {\r\n      if (this.timerInterval) {\r\n        clearInterval(this.timerInterval);\r\n        this.timerInterval = null;\r\n      }\r\n\r\n      if (this.videoTimerInterval) {\r\n        clearInterval(this.videoTimerInterval);\r\n        this.videoTimerInterval = null;\r\n      }\r\n    },\r\n\r\n    // 实时更新已加载时间\r\n    startTimer() {\r\n      this.clearTimer(); // 先清除旧的计时器\r\n      this.startTime = Date.now(); // 记录开始时间戳\r\n\r\n      this.timerInterval = setInterval(() => {\r\n        if (this.loading) {\r\n          const duration = Date.now() - this.startTime;\r\n          // 将毫秒转换为秒，并保留三位小数\r\n          this.elapsedTime = (duration / 1000).toFixed(3) + 's';\r\n        } else {\r\n          // 如果 loading 结束了，就停止计时器\r\n          this.clearTimer();\r\n        }\r\n      }, 100); // 每 100 毫秒更新一次\r\n    },\r\n    /**\r\n     * 获取AI分片提示词\r\n     */\r\n    async getVideoPrompt() {\r\n      console.log('getVideoPrompt')\r\n\r\n      // 1. 设置 loading 状态和开始计时\r\n      this.loading = true;\r\n      this.elapsedTime = '0.000s';\r\n      this.loadedTime = '';\r\n      // 假设 startTimer, clearTimer, setLoadedTime 方法已定义在 methods 中\r\n      this.startTimer();\r\n\r\n\r\n      let param = {\r\n        ...this.formData\r\n      }\r\n\r\n      try {\r\n        const resData = await createPrompt(param);\r\n\r\n        console.log('resData=', resData)\r\n\r\n        if (resData.data.code == 200 && resData.data.data && resData.data.data.length > 0) {\r\n\r\n          this.timelineData = resData.data.data\r\n\r\n          this.$message({\r\n            message: '提示词已生成，分片信息已更新！',\r\n            type: 'success',\r\n            duration: 3000\r\n          });\r\n\r\n        } else {\r\n          this.$message({\r\n            message: '提示词生成失败或数据为空。',\r\n            type: 'error',\r\n            duration: 3000\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error('Error in getVideoPrompt:', error);\r\n        this.$message({\r\n          message: `❌ 提示词生成失败！错误信息: ${error.message || '未知错误'}`,\r\n          type: 'error',\r\n          duration: 5000\r\n        });\r\n      } finally {\r\n        // 3. 无论成功或失败，都在 finally 中停止 loading 状态\r\n        this.loading = false;\r\n        // clearTimer 会在 loading 变为 false 时自动在 startTimer 内部的 setInterval 中执行\r\n        console.log('getVideoPrompt: Request finished');\r\n      }\r\n\r\n\r\n\r\n    },\r\n    /**\r\n    * 复制指定分片的数据到剪贴板\r\n    * @param {Object} item - 分片数据对象\r\n    */\r\n    copySegmentData(item) {\r\n      // 1. 格式化文本\r\n      const copyText = [\r\n        `分片标题：${item.segmentTitle}`,\r\n        `详细的画面描述：${item.segmentDescription}`,\r\n        `关键字：${item.segmentKeywords}`,\r\n        `风格：${item.shardingStyle}`,\r\n        `构图描述：${item.fragmentedComposition}`,\r\n        `光影描述：${item.fragmentedLightAndShadow}`,\r\n        `运镜描述：${item.fragmentedCameraMovement}`,\r\n      ].join('\\n'); // 使用换行符分隔\r\n\r\n      // 2. 复制到剪贴板\r\n      if (navigator.clipboard) {\r\n        navigator.clipboard.writeText(copyText).then(() => {\r\n          // 3. 复制成功提示\r\n          this.$message({\r\n            message: '分片信息已成功复制到剪贴板！',\r\n            type: 'success',\r\n            duration: 2000\r\n          });\r\n        }).catch(err => {\r\n          // 复制失败提示\r\n          this.$message({\r\n            message: `复制失败：${err}`,\r\n            type: 'error',\r\n            duration: 3000\r\n          });\r\n        });\r\n      } else {\r\n        // 兼容性提示（旧版浏览器）\r\n        this.$message({\r\n          message: '您的浏览器不支持 navigator.clipboard，请手动复制。',\r\n          type: 'warning',\r\n          duration: 4000\r\n        });\r\n      }\r\n    },\r\n    /**\r\n     * 将秒数转换为 MM:SS 格式\r\n     * @param {string | number} totalSeconds - 总秒数\r\n     * @returns {string} 格式化后的时间字符串 (MM:SS)\r\n    */\r\n    formatSecondsToTime(totalSeconds) {\r\n      const seconds = parseInt(totalSeconds);\r\n      if (isNaN(seconds) || seconds < 0) {\r\n        return '00:00';\r\n      }\r\n\r\n      const minutes = Math.floor(seconds / 60);\r\n      const remainingSeconds = seconds % 60;\r\n\r\n      // 确保是两位数\r\n      const formattedMinutes = String(minutes).padStart(2, '0');\r\n      const formattedSeconds = String(remainingSeconds).padStart(2, '0');\r\n\r\n      return `${formattedMinutes}:${formattedSeconds}`;\r\n    },\r\n\r\n    /**\r\n     * 根据分片的起始和结束时间，生成时间戳字符串\r\n     * @param {Object} item - 分片数据对象 (包含 beginTime 和 endTime)\r\n     * @returns {string} 格式化的时间范围字符串 (MM:SS - MM:SS)\r\n     */\r\n    getSegmentTimestamp(item) {\r\n      const startTime = this.formatSecondsToTime(item.beginTime || 0);\r\n      const endTime = this.formatSecondsToTime(item.endTime || 0);\r\n      return `${startTime} - ${endTime}`;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.loadFormData()\r\n  },\r\n  beforeDestroy() {\r\n    // 在组件销毁时清除定时任务，避免内存泄漏\r\n    this.stopPollingTask();\r\n\r\n    this.clearTimer();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.loaded-time-display {\r\n  padding: 10px 15px;\r\n  border-radius: 4px;\r\n  margin-bottom: 20px;\r\n  font-size: 14px;\r\n  text-align: center;\r\n  font-weight: bold;\r\n}\r\n\r\n/* 正在加载时的样式 */\r\n.loaded-time-display.is-loading {\r\n  color: #909399;\r\n}\r\n\r\n/* 加载完成时的样式 */\r\n.loaded-time-display.is-complete {\r\n  color: #67c23a;\r\n}\r\n\r\n.time-value {\r\n  font-family: 'Consolas', 'Monospace';\r\n  /* 使用等宽字体，更像计时器 */\r\n  font-size: 1.1em;\r\n  padding: 0 5px;\r\n}\r\n\r\n.loading-text {\r\n  color: #409eff;\r\n  /* Primary color for loading time */\r\n}\r\n\r\n.complete-text {\r\n  color: #67c23a;\r\n  /* Success color for final time */\r\n}\r\n\r\n\r\n/* ================= 赛博朋克主题变量 ================= */\r\n@bg-dark: #0f1219;\r\n@bg-panel: rgba(26, 31, 44, 0.7);\r\n@primary-color: #00f2ff;\r\n/* Cyber Cyan */\r\n@accent-color: #7d2ae8;\r\n/* Neon Purple */\r\n@text-main: #e2e8f0;\r\n@text-sub: #94a3b8;\r\n@border-color: rgba(255, 255, 255, 0.08);\r\n\r\n/* ================= 全局容器和字体 ================= */\r\n.tech-container {\r\n  background-color: @bg-dark;\r\n  color: @text-main;\r\n  min-height: 100vh;\r\n  padding: 30px;\r\n  font-family: 'Inter', 'Courier New', monospace;\r\n}\r\n\r\n/* ================= 头部样式 ================= */\r\n.header {\r\n  padding-bottom: 20px;\r\n  border-bottom: 1px solid @border-color;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.neon-title {\r\n  color: @primary-color;\r\n  text-shadow: 0 0 15px rgba(0, 242, 255, 0.6);\r\n  font-size: 32px;\r\n  font-weight: 800;\r\n  letter-spacing: 2px;\r\n\r\n  .sub-text {\r\n    font-size: 16px;\r\n    color: @text-sub;\r\n    margin-left: 10px;\r\n    font-weight: normal;\r\n  }\r\n}\r\n\r\n.sub-text {\r\n  color: @text-sub;\r\n  font-size: 14px;\r\n}\r\n\r\n/* ================= 卡片 (el-card) 样式重写 ================= */\r\n.tech-card {\r\n  background: @bg-panel !important;\r\n  backdrop-filter: blur(10px);\r\n  border: 1px solid @border-color;\r\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);\r\n  color: @text-main;\r\n\r\n  ::v-deep .el-card__header {\r\n    border-bottom: 1px solid @border-color;\r\n    padding: 18px 20px;\r\n    color: @text-main;\r\n    font-size: 16px;\r\n  }\r\n\r\n  span {\r\n    font-weight: 600;\r\n    color: @text-main;\r\n    margin-left: 10px;\r\n  }\r\n}\r\n\r\n.tech-icon {\r\n  color: @primary-color !important;\r\n  text-shadow: 0 0 8px rgba(0, 242, 255, 0.4);\r\n  font-size: 20px;\r\n}\r\n\r\n/* ================= 表单 (Form) 样式重写 ================= */\r\n.form-container {\r\n  padding: 10px 0;\r\n}\r\n\r\n::v-deep .el-form-item__label {\r\n  color: @text-sub !important;\r\n  font-size: 13px;\r\n  letter-spacing: 1px;\r\n}\r\n\r\n/* 输入框和文本域 */\r\n.tech-input,\r\n.tech-select {\r\n\r\n  ::v-deep .el-input__inner,\r\n  ::v-deep .el-textarea__inner {\r\n    background-color: rgba(0, 0, 0, 0.3) !important;\r\n    border: 1px solid @border-color !important;\r\n    color: @text-main !important;\r\n    border-radius: 4px;\r\n    transition: all 0.3s;\r\n\r\n    &::placeholder {\r\n      color: rgba(255, 255, 255, 0.3);\r\n    }\r\n\r\n    &:focus {\r\n      border-color: @primary-color !important;\r\n      box-shadow: 0 0 8px rgba(0, 242, 255, 0.4);\r\n    }\r\n  }\r\n}\r\n\r\n/* Select 下拉菜单覆盖 */\r\n::v-deep .el-select-dropdown {\r\n  background-color: @bg-dark !important;\r\n  border: 1px solid @border-color !important;\r\n\r\n  .el-select-dropdown__item {\r\n    color: @text-main;\r\n\r\n    &:hover {\r\n      background-color: rgba(0, 242, 255, 0.1) !important;\r\n      color: @primary-color;\r\n    }\r\n\r\n    &.selected {\r\n      color: @primary-color;\r\n      font-weight: bold;\r\n      background-color: rgba(0, 242, 255, 0.2) !important;\r\n    }\r\n  }\r\n}\r\n\r\n/* ================= 文件上传 (Upload) 样式重写 ================= */\r\n.tech-upload-area {\r\n  width: 100%;\r\n  margin-top: 10px;\r\n\r\n  ::v-deep .el-upload-dragger {\r\n    background: rgba(0, 0, 0, 0.3) !important;\r\n    border: 1px dashed @border-color !important;\r\n    color: @text-sub;\r\n    width: 100%;\r\n    /* 撑满卡片 */\r\n    height: 120px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    transition: all 0.3s;\r\n\r\n    &:hover {\r\n      border-color: @primary-color !important;\r\n      box-shadow: 0 0 10px rgba(0, 242, 255, 0.3);\r\n    }\r\n\r\n    .el-icon-upload {\r\n      color: @primary-color;\r\n      font-size: 40px;\r\n      margin-bottom: 10px;\r\n    }\r\n  }\r\n}\r\n\r\n.neon-text-primary {\r\n  color: @primary-color;\r\n  text-shadow: 0 0 5px rgba(0, 242, 255, 0.3);\r\n}\r\n\r\n.neon-text-accent {\r\n  color: @accent-color;\r\n  text-shadow: 0 0 5px rgba(125, 42, 232, 0.3);\r\n}\r\n\r\n/* ================= 按钮 (Button) 样式重写 ================= */\r\n.tech-button {\r\n  width: 100%;\r\n  margin-top: 10px !important;\r\n  border-radius: 4px;\r\n  transition: all 0.3s;\r\n\r\n  &.primary-btn {\r\n    // 主按钮：霓虹渐变\r\n    background: linear-gradient(90deg, @primary-color, @accent-color) !important;\r\n    border: none !important;\r\n    color: #fff !important;\r\n    box-shadow: 0 0 15px rgba(0, 242, 255, 0.4);\r\n\r\n    &:hover {\r\n      transform: translateY(-2px);\r\n      box-shadow: 0 4px 20px rgba(0, 242, 255, 0.6);\r\n    }\r\n  }\r\n\r\n  &.secondary-btn {\r\n    // 次要按钮：透明边框科技感\r\n    background-color: transparent !important;\r\n    border: 1px solid @border-color !important;\r\n    color: @text-sub !important;\r\n\r\n    &:hover {\r\n      border-color: @accent-color !important;\r\n      color: @accent-color !important;\r\n      background-color: rgba(125, 42, 232, 0.1) !important;\r\n    }\r\n  }\r\n}\r\n\r\n/* ================= 视频预览 (Video Preview) ================= */\r\n.preview-box {\r\n  margin-top: 20px;\r\n  background: #000;\r\n  border: 2px solid @primary-color;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  box-shadow: 0 0 25px rgba(0, 242, 255, 0.4);\r\n  /* 确保视频播放器适应容器 */\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  // aspect-ratio: 16/9;\r\n  /* 保持常见的视频比例 */\r\n}\r\n\r\n.video-player {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n\r\n  // 覆盖 video.js 默认样式\r\n  ::v-deep .video-js {\r\n    font-family: 'Courier New', monospace;\r\n  }\r\n\r\n  ::v-deep .vjs-poster {\r\n    background-color: #000;\r\n  }\r\n\r\n  ::v-deep .vjs-control-bar {\r\n    background-color: rgba(0, 0, 0, 0.8) !important;\r\n  }\r\n}\r\n\r\n\r\n/* ================= 时间线 (Timeline) 样式重写 ================= */\r\n.tech-timeline {\r\n  padding: 20px 10px;\r\n\r\n  ::v-deep .el-timeline-item {\r\n    padding-bottom: 25px;\r\n  }\r\n\r\n  // 时间线节点\r\n  ::v-deep .el-timeline-item__node {\r\n    background-color: @primary-color;\r\n    box-shadow: 0 0 8px @primary-color;\r\n    width: 12px;\r\n    height: 12px;\r\n    border: 1px solid @bg-dark;\r\n  }\r\n\r\n  // 时间线连接线\r\n  ::v-deep .el-timeline-item__tail {\r\n    border-left: 1px dashed @border-color;\r\n  }\r\n\r\n  // 时间戳\r\n  ::v-deep .el-timeline-item__timestamp {\r\n    color: @text-sub;\r\n    font-family: 'Consolas', monospace;\r\n    font-size: 12px;\r\n  }\r\n}\r\n\r\n.timeline-card {\r\n  position: relative;\r\n  /* 确保子元素可以相对于它定位 */\r\n  background: rgba(255, 255, 255, 0.05) !important;\r\n  border: 1px solid rgba(255, 255, 255, 0.1) !important;\r\n\r\n  // 复制按钮的样式\r\n  .copy-button {\r\n    position: absolute;\r\n    top: 10px;\r\n    right: 10px;\r\n    color: @accent-color !important;\r\n    /* Neon Purple */\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    z-index: 10;\r\n    padding: 5px 10px;\r\n    border-radius: 4px;\r\n    background-color: rgba(125, 42, 232, 0.1);\r\n    /* 轻微背景色 */\r\n    transition: all 0.2s;\r\n\r\n    &:hover {\r\n      color: @primary-color !important;\r\n      /* 悬停时切换为 Primary Neon Cyan */\r\n      background-color: rgba(0, 242, 255, 0.15);\r\n      text-shadow: 0 0 5px rgba(0, 242, 255, 0.5);\r\n    }\r\n\r\n    i {\r\n      margin-right: 5px;\r\n    }\r\n  }\r\n\r\n  // 核心标题\r\n  .segment-title {\r\n    font-weight: 800;\r\n    font-size: 16px;\r\n    color: @primary-color; // 突出显示标题\r\n    text-shadow: 0 0 5px rgba(0, 242, 255, 0.2);\r\n    display: block;\r\n    margin-bottom: 8px;\r\n    padding-bottom: 5px;\r\n  }\r\n\r\n  // 针对长文本的描述优化\r\n  .segment-description-long {\r\n    color: @text-main;\r\n    font-size: 13px;\r\n    line-height: 1.6; // 增加行高，提升长文本阅读舒适度\r\n    margin: 0 0 15px 0; // 底部留出空间\r\n    // 确保长文本不会溢出（虽然卡片本身会自适应，但防止意外）\r\n    word-break: break-word;\r\n  }\r\n\r\n  // 分隔线，用于区分描述和详细参数\r\n  .segment-detail-divider {\r\n    height: 1px;\r\n    background: linear-gradient(90deg, rgba(0, 242, 255, 0.3), rgba(0, 242, 255, 0), rgba(0, 242, 255, 0.3));\r\n    margin: 10px 0 15px 0;\r\n  }\r\n\r\n  .segment-details-grid {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 1fr); // 两列布局\r\n    gap: 8px 20px; // 行间距和列间距\r\n    padding-top: 5px;\r\n  }\r\n\r\n  // 关键参数使用 Flex 或 Grid 布局\r\n  .segment-param {\r\n    font-size: 12px;\r\n    color: @text-sub; // 参数标签颜色\r\n    margin: 0; // 清除默认边距\r\n\r\n    .param-label {\r\n      font-weight: normal;\r\n      margin-right: 5px;\r\n    }\r\n\r\n    .param-value {\r\n      color: @text-main; // 参数值使用主文本色\r\n      font-weight: bold;\r\n      display: inline;\r\n    }\r\n  }\r\n\r\n  // .segment-segmentKeywords span,\r\n  // .segment-progress span {\r\n  //   font-weight: bold;\r\n  // }\r\n}\r\n\r\n@media (max-width: 1200px) {\r\n  .preview-box {\r\n    aspect-ratio: unset;\r\n    height: 350px;\r\n  }\r\n}\r\n\r\n@media (max-width: 992px) {\r\n  .tech-container {\r\n    padding: 10px;\r\n  }\r\n\r\n  .el-col {\r\n    margin-bottom: 20px;\r\n  }\r\n}\r\n</style>"],"mappings":";;;;;;AA6JA,IAAAA,GAAA,GAAAC,OAAA;AACA;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GACA;EACAC,KAAA;IACA;MACAC,OAAA;MAAA;MACAC,UAAA;MAAA;MACA;MACAC,SAAA;MAAA;MACAC,WAAA;MAAA;MACAC,aAAA;MAAA;;MAEAC,cAAA;MAAA;MACAC,gBAAA;MAAA;MACAC,kBAAA;MAIAL,SAAA;MACAM,MAAA;MACAC,aAAA;MACAC,QAAA;QACAC,KAAA;QACAC,UAAA;QACAC,UAAA;QACAC,WAAA;MACA;MACAC,QAAA;MAAA;MACAC,aAAA;QACAC,SAAA;QACAC,OAAA,GACA;UACAC,IAAA;UACA;UACA;UACAC,GAAA;QACA,EACA;QACAC,MAAA;QAAA;QACAC,QAAA;QACAC,UAAA;UACAC,QAAA;UACAC,KAAA;QACA;MACA;MACA;MACA;MACAC,YAAA,GACA;QACAC,YAAA;QACAC,SAAA;QAAA;QACAC,OAAA;QAAA;QACAC,kBAAA;QACAC,eAAA;QACAC,aAAA;QAAA;QACAC,qBAAA;QAAA;QACAC,wBAAA;QAAA;QACAC,wBAAA;MACA;IAEA;EACA;EACAC,OAAA;IACAC,gBAAA;MACA,KAAAC,UAAA;MACA,KAAAjC,cAAA,GAAAkC,IAAA,CAAAC,GAAA;MACA,KAAAjC,kBAAA,GAAAkC,WAAA;QACA,SAAAC,YAAA;UACA,MAAAC,QAAA,GAAAJ,IAAA,CAAAC,GAAA,UAAAnC,cAAA;UACA,KAAAC,gBAAA,IAAAqC,QAAA,SAAAC,OAAA;QACA;UACA,KAAAN,UAAA;QACA;MACA;IACA;IACA;AACA;AACA;IACA,MAAAO,cAAA;MAEA,KAAAH,YAAA;MAEA;QACA,KAAAA,YAAA;QACA,KAAApC,gBAAA;QACA,KAAAwC,eAAA;QACA;QACA,KAAAT,eAAA;QACA,MAAAU,KAAA;UACAC,eAAA,OAAAtB;QACA;QAGA,MAAAuB,QAAA,aAAAC,kBAAA,EAAAH,KAAA;QAEAI,OAAA,CAAAC,GAAA,aAAAH,QAAA;QAEA,IAAAA,QAAA,CAAAlD,IAAA,CAAAsD,IAAA,WAAAJ,QAAA,CAAAlD,IAAA,CAAAA,IAAA;UAEA,KAAAS,MAAA,GAAAyC,QAAA,CAAAlD,IAAA,CAAAA,IAAA;UAEAoD,OAAA,CAAAC,GAAA,uBAAA5C,MAAA;;UAEA;UACA,KAAA8C,gBAAA;UAEA,KAAAC,QAAA;YACAC,OAAA;YACArC,IAAA;YACAwB,QAAA;UACA;QACA;UACA,KAAAY,QAAA;YACAC,OAAA;YACArC,IAAA;YACAwB,QAAA;UACA;QACA;MAEA,SAAAc,KAAA;QACAN,OAAA,CAAAM,KAAA,6BAAAA,KAAA;QACA,KAAAF,QAAA;UACAC,OAAA,oBAAAC,KAAA,CAAAD,OAAA;UACArC,IAAA;UACAwB,QAAA;QACA;MACA;QACA;QACA,KAAAD,YAAA;MACA;IAGA;IACA;AACA;AACA;IACAY,iBAAA;MACA,MAAAI,IAAA;MACAP,OAAA,CAAAC,GAAA,iBAAAM,IAAA,CAAAlD,MAAA;MACA;MACA,KAAAmD,YAAA,GAAAlB,WAAA;QACAU,OAAA,CAAAC,GAAA,eAAAM,IAAA,CAAAlD,MAAA;QACA,MAAAuC,KAAA;UACAvC,MAAA,EAAAkD,IAAA,CAAAlD;QACA;QACA2C,OAAA,CAAAC,GAAA,WAAAL,KAAA;QACA,MAAAE,QAAA,aAAAW,oBAAA,EAAAb,KAAA;QAEAI,OAAA,CAAAC,GAAA,gCAAAH,QAAA;QAEA,IAAAA,QAAA,CAAAlD,IAAA,CAAAsD,IAAA,WAAAJ,QAAA,CAAAlD,IAAA,CAAAA,IAAA;UAEAoD,OAAA,CAAAC,GAAA,WAAAH,QAAA,CAAAlD,IAAA,CAAAA,IAAA;;UAEA;;UAEA,KAAAgB,QAAA;UACA,KAAA8C,IAAA,MAAA7C,aAAA,CAAAE,OAAA;YACAC,IAAA;YACAC,GAAA,EAAA6B,QAAA,CAAAlD,IAAA,CAAAA;UACA;UAEAoD,OAAA,CAAAC,GAAA,kBAAApC,aAAA,CAAAE,OAAA,IAAAE,GAAA;UAEA0C,aAAA,MAAAH,YAAA;UACA,KAAAJ,QAAA;YACAC,OAAA;YACArC,IAAA;YACAwB,QAAA;UACA;QAEA;UACA,MAAAoB,QAAA,GAAAd,QAAA,CAAAO,OAAA;UAEA,IAAAO,QAAA;YACA;YACAD,aAAA,MAAAH,YAAA;YACA,KAAAJ,QAAA,CAAAE,KAAA;UACA,WAAAM,QAAA;YACA;YACAD,aAAA,MAAAH,YAAA;YACAP,GAAA,CAAAY,IAAA;YACA,KAAAT,QAAA,CAAAE,KAAA;UACA,WAAAM,QAAA;YACA;YACAD,aAAA,MAAAH,YAAA;YACAP,GAAA,CAAAY,IAAA;YACA,KAAAT,QAAA,CAAAE,KAAA;UACA;QACA;;QAEA;QACA,UAAAvD,SAAA;UACA,KAAAA,SAAA,OAAAqC,IAAA,GAAA0B,OAAA;QACA;QACA,MAAAC,WAAA,OAAA3B,IAAA,GAAA0B,OAAA;QACA,IAAAC,WAAA,QAAAhE,SAAA;UAAA;UACA4D,aAAA,MAAAH,YAAA;UACA,KAAAJ,QAAA;YACAC,OAAA;YACArC,IAAA;YACAwB,QAAA;UACA;QACA;MACA;IACA;IAEA;AACA;AACA;IACAwB,gBAAA;MACA,SAAAR,YAAA;QACAG,aAAA,MAAAH,YAAA;MACA;IACA;IACA;AACA;AACA;IACAS,aAAA;MACA,MAAAC,KAAA,QAAAC,MAAA,CAAAC,OAAA;MACAC,YAAA,CAAAC,OAAA,eAAAJ,KAAA,EAAAK,IAAA,CAAAC,SAAA,MAAAjE,QAAA;MACA,KAAA6C,QAAA;QACAC,OAAA;QACArC,IAAA;QACAwB,QAAA;MACA;IACA;IACA;AACA;AACA;IACAiC,aAAA;MACA;MACA,MAAAP,KAAA,QAAAC,MAAA,CAAAC,OAAA;MACA,MAAAM,SAAA,GAAAL,YAAA,CAAAM,OAAA,eAAAT,KAAA;MACA,IAAAQ,SAAA;QACA,KAAAnE,QAAA,GAAAgE,IAAA,CAAAK,KAAA,CAAAF,SAAA;MACA;IACA;IACA;AACA;AACA;IACAG,UAAA;MACA,KAAAtE,QAAA;QACAC,KAAA;QACAC,UAAA;QACAC,UAAA;QACAC,WAAA;MACA;MAEA,MAAAuD,KAAA,QAAAC,MAAA,CAAAC,OAAA;MACAC,YAAA,CAAAS,UAAA,eAAAZ,KAAA;IACA;IACA;IACA/B,WAAA;MACA,SAAAlC,aAAA;QACA0D,aAAA,MAAA1D,aAAA;QACA,KAAAA,aAAA;MACA;MAEA,SAAAG,kBAAA;QACAuD,aAAA,MAAAvD,kBAAA;QACA,KAAAA,kBAAA;MACA;IACA;IAEA;IACA2E,WAAA;MACA,KAAA5C,UAAA;MACA,KAAApC,SAAA,GAAAqC,IAAA,CAAAC,GAAA;;MAEA,KAAApC,aAAA,GAAAqC,WAAA;QACA,SAAAzC,OAAA;UACA,MAAA2C,QAAA,GAAAJ,IAAA,CAAAC,GAAA,UAAAtC,SAAA;UACA;UACA,KAAAC,WAAA,IAAAwC,QAAA,SAAAC,OAAA;QACA;UACA;UACA,KAAAN,UAAA;QACA;MACA;IACA;IACA;AACA;AACA;IACA,MAAA6C,eAAA;MACAhC,OAAA,CAAAC,GAAA;;MAEA;MACA,KAAApD,OAAA;MACA,KAAAG,WAAA;MACA,KAAAF,UAAA;MACA;MACA,KAAAiF,UAAA;MAGA,IAAAnC,KAAA;QACA,QAAArC;MACA;MAEA;QACA,MAAA0E,OAAA,aAAAC,gBAAA,EAAAtC,KAAA;QAEAI,OAAA,CAAAC,GAAA,aAAAgC,OAAA;QAEA,IAAAA,OAAA,CAAArF,IAAA,CAAAsD,IAAA,WAAA+B,OAAA,CAAArF,IAAA,CAAAA,IAAA,IAAAqF,OAAA,CAAArF,IAAA,CAAAA,IAAA,CAAAuF,MAAA;UAEA,KAAA5D,YAAA,GAAA0D,OAAA,CAAArF,IAAA,CAAAA,IAAA;UAEA,KAAAwD,QAAA;YACAC,OAAA;YACArC,IAAA;YACAwB,QAAA;UACA;QAEA;UACA,KAAAY,QAAA;YACAC,OAAA;YACArC,IAAA;YACAwB,QAAA;UACA;QACA;MACA,SAAAc,KAAA;QACAN,OAAA,CAAAM,KAAA,6BAAAA,KAAA;QACA,KAAAF,QAAA;UACAC,OAAA,qBAAAC,KAAA,CAAAD,OAAA;UACArC,IAAA;UACAwB,QAAA;QACA;MACA;QACA;QACA,KAAA3C,OAAA;QACA;QACAmD,OAAA,CAAAC,GAAA;MACA;IAIA;IACA;AACA;AACA;AACA;IACAmC,gBAAAC,IAAA;MACA;MACA,MAAAC,QAAA,IACA,QAAAD,IAAA,CAAA7D,YAAA,IACA,WAAA6D,IAAA,CAAA1D,kBAAA,IACA,OAAA0D,IAAA,CAAAzD,eAAA,IACA,MAAAyD,IAAA,CAAAxD,aAAA,IACA,QAAAwD,IAAA,CAAAvD,qBAAA,IACA,QAAAuD,IAAA,CAAAtD,wBAAA,IACA,QAAAsD,IAAA,CAAArD,wBAAA,GACA,CAAAuD,IAAA;;MAEA;MACA,IAAAC,SAAA,CAAAC,SAAA;QACAD,SAAA,CAAAC,SAAA,CAAAC,SAAA,CAAAJ,QAAA,EAAAK,IAAA;UACA;UACA,KAAAvC,QAAA;YACAC,OAAA;YACArC,IAAA;YACAwB,QAAA;UACA;QACA,GAAAoD,KAAA,CAAAC,GAAA;UACA;UACA,KAAAzC,QAAA;YACAC,OAAA,UAAAwC,GAAA;YACA7E,IAAA;YACAwB,QAAA;UACA;QACA;MACA;QACA;QACA,KAAAY,QAAA;UACAC,OAAA;UACArC,IAAA;UACAwB,QAAA;QACA;MACA;IACA;IACA;AACA;AACA;AACA;AACA;IACAsD,oBAAAC,YAAA;MACA,MAAAC,OAAA,GAAAC,QAAA,CAAAF,YAAA;MACA,IAAAG,KAAA,CAAAF,OAAA,KAAAA,OAAA;QACA;MACA;MAEA,MAAAG,OAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAL,OAAA;MACA,MAAAM,gBAAA,GAAAN,OAAA;;MAEA;MACA,MAAAO,gBAAA,GAAAC,MAAA,CAAAL,OAAA,EAAAM,QAAA;MACA,MAAAC,gBAAA,GAAAF,MAAA,CAAAF,gBAAA,EAAAG,QAAA;MAEA,UAAAF,gBAAA,IAAAG,gBAAA;IACA;IAEA;AACA;AACA;AACA;AACA;IACAC,oBAAAtB,IAAA;MACA,MAAAtF,SAAA,QAAA+F,mBAAA,CAAAT,IAAA,CAAA5D,SAAA;MACA,MAAAC,OAAA,QAAAoE,mBAAA,CAAAT,IAAA,CAAA3D,OAAA;MACA,UAAA3B,SAAA,MAAA2B,OAAA;IACA;EACA;EACAkF,QAAA;IACA,KAAAnC,YAAA;EACA;EACAoC,cAAA;IACA;IACA,KAAA7C,eAAA;IAEA,KAAA7B,UAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}