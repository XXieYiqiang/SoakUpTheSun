{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.array.push.js\");\nrequire(\"core-js/modules/es.iterator.constructor.js\");\nrequire(\"core-js/modules/es.iterator.for-each.js\");\nvar _default = exports.default = {\n  name: \"SFURoom\",\n  data() {\n    return {\n      wsUrl: \"ws://192.168.43.143:8080/room/join\",\n      // 请确保地址正确\n      roomID: \"ToRhXRHjv8MEMHn9RE8rLt\",\n      uid: \"user_\" + Math.floor(Math.random() * 1000),\n      joined: false,\n      loading: false,\n      logs: [],\n      ws: null,\n      localStream: null,\n      upPC: null,\n      downPC: null,\n      remoteStreams: {},\n      // { uid: MediaStream }\n\n      // --- 关键：同步控制变量 ---\n      isDownNegotiating: false,\n      // 协商锁\n      offerQueue: [],\n      // Offer 任务队列\n      pendingCandidates: [] // 还没设置 RemoteDescription 前收到的 Candidate 缓存\n    };\n  },\n  methods: {\n    log(msg) {\n      const time = new Date().toLocaleTimeString();\n      this.logs.unshift(`[${time}] ${msg}`);\n      if (this.logs.length > 50) this.logs.pop();\n    },\n    async joinRoom() {\n      if (!this.roomID || !this.uid) return alert(\"信息不全\");\n      this.loading = true;\n      try {\n        this.localStream = await navigator.mediaDevices.getUserMedia({\n          video: {\n            width: 640,\n            height: 360\n          },\n          audio: true\n        });\n        this.$refs.localVideo.srcObject = this.localStream;\n        this.connectWebSocket();\n      } catch (e) {\n        this.log(\"媒体授权失败: \" + e.message);\n        this.loading = false;\n      }\n    },\n    connectWebSocket() {\n      const url = `${this.wsUrl}?uid=${this.uid}&roomID=${this.roomID}`;\n      this.ws = new WebSocket(url);\n      this.ws.onopen = () => {\n        this.joined = true;\n        this.loading = false;\n        this.log(\"信令已连接，开始推流...\");\n        this.createUpstream();\n      };\n      this.ws.onmessage = e => this.handleSignal(JSON.parse(e.data));\n      this.ws.onclose = () => this.leaveRoom(false);\n    },\n    async handleSignal(msg) {\n      const {\n        event,\n        data\n      } = msg;\n      switch (event) {\n        case \"up_answer\":\n          await this.upPC.setRemoteDescription(new RTCSessionDescription({\n            type: 'answer',\n            sdp: data.sdp\n          }));\n          this.log(\"推流协商成功\");\n          break;\n        case \"up_candidate\":\n          if (this.upPC) await this.upPC.addIceCandidate(data.candidate);\n          break;\n        case \"down_offer\":\n          // 放入队列处理，防止后端并发发送多个 Offer 导致状态冲突\n          this.enqueueDownOffer(data);\n          break;\n        case \"down_candidate\":\n          this.handleRemoteCandidate(data.candidate);\n          break;\n        case \"unpublish_stream\":\n        case \"user_leave\":\n          const target = data.uid || data.publisherId;\n          this.removeRemoteUser(target);\n          break;\n      }\n    },\n    // ================= 推流 (Publish) =================\n    async createUpstream() {\n      this.upPC = new RTCPeerConnection({\n        iceServers: [{\n          urls: \"stun:stun.l.google.com:19302\"\n        }]\n      });\n      this.localStream.getTracks().forEach(track => {\n        this.upPC.addTrack(track, this.localStream);\n      });\n      this.upPC.onicecandidate = e => {\n        if (e.candidate) this.sendSignal(\"up_candidate\", {\n          candidate: e.candidate\n        });\n      };\n      const offer = await this.upPC.createOffer();\n      await this.upPC.setLocalDescription(offer);\n      this.sendSignal(\"up_offer\", {\n        uid: this.uid,\n        sdp: offer.sdp\n      });\n    },\n    // ================= 拉流 (Subscribe) 与 队列化协商 =================\n\n    // 1. 将收到的 Offer 加入队列\n    enqueueDownOffer(data) {\n      this.offerQueue.push(data);\n      this.processQueue();\n    },\n    // 2. 循环处理队列\n    async processQueue() {\n      if (this.isDownNegotiating || this.offerQueue.length === 0) return;\n      this.isDownNegotiating = true;\n      const currentOffer = this.offerQueue.shift();\n      try {\n        if (!this.downPC) this.initDownPC();\n        this.log(`处理拉流协商...`);\n\n        // 设置远端 SDP\n        await this.downPC.setRemoteDescription(new RTCSessionDescription({\n          type: 'offer',\n          sdp: currentOffer.sdp\n        }));\n\n        // 处理之前缓存的 Candidate\n        while (this.pendingCandidates.length > 0) {\n          const cand = this.pendingCandidates.shift();\n          await this.downPC.addIceCandidate(new RTCIceCandidate(cand)).catch(e => {\n            console.warn(\"添加缓存 Candidate 失败\", e);\n          });\n        }\n\n        // 创建 Answer\n        const answer = await this.downPC.createAnswer();\n        await this.downPC.setLocalDescription(answer);\n\n        // 回复信令\n        this.sendSignal(\"down_answer\", {\n          sdp: answer.sdp\n        });\n      } catch (e) {\n        this.log(\"协商异常: \" + e.message);\n      } finally {\n        this.isDownNegotiating = false;\n        // 小延迟后处理下一个，给浏览器留出状态切换时间\n        setTimeout(() => this.processQueue(), 50);\n      }\n    },\n    // 3. 处理 ICE 候选\n    async handleRemoteCandidate(candidateInit) {\n      // 核心：如果 RemoteDescription 还没设置，存入 pending\n      if (!this.downPC || !this.downPC.remoteDescription || !this.downPC.remoteDescription.type) {\n        this.pendingCandidates.push(candidateInit);\n        return;\n      }\n      try {\n        await this.downPC.addIceCandidate(new RTCIceCandidate(candidateInit));\n      } catch (e) {\n        // 忽略过期候选者的报错\n      }\n    },\n    initDownPC() {\n      this.downPC = new RTCPeerConnection({\n        iceServers: [{\n          urls: \"stun:stun.l.google.com:19302\"\n        }]\n      });\n      this.downPC.onicecandidate = e => {\n        if (e.candidate) this.sendSignal(\"down_candidate\", {\n          candidate: e.candidate\n        });\n      };\n      this.downPC.ontrack = event => {\n        // 后端 NewTrackLocalStaticRTP 的第三个参数必须是 publisherUID\n        const stream = event.streams[0];\n        if (!stream) return;\n        const remoteUid = stream.id;\n        this.log(`轨道就绪: [${event.track.kind}] 来自 ${remoteUid}`);\n\n        // Vue 2 响应式更新\n        if (!this.remoteStreams[remoteUid]) {\n          this.$set(this.remoteStreams, remoteUid, stream);\n        } else {\n          // 如果流已存在但新轨道进入，自动关联（通常 stream 会自动包含新 track）\n          this.log(`流 ${remoteUid} 已更新轨道`);\n        }\n      };\n    },\n    removeRemoteUser(uid) {\n      if (this.remoteStreams[uid]) {\n        this.log(`清理用户: ${uid}`);\n        this.$delete(this.remoteStreams, uid);\n      }\n    },\n    sendSignal(event, data) {\n      if (this.ws?.readyState === WebSocket.OPEN) {\n        this.ws.send(JSON.stringify({\n          event,\n          data\n        }));\n      }\n    },\n    leaveRoom(closeWs = true) {\n      this.joined = false;\n      this.offerQueue = [];\n      this.pendingCandidates = [];\n      if (this.upPC) this.upPC.close();\n      if (this.downPC) this.downPC.close();\n      if (this.localStream) this.localStream.getTracks().forEach(t => t.stop());\n      if (closeWs && this.ws) this.ws.close();\n      this.remoteStreams = {};\n      this.upPC = null;\n      this.downPC = null;\n      this.log(\"已退出房间\");\n    }\n  },\n  beforeDestroy() {\n    this.leaveRoom();\n  }\n};","map":{"version":3,"names":["name","data","wsUrl","roomID","uid","Math","floor","random","joined","loading","logs","ws","localStream","upPC","downPC","remoteStreams","isDownNegotiating","offerQueue","pendingCandidates","methods","log","msg","time","Date","toLocaleTimeString","unshift","length","pop","joinRoom","alert","navigator","mediaDevices","getUserMedia","video","width","height","audio","$refs","localVideo","srcObject","connectWebSocket","e","message","url","WebSocket","onopen","createUpstream","onmessage","handleSignal","JSON","parse","onclose","leaveRoom","event","setRemoteDescription","RTCSessionDescription","type","sdp","addIceCandidate","candidate","enqueueDownOffer","handleRemoteCandidate","target","publisherId","removeRemoteUser","RTCPeerConnection","iceServers","urls","getTracks","forEach","track","addTrack","onicecandidate","sendSignal","offer","createOffer","setLocalDescription","push","processQueue","currentOffer","shift","initDownPC","cand","RTCIceCandidate","catch","console","warn","answer","createAnswer","setTimeout","candidateInit","remoteDescription","ontrack","stream","streams","remoteUid","id","kind","$set","$delete","readyState","OPEN","send","stringify","closeWs","close","t","stop","beforeDestroy"],"sources":["src/views/utils/test2.vue"],"sourcesContent":["<template>\r\n  <div class=\"sfu-room\">\r\n    <div class=\"controls\">\r\n      <h2>SFU 视频会议 (高可靠同步版)</h2>\r\n      <div v-if=\"!joined\" class=\"login-form\">\r\n        <input v-model=\"roomID\" placeholder=\"房间号\" />\r\n        <input v-model=\"uid\" placeholder=\"我的UID\" />\r\n        <button @click=\"joinRoom\" :disabled=\"loading\">进入房间</button>\r\n      </div>\r\n      <div v-else class=\"actions\">\r\n        <span>房间: <b>{{ roomID }}</b> | 我的UID: <b>{{ uid }}</b></span>\r\n        <button class=\"btn-leave\" @click=\"leaveRoom\">离开房间</button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"video-grid\">\r\n      <div class=\"video-card local\">\r\n        <video ref=\"localVideo\" autoplay playsinline muted></video>\r\n        <div class=\"label\">我 ({{ uid }})</div>\r\n      </div>\r\n\r\n      <div v-for=\"(stream, remoteUid) in remoteStreams\" :key=\"remoteUid\" class=\"video-card remote\">\r\n        <video :src-object.prop=\"stream\" autoplay playsinline></video>\r\n        <div class=\"label\">\r\n          用户: {{ remoteUid }}\r\n          <span class=\"status-tag\">Live</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"logs\">\r\n      <div v-for=\"(log, i) in logs\" :key=\"i\" class=\"log-item\">{{ log }}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"SFURoom\",\r\n  data() {\r\n    return {\r\n      wsUrl: \"ws://192.168.43.143:8080/room/join\", // 请确保地址正确\r\n      roomID: \"ToRhXRHjv8MEMHn9RE8rLt\",\r\n      uid: \"user_\" + Math.floor(Math.random() * 1000),\r\n\r\n      joined: false,\r\n      loading: false,\r\n      logs: [],\r\n\r\n      ws: null,\r\n      localStream: null,\r\n      upPC: null,\r\n      downPC: null,\r\n\r\n      remoteStreams: {}, // { uid: MediaStream }\r\n\r\n      // --- 关键：同步控制变量 ---\r\n      isDownNegotiating: false, // 协商锁\r\n      offerQueue: [],           // Offer 任务队列\r\n      pendingCandidates: [],    // 还没设置 RemoteDescription 前收到的 Candidate 缓存\r\n    };\r\n  },\r\n  methods: {\r\n    log(msg) {\r\n      const time = new Date().toLocaleTimeString();\r\n      this.logs.unshift(`[${time}] ${msg}`);\r\n      if (this.logs.length > 50) this.logs.pop();\r\n    },\r\n\r\n    async joinRoom() {\r\n      if (!this.roomID || !this.uid) return alert(\"信息不全\");\r\n      this.loading = true;\r\n\r\n      try {\r\n        this.localStream = await navigator.mediaDevices.getUserMedia({\r\n          video: { width: 640, height: 360 },\r\n          audio: true\r\n        });\r\n        this.$refs.localVideo.srcObject = this.localStream;\r\n        this.connectWebSocket();\r\n      } catch (e) {\r\n        this.log(\"媒体授权失败: \" + e.message);\r\n        this.loading = false;\r\n      }\r\n    },\r\n\r\n    connectWebSocket() {\r\n      const url = `${this.wsUrl}?uid=${this.uid}&roomID=${this.roomID}`;\r\n      this.ws = new WebSocket(url);\r\n      this.ws.onopen = () => {\r\n        this.joined = true;\r\n        this.loading = false;\r\n        this.log(\"信令已连接，开始推流...\");\r\n        this.createUpstream();\r\n      };\r\n      this.ws.onmessage = (e) => this.handleSignal(JSON.parse(e.data));\r\n      this.ws.onclose = () => this.leaveRoom(false);\r\n    },\r\n\r\n    async handleSignal(msg) {\r\n      const { event, data } = msg;\r\n\r\n      switch (event) {\r\n        case \"up_answer\":\r\n          await this.upPC.setRemoteDescription(new RTCSessionDescription({ type: 'answer', sdp: data.sdp }));\r\n          this.log(\"推流协商成功\");\r\n          break;\r\n\r\n        case \"up_candidate\":\r\n          if (this.upPC) await this.upPC.addIceCandidate(data.candidate);\r\n          break;\r\n\r\n        case \"down_offer\":\r\n          // 放入队列处理，防止后端并发发送多个 Offer 导致状态冲突\r\n          this.enqueueDownOffer(data);\r\n          break;\r\n\r\n        case \"down_candidate\":\r\n          this.handleRemoteCandidate(data.candidate);\r\n          break;\r\n\r\n        case \"unpublish_stream\":\r\n        case \"user_leave\":\r\n          const target = data.uid || data.publisherId;\r\n          this.removeRemoteUser(target);\r\n          break;\r\n      }\r\n    },\r\n\r\n    // ================= 推流 (Publish) =================\r\n    async createUpstream() {\r\n      this.upPC = new RTCPeerConnection({\r\n        iceServers: [{ urls: \"stun:stun.l.google.com:19302\" }]\r\n      });\r\n\r\n      this.localStream.getTracks().forEach(track => {\r\n        this.upPC.addTrack(track, this.localStream);\r\n      });\r\n\r\n      this.upPC.onicecandidate = (e) => {\r\n        if (e.candidate) this.sendSignal(\"up_candidate\", { candidate: e.candidate });\r\n      };\r\n\r\n      const offer = await this.upPC.createOffer();\r\n      await this.upPC.setLocalDescription(offer);\r\n      this.sendSignal(\"up_offer\", { uid: this.uid, sdp: offer.sdp });\r\n    },\r\n\r\n    // ================= 拉流 (Subscribe) 与 队列化协商 =================\r\n    \r\n    // 1. 将收到的 Offer 加入队列\r\n    enqueueDownOffer(data) {\r\n      this.offerQueue.push(data);\r\n      this.processQueue();\r\n    },\r\n\r\n    // 2. 循环处理队列\r\n    async processQueue() {\r\n      if (this.isDownNegotiating || this.offerQueue.length === 0) return;\r\n\r\n      this.isDownNegotiating = true;\r\n      const currentOffer = this.offerQueue.shift();\r\n\r\n      try {\r\n        if (!this.downPC) this.initDownPC();\r\n\r\n        this.log(`处理拉流协商...`);\r\n        \r\n        // 设置远端 SDP\r\n        await this.downPC.setRemoteDescription(new RTCSessionDescription({\r\n          type: 'offer',\r\n          sdp: currentOffer.sdp\r\n        }));\r\n\r\n        // 处理之前缓存的 Candidate\r\n        while (this.pendingCandidates.length > 0) {\r\n          const cand = this.pendingCandidates.shift();\r\n          await this.downPC.addIceCandidate(new RTCIceCandidate(cand)).catch(e => {\r\n            console.warn(\"添加缓存 Candidate 失败\", e);\r\n          });\r\n        }\r\n\r\n        // 创建 Answer\r\n        const answer = await this.downPC.createAnswer();\r\n        await this.downPC.setLocalDescription(answer);\r\n\r\n        // 回复信令\r\n        this.sendSignal(\"down_answer\", { sdp: answer.sdp });\r\n        \r\n      } catch (e) {\r\n        this.log(\"协商异常: \" + e.message);\r\n      } finally {\r\n        this.isDownNegotiating = false;\r\n        // 小延迟后处理下一个，给浏览器留出状态切换时间\r\n        setTimeout(() => this.processQueue(), 50);\r\n      }\r\n    },\r\n\r\n    // 3. 处理 ICE 候选\r\n    async handleRemoteCandidate(candidateInit) {\r\n      // 核心：如果 RemoteDescription 还没设置，存入 pending\r\n      if (!this.downPC || !this.downPC.remoteDescription || !this.downPC.remoteDescription.type) {\r\n        this.pendingCandidates.push(candidateInit);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        await this.downPC.addIceCandidate(new RTCIceCandidate(candidateInit));\r\n      } catch (e) {\r\n        // 忽略过期候选者的报错\r\n      }\r\n    },\r\n\r\n    initDownPC() {\r\n      this.downPC = new RTCPeerConnection({\r\n        iceServers: [{ urls: \"stun:stun.l.google.com:19302\" }]\r\n      });\r\n\r\n      this.downPC.onicecandidate = (e) => {\r\n        if (e.candidate) this.sendSignal(\"down_candidate\", { candidate: e.candidate });\r\n      };\r\n\r\n      this.downPC.ontrack = (event) => {\r\n        // 后端 NewTrackLocalStaticRTP 的第三个参数必须是 publisherUID\r\n        const stream = event.streams[0];\r\n        if (!stream) return;\r\n        \r\n        const remoteUid = stream.id; \r\n        this.log(`轨道就绪: [${event.track.kind}] 来自 ${remoteUid}`);\r\n\r\n        // Vue 2 响应式更新\r\n        if (!this.remoteStreams[remoteUid]) {\r\n          this.$set(this.remoteStreams, remoteUid, stream);\r\n        } else {\r\n          // 如果流已存在但新轨道进入，自动关联（通常 stream 会自动包含新 track）\r\n          this.log(`流 ${remoteUid} 已更新轨道`);\r\n        }\r\n      };\r\n    },\r\n\r\n    removeRemoteUser(uid) {\r\n      if (this.remoteStreams[uid]) {\r\n        this.log(`清理用户: ${uid}`);\r\n        this.$delete(this.remoteStreams, uid);\r\n      }\r\n    },\r\n\r\n    sendSignal(event, data) {\r\n      if (this.ws?.readyState === WebSocket.OPEN) {\r\n        this.ws.send(JSON.stringify({ event, data }));\r\n      }\r\n    },\r\n\r\n    leaveRoom(closeWs = true) {\r\n      this.joined = false;\r\n      this.offerQueue = [];\r\n      this.pendingCandidates = [];\r\n      if (this.upPC) this.upPC.close();\r\n      if (this.downPC) this.downPC.close();\r\n      if (this.localStream) this.localStream.getTracks().forEach(t => t.stop());\r\n      if (closeWs && this.ws) this.ws.close();\r\n      this.remoteStreams = {};\r\n      this.upPC = null;\r\n      this.downPC = null;\r\n      this.log(\"已退出房间\");\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    this.leaveRoom();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 保持你之前的样式，增加了简单的响应式和视频美化 */\r\n.sfu-room { font-family: sans-serif; padding: 20px; background: #f4f7f9; min-height: 100vh; }\r\n.controls { background: white; padding: 15px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }\r\n.video-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px; }\r\n.video-card { background: #000; border-radius: 8px; position: relative; aspect-ratio: 16/9; overflow: hidden; }\r\nvideo { width: 100%; height: 100%; object-fit: cover; }\r\n.local video { transform: scaleX(-1); }\r\n.label { position: absolute; bottom: 8px; left: 8px; background: rgba(0,0,0,0.6); color: #fff; padding: 2px 8px; border-radius: 4px; font-size: 12px; }\r\n.status-tag { color: #40f99b; margin-left: 5px; font-weight: bold; }\r\n.logs { margin-top: 20px; background: #1e1e1e; color: #adadad; padding: 10px; height: 150px; overflow-y: auto; font-family: monospace; font-size: 11px; border-radius: 4px; }\r\n.log-item { border-bottom: 1px solid #333; padding: 2px 0; }\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}