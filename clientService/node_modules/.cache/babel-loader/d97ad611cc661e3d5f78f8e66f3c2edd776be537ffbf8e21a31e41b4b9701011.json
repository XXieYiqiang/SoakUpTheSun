{"ast":null,"code":"var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c('div', {\n    staticClass: \"chat-app cyber-theme\"\n  }, [_c('div', {\n    staticClass: \"tech-bg-grid\"\n  }), _c('aside', {\n    ref: \"sidebar\",\n    class: ['sidebar', 'glass-panel', {\n      'sidebar-collapsed': _vm.sidebarCollapsed\n    }]\n  }, [_c('div', {\n    staticClass: \"sidebar-title-bar\"\n  }, [_vm._m(0), _c('el-button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: _vm.isMobile,\n      expression: \"isMobile\"\n    }],\n    staticClass: \"tech-btn-icon\",\n    attrs: {\n      \"icon\": \"el-icon-arrow-left\",\n      \"circle\": \"\"\n    },\n    on: {\n      \"click\": _vm.toggleSidebar\n    }\n  })], 1), _c('div', {\n    staticClass: \"sidebar-search\"\n  }, [_c('el-input', {\n    staticClass: \"tech-input-search\",\n    attrs: {\n      \"placeholder\": \"SEARCH DATA...\",\n      \"size\": \"small\",\n      \"clearable\": \"\"\n    },\n    model: {\n      value: _vm.search,\n      callback: function ($$v) {\n        _vm.search = $$v;\n      },\n      expression: \"search\"\n    }\n  }, [_c('i', {\n    staticClass: \"el-input__icon el-icon-search\",\n    attrs: {\n      \"slot\": \"prefix\"\n    },\n    slot: \"prefix\"\n  })])], 1), _c('el-menu', {\n    staticClass: \"sidebar-menu tech-menu\",\n    attrs: {\n      \"default-active\": _vm.activeMenu,\n      \"collapse\": _vm.sidebarCollapsed\n    },\n    on: {\n      \"select\": _vm.handleMenuSelect\n    }\n  }, [_c('el-menu-item', {\n    attrs: {\n      \"index\": \"message\"\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-chat-dot-square\"\n  }), _c('span', {\n    attrs: {\n      \"slot\": \"title\"\n    },\n    slot: \"title\"\n  }, [_vm._v(\"通讯流\")]), _vm.unreadTotal > 0 ? _c('el-badge', {\n    staticClass: \"menu-badge tech-badge\",\n    attrs: {\n      \"value\": _vm.unreadTotal\n    }\n  }) : _vm._e()], 1), _c('el-menu-item', {\n    attrs: {\n      \"index\": \"group\"\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-connection\"\n  }), _c('span', {\n    attrs: {\n      \"slot\": \"title\"\n    },\n    slot: \"title\"\n  }, [_vm._v(\"协作组\")])]), _c('el-menu-item', {\n    attrs: {\n      \"index\": \"setting\"\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-setting\"\n  }), _c('span', {\n    attrs: {\n      \"slot\": \"title\"\n    },\n    slot: \"title\"\n  }, [_vm._v(\"系统设置\")])])], 1), _c('div', {\n    staticClass: \"sidebar-list custom-scrollbar\"\n  }, [_c('div', {\n    staticClass: \"sidebar-list-title\"\n  }, [_vm._v(\"ACTIVE LINKS\")]), _c('div', {\n    staticClass: \"sidebar-list-scroll\"\n  }, [_vm.filteredContacts.length > 0 ? _vm._l(_vm.filteredContacts, function (contact) {\n    return _c('div', {\n      key: contact.UserID,\n      class: ['contact-item', {\n        active: contact.UserID === _vm.currentContactId\n      }],\n      on: {\n        \"click\": function ($event) {\n          return _vm.selectContact(contact.UserID);\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"avatar-wrap\"\n    }, [_c('img', {\n      staticClass: \"avatar\",\n      attrs: {\n        \"src\": contact.AvatarURL\n      }\n    }), _c('span', {\n      staticClass: \"status-dot\",\n      class: contact.Status === 'online' ? 'online' : 'offline'\n    })]), _c('div', {\n      staticClass: \"contact-info\"\n    }, [_c('div', {\n      staticClass: \"contact-top\"\n    }, [_c('span', {\n      staticClass: \"contact-name\"\n    }, [_vm._v(_vm._s(contact.UserName))]), _c('span', {\n      staticClass: \"contact-time\"\n    }, [_vm._v(_vm._s(_vm.formatTime2(contact.LastOnlineTime)))])]), _c('div', {\n      staticClass: \"contact-bottom\"\n    }, [contact.lastMessageType === 'file' ? _c('span', {\n      staticClass: \"msg-preview\"\n    }, [_c('i', {\n      staticClass: \"el-icon-document\"\n    }), _vm._v(\" FILE \")]) : _c('span', {\n      staticClass: \"msg-preview\"\n    }, [_vm._v(_vm._s(contact.lastMessage))])])]), contact.unread_count > 0 ? _c('el-badge', {\n      staticClass: \"contact-badge tech-badge\",\n      attrs: {\n        \"value\": contact.unread_count\n      }\n    }) : _vm._e()], 1);\n  }) : _c('el-empty', {\n    attrs: {\n      \"description\": \"无链接信号\",\n      \"image-size\": 60\n    }\n  })], 2)]), _c('div', {\n    staticClass: \"sidebar-account\"\n  }, [_c('div', {\n    staticClass: \"avatar-wrap mini\"\n  }, [_vm.isOnline ? _c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": _vm.userInfo.avatarUrl\n    }\n  }) : _c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": require(\"@/assets/images/common/default.jpg\")\n    }\n  }), _c('div', {\n    staticClass: \"scan-line\"\n  })]), _c('div', {\n    staticClass: \"account-info\"\n  }, [_c('div', {\n    staticClass: \"account-name\"\n  }, [_vm._v(_vm._s(_vm.userInfo?.userName || 'GUEST_USER'))]), _c('div', {\n    staticClass: \"account-status\"\n  }, [_c('span', {\n    class: ['status-dot', _vm.isOnline ? 'online' : 'offline']\n  }), _vm._v(\" \" + _vm._s(_vm.isOnline ? 'ONLINE' : 'OFFLINE') + \" \")])]), _c('el-button', {\n    staticClass: \"tech-btn-icon danger\",\n    attrs: {\n      \"icon\": \"el-icon-switch-button\",\n      \"circle\": \"\"\n    },\n    on: {\n      \"click\": _vm.logout\n    }\n  })], 1)], 1), _c('main', {\n    staticClass: \"chat-main\"\n  }, [_c('header', {\n    staticClass: \"chat-header glass-panel\"\n  }, [_c('div', {\n    staticClass: \"chat-header-left\",\n    staticStyle: {\n      \"display\": \"flex\"\n    }\n  }, [_c('el-button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: _vm.isMobile,\n      expression: \"isMobile\"\n    }],\n    staticClass: \"tech-btn-icon mobile-menu\",\n    attrs: {\n      \"icon\": \"el-icon-menu\",\n      \"circle\": \"\"\n    },\n    on: {\n      \"click\": _vm.showSidebar\n    }\n  }), _c('div', {\n    staticClass: \"avatar-wrap header-avatar\"\n  }, [_vm.currentContactAvatar ? _c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": _vm.currentContactAvatar\n    }\n  }) : _c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": require(\"@/assets/images/common/default.jpg\")\n    }\n  })]), _c('div', [_c('div', {\n    staticClass: \"chat-header-name\"\n  }, [_vm._v(_vm._s(_vm.currentContactName || '未选择终端'))]), _c('div', {\n    staticClass: \"chat-header-status\"\n  }, [_c('span', {\n    staticClass: \"status-dot\",\n    class: _vm.currentContactStatus === 'online' ? 'online' : 'offline'\n  }), _vm._v(\" \" + _vm._s(_vm.statusText) + \" \")])])], 1), _c('div', {\n    staticClass: \"chat-header-actions\"\n  }, [_c('el-button', {\n    staticClass: \"tech-btn-icon\",\n    attrs: {\n      \"icon\": \"el-icon-search\",\n      \"circle\": \"\"\n    }\n  }), _c('el-button', {\n    staticClass: \"tech-btn-icon\",\n    attrs: {\n      \"icon\": \"el-icon-phone-outline\",\n      \"circle\": \"\"\n    }\n  }), _c('el-button', {\n    staticClass: \"tech-btn-icon\",\n    attrs: {\n      \"icon\": \"el-icon-more\",\n      \"circle\": \"\"\n    }\n  })], 1)]), _c('div', {\n    ref: \"chatBody\",\n    staticClass: \"chat-body custom-scrollbar\"\n  }, [_c('div', {\n    staticClass: \"chat-date-divider\"\n  }, [_c('span', [_vm._v(\"SYSTEM LOG: \" + _vm._s(new Date().toLocaleDateString()))])]), _vm._l(_vm.messages, function (msg) {\n    return _c('div', {\n      key: msg.messageId,\n      class: ['chat-message', msg.senderId === _vm.userInfo.userId ? 'self' : 'other']\n    }, [msg.senderId !== _vm.userInfo.userId ? _c('img', {\n      staticClass: \"avatar msg-avatar\",\n      attrs: {\n        \"src\": _vm.currentContactAvatar\n      }\n    }) : _vm._e(), _c('div', {\n      staticClass: \"msg-content-wrap\"\n    }, [msg.senderId !== _vm.userInfo.userId ? _c('div', {\n      staticClass: \"msg-meta\"\n    }, [_c('span', {\n      staticClass: \"msg-name\"\n    }, [_vm._v(_vm._s(_vm.currentContactName))]), _c('span', {\n      staticClass: \"msg-time\"\n    }, [_vm._v(_vm._s(_vm.formatTime(msg.sendTime)))])]) : _vm._e(), msg.messageType === '文本' ? _c('div', {\n      class: ['msg-bubble', msg.senderId === _vm.userInfo.userId ? 'right' : 'left']\n    }, [_c('span', {\n      staticClass: \"msg-text\"\n    }, [_vm._v(_vm._s(msg.content))])]) : msg.messageType === '图片' ? _c('div', {\n      class: ['msg-bubble', msg.senderId === _vm.userInfo.userId ? 'right' : 'left']\n    }, [_c('img', {\n      staticClass: \"msg-img\",\n      attrs: {\n        \"src\": msg.attachment_url\n      }\n    }), _c('div', {\n      staticClass: \"msg-file-meta\"\n    }, [_vm._v(\"IMG_DATA\")])]) : msg.messageType === '文件' ? _c('div', {\n      class: ['msg-bubble', msg.senderId === _vm.userInfo.userId ? 'right' : 'left']\n    }, [_c('i', {\n      staticClass: \"el-icon-document\"\n    }), _c('span', [_vm._v(_vm._s(msg.attachment_name))])]) : _vm._e(), msg.senderId === _vm.userInfo.userId ? _c('div', {\n      staticClass: \"msg-meta-bottom\"\n    }, [_c('span', {\n      staticClass: \"msg-time\"\n    }, [_vm._v(_vm._s(_vm.formatTime(msg.sendTime)))]), msg.readStatus === 'read' ? _c('i', {\n      staticClass: \"el-icon-check\",\n      staticStyle: {\n        \"color\": \"#00f2ff\"\n      }\n    }) : _vm._e()]) : _vm._e()])]);\n  }), _vm.isTyping ? _c('div', {\n    staticClass: \"chat-message other\"\n  }, [_c('img', {\n    staticClass: \"avatar msg-avatar\",\n    attrs: {\n      \"src\": _vm.currentContactAvatar\n    }\n  }), _vm._m(1)]) : _vm._e()], 2), _c('footer', {\n    staticClass: \"chat-footer glass-panel\"\n  }, [_c('div', {\n    staticClass: \"chat-footer-actions\"\n  }, [_c('el-button', {\n    staticClass: \"tech-btn-icon\",\n    attrs: {\n      \"circle\": \"\"\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-picture-outline\"\n  })]), _c('el-button', {\n    staticClass: \"tech-btn-icon\",\n    attrs: {\n      \"circle\": \"\"\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-folder-opened\"\n  })]), _c('div', {\n    staticStyle: {\n      \"flex\": \"1\"\n    }\n  })], 1), _c('div', {\n    staticClass: \"chat-footer-input\"\n  }, [_c('div', {\n    staticClass: \"input-wrapper\"\n  }, [_c('el-input', {\n    ref: \"input\",\n    staticClass: \"msg-input tech-textarea\",\n    attrs: {\n      \"type\": \"textarea\",\n      \"autosize\": {\n        minRows: 2,\n        maxRows: 2,\n        maxHeight: 100\n      },\n      \"placeholder\": \"输入指令...\"\n    },\n    nativeOn: {\n      \"keydown\": function ($event) {\n        return _vm.handleInputKeydown.apply(null, arguments);\n      }\n    },\n    model: {\n      value: _vm.inputMessage,\n      callback: function ($$v) {\n        _vm.inputMessage = $$v;\n      },\n      expression: \"inputMessage\"\n    }\n  })], 1), _c('el-button', {\n    staticClass: \"send-btn\",\n    attrs: {\n      \"type\": \"primary\",\n      \"circle\": \"\"\n    },\n    on: {\n      \"click\": _vm.sendMessage\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-position\"\n  })])], 1)])])]);\n};\nvar staticRenderFns = [function () {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c('span', {\n    staticClass: \"sidebar-title\"\n  }, [_c('span', {\n    staticClass: \"logo-text\"\n  }, [_vm._v(\"GIM\"), _c('span', {\n    staticClass: \"highlight\"\n  }, [_vm._v(\"MSG\")])])]);\n}, function () {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c('div', {\n    staticClass: \"msg-content-wrap\"\n  }, [_c('div', {\n    staticClass: \"msg-bubble left typing-bubble\"\n  }, [_c('span', {\n    staticClass: \"typing-dot\"\n  }), _c('span', {\n    staticClass: \"typing-dot\"\n  }), _c('span', {\n    staticClass: \"typing-dot\"\n  })])]);\n}];\nexport { render, staticRenderFns };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}