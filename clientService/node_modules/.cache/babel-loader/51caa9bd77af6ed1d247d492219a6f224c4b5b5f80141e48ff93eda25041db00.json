{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  data() {\n    return {\n      userName: '',\n      userAge: ''\n    };\n  },\n  mounted() {\n    // 1. 从 this.$route.query 获取参数\n    const query = this.$route.query;\n\n    // 2. 清理数据（去掉可能存在的单引号和多余空格）\n    this.userName = this.cleanParam(query.name);\n    this.userAge = this.cleanParam(query.age);\n    console.log('解析到的数据:', this.userName, this.userAge);\n\n    // 3. 执行后续跳转逻辑\n    if (this.userName) {\n      this.handleVerify();\n    }\n  },\n  methods: {\n    cleanParam(val) {\n      if (!val) return '';\n      // 正则去除字符串前后的单引号 '\n      return val.replace(/^'|'$/g, '').trim();\n    },\n    handleVerify() {\n      // 校验成功后，按你之前的要求，通过 params 拼接跳转到聊天室\n      this.$router.replace({\n        name: 'ChatView',\n        params: {\n          roomId: 'R123',\n          // 假设后端返回\n          token: 'TK456' // 假设后端返回\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","userName","userAge","mounted","query","$route","cleanParam","name","age","console","log","handleVerify","methods","val","replace","trim","$router","params","roomId","token"],"sources":["src/views/JoinRoom.vue"],"sourcesContent":["<template>\r\n  <div class=\"join-room\">\r\n    <div v-if=\"isProcessing\" class=\"status-box\">\r\n      <div class=\"spinner\"></div>\r\n      <p>{{ processText }}</p>\r\n    </div>\r\n    \r\n    <div v-else-if=\"hasError\" class=\"error-box\">\r\n      <icon-error></icon-error> \r\n      <h3>访问受限</h3>\r\n      <p>{{ errorTip }}</p>\r\n      <button @click=\"closeWindow\">关闭页面</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      userName: '',\r\n      userAge: ''\r\n    };\r\n  },\r\n  mounted() {\r\n    // 1. 从 this.$route.query 获取参数\r\n    const query = this.$route.query;\r\n    \r\n    // 2. 清理数据（去掉可能存在的单引号和多余空格）\r\n    this.userName = this.cleanParam(query.name);\r\n    this.userAge = this.cleanParam(query.age);\r\n\r\n    console.log('解析到的数据:', this.userName, this.userAge);\r\n    \r\n    // 3. 执行后续跳转逻辑\r\n    if (this.userName) {\r\n       this.handleVerify();\r\n    }\r\n  },\r\n  methods: {\r\n    cleanParam(val) {\r\n      if (!val) return '';\r\n      // 正则去除字符串前后的单引号 '\r\n      return val.replace(/^'|'$/g, '').trim();\r\n    },\r\n    handleVerify() {\r\n      // 校验成功后，按你之前的要求，通过 params 拼接跳转到聊天室\r\n      this.$router.replace({\r\n        name: 'ChatView',\r\n        params: {\r\n          roomId: 'R123', // 假设后端返回\r\n          token: 'TK456'  // 假设后端返回\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.join-room { padding: 50px 20px; text-align: center; }\r\n.error-box h3 { color: #333; margin-top: 20px; }\r\n.error-box p { color: #999; font-size: 14px; margin: 10px 0 30px; }\r\nbutton {\r\n  padding: 10px 30px; background: #3498db; color: #fff;\r\n  border: none; border-radius: 4px; cursor: pointer;\r\n}\r\n</style>"],"mappings":";;;;;;iCAiBA;EACAA,KAAA;IACA;MACAC,QAAA;MACAC,OAAA;IACA;EACA;EACAC,QAAA;IACA;IACA,MAAAC,KAAA,QAAAC,MAAA,CAAAD,KAAA;;IAEA;IACA,KAAAH,QAAA,QAAAK,UAAA,CAAAF,KAAA,CAAAG,IAAA;IACA,KAAAL,OAAA,QAAAI,UAAA,CAAAF,KAAA,CAAAI,GAAA;IAEAC,OAAA,CAAAC,GAAA,iBAAAT,QAAA,OAAAC,OAAA;;IAEA;IACA,SAAAD,QAAA;MACA,KAAAU,YAAA;IACA;EACA;EACAC,OAAA;IACAN,WAAAO,GAAA;MACA,KAAAA,GAAA;MACA;MACA,OAAAA,GAAA,CAAAC,OAAA,eAAAC,IAAA;IACA;IACAJ,aAAA;MACA;MACA,KAAAK,OAAA,CAAAF,OAAA;QACAP,IAAA;QACAU,MAAA;UACAC,MAAA;UAAA;UACAC,KAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}