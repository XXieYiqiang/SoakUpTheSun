{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Administrator/Desktop/SoakUpTheSun/clientService/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _vue = _interopRequireDefault(require(\"vue\"));\nvar _Box = _interopRequireDefault(require(\"./Box.vue\"));\nconst UploadFileConstructor = _vue.default.extend(_Box.default);\nlet uploadFileInstance = null;\nconst showUploadFileBox = ({\n  params = {},\n  uploadWay = 0,\n  serviceEl = null,\n  callType = ''\n}) => {\n  return new Promise(resolve => {\n    // 1. 每次都创建新实例（避免复用导致 Promise 不生效）\n    const instance = new UploadFileConstructor({\n      el: document.createElement('div')\n    });\n\n    // 2. 设置属性\n    instance.params = params;\n    instance.uploadWay = uploadWay;\n    instance.serviceEl = serviceEl;\n    instance.callType = callType;\n\n    // 3. 设置回调\n    instance.callback = res => {\n      resolve(res);\n      document.body.removeChild(instance.$el);\n      instance.$destroy();\n      uploadFileInstance = null; // 清空引用\n    };\n\n    // 4. 渲染挂载\n    document.body.appendChild(instance.$el);\n\n    // 存一份引用（可选）\n    uploadFileInstance = instance;\n  });\n};\nvar _default = exports.default = showUploadFileBox;","map":{"version":3,"names":["_vue","_interopRequireDefault","require","_Box","UploadFileConstructor","Vue","extend","UploadFile","uploadFileInstance","showUploadFileBox","params","uploadWay","serviceEl","callType","Promise","resolve","instance","el","document","createElement","callback","res","body","removeChild","$el","$destroy","appendChild","_default","exports","default"],"sources":["C:/Users/Administrator/Desktop/SoakUpTheSun/clientService/src/components/file/box/uploadFile/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport UploadFile from './Box.vue'\r\n\r\nconst UploadFileConstructor = Vue.extend(UploadFile)\r\n\r\nlet uploadFileInstance = null\r\n\r\nconst showUploadFileBox = ({ params = {}, uploadWay = 0, serviceEl = null, callType = '' }) => {\r\n  return new Promise((resolve) => {\r\n    // 1. 每次都创建新实例（避免复用导致 Promise 不生效）\r\n    const instance = new UploadFileConstructor({\r\n      el: document.createElement('div')\r\n    })\r\n\r\n    // 2. 设置属性\r\n    instance.params = params\r\n    instance.uploadWay = uploadWay\r\n    instance.serviceEl = serviceEl\r\n    instance.callType = callType\r\n\r\n    // 3. 设置回调\r\n    instance.callback = (res) => {\r\n      resolve(res)\r\n      document.body.removeChild(instance.$el)\r\n      instance.$destroy()\r\n      uploadFileInstance = null // 清空引用\r\n    }\r\n\r\n    // 4. 渲染挂载\r\n    document.body.appendChild(instance.$el)\r\n\r\n    // 存一份引用（可选）\r\n    uploadFileInstance = instance\r\n  })\r\n}\r\n\r\nexport default showUploadFileBox\r\n"],"mappings":";;;;;;;AAAA,IAAAA,IAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,IAAA,GAAAF,sBAAA,CAAAC,OAAA;AAEA,MAAME,qBAAqB,GAAGC,YAAG,CAACC,MAAM,CAACC,YAAU,CAAC;AAEpD,IAAIC,kBAAkB,GAAG,IAAI;AAE7B,MAAMC,iBAAiB,GAAGA,CAAC;EAAEC,MAAM,GAAG,CAAC,CAAC;EAAEC,SAAS,GAAG,CAAC;EAAEC,SAAS,GAAG,IAAI;EAAEC,QAAQ,GAAG;AAAG,CAAC,KAAK;EAC7F,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAK;IAC9B;IACA,MAAMC,QAAQ,GAAG,IAAIZ,qBAAqB,CAAC;MACzCa,EAAE,EAAEC,QAAQ,CAACC,aAAa,CAAC,KAAK;IAClC,CAAC,CAAC;;IAEF;IACAH,QAAQ,CAACN,MAAM,GAAGA,MAAM;IACxBM,QAAQ,CAACL,SAAS,GAAGA,SAAS;IAC9BK,QAAQ,CAACJ,SAAS,GAAGA,SAAS;IAC9BI,QAAQ,CAACH,QAAQ,GAAGA,QAAQ;;IAE5B;IACAG,QAAQ,CAACI,QAAQ,GAAIC,GAAG,IAAK;MAC3BN,OAAO,CAACM,GAAG,CAAC;MACZH,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACP,QAAQ,CAACQ,GAAG,CAAC;MACvCR,QAAQ,CAACS,QAAQ,CAAC,CAAC;MACnBjB,kBAAkB,GAAG,IAAI,EAAC;IAC5B,CAAC;;IAED;IACAU,QAAQ,CAACI,IAAI,CAACI,WAAW,CAACV,QAAQ,CAACQ,GAAG,CAAC;;IAEvC;IACAhB,kBAAkB,GAAGQ,QAAQ;EAC/B,CAAC,CAAC;AACJ,CAAC;AAAA,IAAAW,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEcpB,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}