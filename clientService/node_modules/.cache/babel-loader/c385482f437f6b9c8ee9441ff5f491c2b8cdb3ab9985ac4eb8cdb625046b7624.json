{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Administrator/Desktop/GimChat/gimChatVue/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _easymde = _interopRequireDefault(require(\"easymde\"));\nrequire(\"easymde/dist/easymde.min.css\");\nvar _marked = require(\"marked\");\nvar _highlight = _interopRequireDefault(require(\"highlight.js\"));\nrequire(\"highlight.js/styles/github.css\");\n// 1. å¯¼å…¥ EasyMDE æ ¸å¿ƒåº“\n// 2. å¯¼å…¥ EasyMDE é»˜è®¤æ ·å¼\n// 3. å¯¼å…¥ Markdown è§£æå’Œä»£ç é«˜äº®åº“ (ç”¨äºè‡ªå®šä¹‰æ¸²æŸ“)\n// å¯¼å…¥ä»£ç é«˜äº®ä¸»é¢˜æ ·å¼\nvar _default = exports.default = {\n  name: 'TyporaStyleEditor',\n  data() {\n    return {\n      mde: null,\n      // EasyMDE å®ä¾‹\n      markdownContent: `# Vue 2 é›†æˆ EasyMDE ç¼–è¾‘å™¨\n\nè¿™æ˜¯ä¸€ä¸ªåŸºäº EasyMDE çš„ Markdown ç¼–è¾‘å™¨ç»„ä»¶ã€‚\n\n## ä¸»è¦åŠŸèƒ½\n\n* å®æ—¶é¢„è§ˆ (Live Preview)\n* å…¨å±æ¨¡å¼ (Fullscreen Mode)\n* æ”¯æŒä»£ç å—å’Œé«˜äº®\n\n### ä»£ç é«˜äº®ç¤ºä¾‹\n\\`\\`\\`javascript\nfunction setupEditor() {\n  const element = document.getElementById('editor');\n  if (element) {\n    return new EasyMDE({ element: element });\n  }\n}\n\nsetupEditor();\n\\`\\`\\`\n`\n    };\n  },\n  mounted() {\n    this.initializeEditor();\n  },\n  methods: {\n    initializeEditor() {\n      this.mde = new _easymde.default({\n        element: this.$refs.markdownEditor,\n        // ç»‘å®šåˆ°æ¨¡æ¿ä¸­çš„ textarea\n        initialValue: this.markdownContent,\n        // è®¾ç½®åˆå§‹å†…å®¹\n        autofocus: true,\n        // é…ç½®å·¥å…·æ ï¼Œæä¾›é¢„è§ˆã€åˆ†å±å’Œå…¨å±é€‰é¡¹\n        toolbar: [\"bold\", \"italic\", \"heading\", \"|\", \"quote\", \"unordered-list\", \"ordered-list\", \"|\", \"link\", \"image\", \"table\", \"horizontal-rule\", \"|\", \"preview\", \"side-by-side\", \"fullscreen\", \"|\", \"guide\"],\n        // æ ¸å¿ƒï¼šè‡ªå®šä¹‰é¢„è§ˆæ¸²æŸ“å‡½æ•°ï¼Œé›†æˆ marked å’Œ highlight.js\n        previewRender: plainText => {\n          return this.customMarkedRender(plainText);\n        }\n      });\n\n      // ç›‘å¬å†…å®¹å˜åŒ–ï¼Œæ›´æ–° Vue ç»„ä»¶çš„ data (å¯é€‰ï¼Œç”¨äºæ•°æ®åŒå‘ç»‘å®šæˆ–ä¿å­˜)\n      this.mde.codemirror.on(\"change\", () => {\n        this.markdownContent = this.mde.value();\n        // åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæ‚¨å¯èƒ½éœ€è¦åœ¨è¿™é‡Œè§¦å‘ä¸€ä¸ªäº‹ä»¶ emit ç»™çˆ¶ç»„ä»¶\n        // this.$emit('change', this.markdownContent);\n      });\n    },\n    // è´Ÿè´£å°† Markdown æºç è½¬æ¢ä¸ºå¸¦ä»£ç é«˜äº®çš„ HTML\n    customMarkedRender(markdownText) {\n      // é…ç½® marked é€‰é¡¹ï¼Œå°¤å…¶æ˜¯å¦‚ä½•å¤„ç†ä»£ç å—\n      _marked.marked.setOptions({\n        gfm: true,\n        breaks: true,\n        highlight: (code, lang) => {\n          const language = _highlight.default.getLanguage(lang) ? lang : 'plaintext';\n          try {\n            // ä½¿ç”¨ highlight.js è¿›è¡Œè¯­æ³•é«˜äº®\n            return _highlight.default.highlight(code, {\n              language\n            }).value;\n          } catch (error) {\n            // å¦‚æœé«˜äº®å¤±è´¥ï¼Œè¿”å›åŸå§‹å†…å®¹\n            return code;\n          }\n        }\n      });\n      // æ‰§è¡Œè§£æå¹¶è¿”å› HTML å­—ç¬¦ä¸²\n      return _marked.marked.parse(markdownText);\n    }\n  },\n  beforeDestroy() {\n    // ç»„ä»¶é”€æ¯å‰ï¼Œç¡®ä¿é”€æ¯ EasyMDE å®ä¾‹ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼\n    if (this.mde) {\n      this.mde.toTextArea(); // å°†ç¼–è¾‘å™¨è¿˜åŸä¸º textarea\n      this.mde = null;\n    }\n  }\n};","map":{"version":3,"names":["_easymde","_interopRequireDefault","require","_marked","_highlight","_default","exports","default","name","data","mde","markdownContent","mounted","initializeEditor","methods","EasyMDE","element","$refs","markdownEditor","initialValue","autofocus","toolbar","previewRender","plainText","customMarkedRender","codemirror","on","value","markdownText","marked","setOptions","gfm","breaks","highlight","code","lang","language","hljs","getLanguage","error","parse","beforeDestroy","toTextArea"],"sources":["src/views/utils/EditText.vue"],"sourcesContent":["<template>\r\n  <div class=\"typora-style-editor\">\r\n    <h2>Typora é£æ ¼ (Live Preview æ¨¡å¼) ç¼–è¾‘å™¨</h2>\r\n    \r\n    <textarea ref=\"markdownEditor\"></textarea>\r\n    \r\n    <div class=\"note\">\r\n        <p>ğŸ’¡ **æç¤ºï¼š**</p>\r\n        <ul>\r\n            <li>è¯¥ç»„ä»¶ä½¿ç”¨äº† EasyMDE åº“æ¥å®ç°å®æ—¶é¢„è§ˆã€‚</li>\r\n            <li>è¦æ¿€æ´»ç±»ä¼¼ Typora çš„é¢„è§ˆæ•ˆæœï¼Œè¯·ç‚¹å‡»ç¼–è¾‘å™¨å·¥å…·æ å³ä¸Šè§’çš„ **çœ¼ç›å›¾æ ‡ (Preview)** æˆ– **åˆ†å±å›¾æ ‡ (Side-by-Side)**ã€‚</li>\r\n            <li>æ‚¨ä¹Ÿå¯ä»¥ç‚¹å‡» **å…¨å±å›¾æ ‡ (Fullscreen)** è·å¾—æ²‰æµ¸å¼ç¼–è¾‘ä½“éªŒã€‚</li>\r\n        </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 1. å¯¼å…¥ EasyMDE æ ¸å¿ƒåº“\r\nimport EasyMDE from 'easymde';\r\n// 2. å¯¼å…¥ EasyMDE é»˜è®¤æ ·å¼\r\nimport 'easymde/dist/easymde.min.css';\r\n\r\n// 3. å¯¼å…¥ Markdown è§£æå’Œä»£ç é«˜äº®åº“ (ç”¨äºè‡ªå®šä¹‰æ¸²æŸ“)\r\nimport { marked } from 'marked';\r\nimport hljs from 'highlight.js';\r\nimport 'highlight.js/styles/github.css'; // å¯¼å…¥ä»£ç é«˜äº®ä¸»é¢˜æ ·å¼\r\n\r\nexport default {\r\n  name: 'TyporaStyleEditor',\r\n  data() {\r\n    return {\r\n      mde: null, // EasyMDE å®ä¾‹\r\n      markdownContent: `# Vue 2 é›†æˆ EasyMDE ç¼–è¾‘å™¨\r\n\r\nè¿™æ˜¯ä¸€ä¸ªåŸºäº EasyMDE çš„ Markdown ç¼–è¾‘å™¨ç»„ä»¶ã€‚\r\n\r\n## ä¸»è¦åŠŸèƒ½\r\n\r\n* å®æ—¶é¢„è§ˆ (Live Preview)\r\n* å…¨å±æ¨¡å¼ (Fullscreen Mode)\r\n* æ”¯æŒä»£ç å—å’Œé«˜äº®\r\n\r\n### ä»£ç é«˜äº®ç¤ºä¾‹\r\n\\`\\`\\`javascript\r\nfunction setupEditor() {\r\n  const element = document.getElementById('editor');\r\n  if (element) {\r\n    return new EasyMDE({ element: element });\r\n  }\r\n}\r\n\r\nsetupEditor();\r\n\\`\\`\\`\r\n`,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.initializeEditor();\r\n  },\r\n  methods: {\r\n    initializeEditor() {\r\n        this.mde = new EasyMDE({\r\n            element: this.$refs.markdownEditor, // ç»‘å®šåˆ°æ¨¡æ¿ä¸­çš„ textarea\r\n            initialValue: this.markdownContent, // è®¾ç½®åˆå§‹å†…å®¹\r\n            autofocus: true,\r\n            // é…ç½®å·¥å…·æ ï¼Œæä¾›é¢„è§ˆã€åˆ†å±å’Œå…¨å±é€‰é¡¹\r\n            toolbar: [\r\n                \"bold\", \"italic\", \"heading\", \"|\", \r\n                \"quote\", \"unordered-list\", \"ordered-list\", \"|\", \r\n                \"link\", \"image\", \"table\", \"horizontal-rule\", \"|\", \r\n                \"preview\", \"side-by-side\", \"fullscreen\", \"|\", \r\n                \"guide\"\r\n            ],\r\n            // æ ¸å¿ƒï¼šè‡ªå®šä¹‰é¢„è§ˆæ¸²æŸ“å‡½æ•°ï¼Œé›†æˆ marked å’Œ highlight.js\r\n            previewRender: (plainText) => {\r\n                return this.customMarkedRender(plainText);\r\n            },\r\n        });\r\n        \r\n        // ç›‘å¬å†…å®¹å˜åŒ–ï¼Œæ›´æ–° Vue ç»„ä»¶çš„ data (å¯é€‰ï¼Œç”¨äºæ•°æ®åŒå‘ç»‘å®šæˆ–ä¿å­˜)\r\n        this.mde.codemirror.on(\"change\", () => {\r\n            this.markdownContent = this.mde.value();\r\n            // åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæ‚¨å¯èƒ½éœ€è¦åœ¨è¿™é‡Œè§¦å‘ä¸€ä¸ªäº‹ä»¶ emit ç»™çˆ¶ç»„ä»¶\r\n            // this.$emit('change', this.markdownContent);\r\n        });\r\n    },\r\n    \r\n    // è´Ÿè´£å°† Markdown æºç è½¬æ¢ä¸ºå¸¦ä»£ç é«˜äº®çš„ HTML\r\n    customMarkedRender(markdownText) {\r\n        // é…ç½® marked é€‰é¡¹ï¼Œå°¤å…¶æ˜¯å¦‚ä½•å¤„ç†ä»£ç å—\r\n        marked.setOptions({\r\n            gfm: true,\r\n            breaks: true,\r\n            highlight: (code, lang) => {\r\n                const language = hljs.getLanguage(lang) ? lang : 'plaintext';\r\n                try {\r\n                    // ä½¿ç”¨ highlight.js è¿›è¡Œè¯­æ³•é«˜äº®\r\n                    return hljs.highlight(code, { language }).value;\r\n                } catch (error) {\r\n                    // å¦‚æœé«˜äº®å¤±è´¥ï¼Œè¿”å›åŸå§‹å†…å®¹\r\n                    return code;\r\n                }\r\n            }\r\n        });\r\n        // æ‰§è¡Œè§£æå¹¶è¿”å› HTML å­—ç¬¦ä¸²\r\n        return marked.parse(markdownText);\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    // ç»„ä»¶é”€æ¯å‰ï¼Œç¡®ä¿é”€æ¯ EasyMDE å®ä¾‹ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼\r\n    if (this.mde) {\r\n      this.mde.toTextArea(); // å°†ç¼–è¾‘å™¨è¿˜åŸä¸º textarea\r\n      this.mde = null;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* å®¹å™¨å’Œå±…ä¸­ */\r\n.typora-style-editor {\r\n    max-width: 900px;\r\n    margin: 50px auto;\r\n    padding: 20px;\r\n}\r\n\r\n/* æç¤ºä¿¡æ¯æ¡† */\r\n.note {\r\n    margin-top: 20px;\r\n    padding: 15px;\r\n    border: 1px solid #cce5ff; /* è“è‰²è¾¹æ¡† */\r\n    background-color: #e6f3ff; /* æµ…è“è‰²èƒŒæ™¯ */\r\n    border-radius: 4px;\r\n    color: #004085; /* æ·±è“è‰²æ–‡å­— */\r\n}\r\n.note ul {\r\n    margin-top: 10px;\r\n    padding-left: 20px;\r\n    list-style-type: disc;\r\n}\r\n\r\n/* ä¼˜åŒ– EasyMDE æ ·å¼ä»¥é€‚åº”é¡µé¢ */\r\n/* å¦‚æœ EasyMDE çœ‹èµ·æ¥å¤ªå°æˆ–å¤ªå®½ï¼Œå¯ä»¥åœ¨è¿™é‡Œè°ƒæ•´ */\r\n/* ä¾‹å¦‚ï¼Œè®¾ç½®ç¼–è¾‘å™¨çš„é«˜åº¦ */\r\n.typora-style-editor >>> .CodeMirror {\r\n    min-height: 400px; \r\n    height: auto; /* å…è®¸å†…å®¹å¢é•¿ */\r\n}\r\n\r\n/* éšè— EasyMDE é»˜è®¤çš„ status barï¼Œå¦‚æœä¸éœ€è¦çš„è¯ */\r\n/* .typora-style-editor >>> .editor-statusbar { display: none; } */\r\n</style>"],"mappings":";;;;;;;AAmBA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEAA,OAAA;AAGA,IAAAC,OAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AACAA,OAAA;AARA;AAEA;AAGA;AAGA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,GAAA;MAAA;MACAC,eAAA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,gBAAA;EACA;EACAC,OAAA;IACAD,iBAAA;MACA,KAAAH,GAAA,OAAAK,gBAAA;QACAC,OAAA,OAAAC,KAAA,CAAAC,cAAA;QAAA;QACAC,YAAA,OAAAR,eAAA;QAAA;QACAS,SAAA;QACA;QACAC,OAAA,GACA,kCACA,gDACA,kDACA,8CACA,QACA;QACA;QACAC,aAAA,EAAAC,SAAA;UACA,YAAAC,kBAAA,CAAAD,SAAA;QACA;MACA;;MAEA;MACA,KAAAb,GAAA,CAAAe,UAAA,CAAAC,EAAA;QACA,KAAAf,eAAA,QAAAD,GAAA,CAAAiB,KAAA;QACA;QACA;MACA;IACA;IAEA;IACAH,mBAAAI,YAAA;MACA;MACAC,cAAA,CAAAC,UAAA;QACAC,GAAA;QACAC,MAAA;QACAC,SAAA,EAAAA,CAAAC,IAAA,EAAAC,IAAA;UACA,MAAAC,QAAA,GAAAC,kBAAA,CAAAC,WAAA,CAAAH,IAAA,IAAAA,IAAA;UACA;YACA;YACA,OAAAE,kBAAA,CAAAJ,SAAA,CAAAC,IAAA;cAAAE;YAAA,GAAAT,KAAA;UACA,SAAAY,KAAA;YACA;YACA,OAAAL,IAAA;UACA;QACA;MACA;MACA;MACA,OAAAL,cAAA,CAAAW,KAAA,CAAAZ,YAAA;IACA;EACA;EACAa,cAAA;IACA;IACA,SAAA/B,GAAA;MACA,KAAAA,GAAA,CAAAgC,UAAA;MACA,KAAAhC,GAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}