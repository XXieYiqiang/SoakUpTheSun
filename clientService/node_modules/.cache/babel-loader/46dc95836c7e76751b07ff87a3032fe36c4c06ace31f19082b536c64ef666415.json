{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.array.push.js\");\nrequire(\"core-js/modules/es.iterator.constructor.js\");\nrequire(\"core-js/modules/es.iterator.reduce.js\");\n/**\r\n * 站内信：消息模块\r\n */\n// store/modules/message.js\nvar _default = exports.default = {\n  namespaced: true,\n  state: {\n    messageMap: {},\n    // { contactId: [message, ...] }\n    unreadMap: {} // { contactId: unreadCount }\n  },\n  mutations: {\n    ADD_MESSAGE(state, {\n      contactId,\n      message\n    }) {\n      if (!state.messageMap[contactId]) state.messageMap[contactId] = [];\n      state.messageMap[contactId].push(message);\n    },\n    INCREMENT_UNREAD(state, contactId) {\n      if (!state.unreadMap[contactId]) state.unreadMap[contactId] = 0;\n      state.unreadMap[contactId]++;\n    },\n    RESET_UNREAD(state, contactId) {\n      state.unreadMap[contactId] = 0;\n    },\n    CLEAR_MESSAGES(state, contactId) {\n      state.messageMap[contactId] = [];\n    }\n  },\n  getters: {\n    getMessages: state => contactId => state.messageMap[contactId] || [],\n    getUnread: state => contactId => state.unreadMap[contactId] || 0,\n    getTotalUnread: state => Object.values(state.unreadMap).reduce((a, b) => a + b, 0)\n  }\n};","map":{"version":3,"names":["_default","exports","default","namespaced","state","messageMap","unreadMap","mutations","ADD_MESSAGE","contactId","message","push","INCREMENT_UNREAD","RESET_UNREAD","CLEAR_MESSAGES","getters","getMessages","getUnread","getTotalUnread","Object","values","reduce","a","b"],"sources":["C:/Users/Administrator/Desktop/GimChat/gimChatVue/src/store/module/message.js"],"sourcesContent":["\r\n/**\r\n * 站内信：消息模块\r\n */\r\n// store/modules/message.js\r\nexport default {\r\n  namespaced: true,\r\n  state: {\r\n    messageMap: {},   // { contactId: [message, ...] }\r\n    unreadMap: {},    // { contactId: unreadCount }\r\n  },\r\n  mutations: {\r\n    ADD_MESSAGE(state, { contactId, message }) {\r\n      if (!state.messageMap[contactId]) state.messageMap[contactId] = [];\r\n      state.messageMap[contactId].push(message);\r\n    },\r\n    INCREMENT_UNREAD(state, contactId) {\r\n      if (!state.unreadMap[contactId]) state.unreadMap[contactId] = 0;\r\n      state.unreadMap[contactId]++;\r\n    },\r\n    RESET_UNREAD(state, contactId) {\r\n      state.unreadMap[contactId] = 0;\r\n    },\r\n    CLEAR_MESSAGES(state, contactId) {\r\n      state.messageMap[contactId] = [];\r\n    }\r\n  },\r\n  getters: {\r\n    getMessages: (state) => (contactId) => state.messageMap[contactId] || [],\r\n    getUnread: (state) => (contactId) => state.unreadMap[contactId] || 0,\r\n    getTotalUnread: (state) => Object.values(state.unreadMap).reduce((a, b) => a + b, 0)\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;AACA;AACA;AACA;AACA;AAAA,IAAAA,QAAA,GAAAC,OAAA,CAAAC,OAAA,GACe;EACbC,UAAU,EAAE,IAAI;EAChBC,KAAK,EAAE;IACLC,UAAU,EAAE,CAAC,CAAC;IAAI;IAClBC,SAAS,EAAE,CAAC,CAAC,CAAK;EACpB,CAAC;EACDC,SAAS,EAAE;IACTC,WAAWA,CAACJ,KAAK,EAAE;MAAEK,SAAS;MAAEC;IAAQ,CAAC,EAAE;MACzC,IAAI,CAACN,KAAK,CAACC,UAAU,CAACI,SAAS,CAAC,EAAEL,KAAK,CAACC,UAAU,CAACI,SAAS,CAAC,GAAG,EAAE;MAClEL,KAAK,CAACC,UAAU,CAACI,SAAS,CAAC,CAACE,IAAI,CAACD,OAAO,CAAC;IAC3C,CAAC;IACDE,gBAAgBA,CAACR,KAAK,EAAEK,SAAS,EAAE;MACjC,IAAI,CAACL,KAAK,CAACE,SAAS,CAACG,SAAS,CAAC,EAAEL,KAAK,CAACE,SAAS,CAACG,SAAS,CAAC,GAAG,CAAC;MAC/DL,KAAK,CAACE,SAAS,CAACG,SAAS,CAAC,EAAE;IAC9B,CAAC;IACDI,YAAYA,CAACT,KAAK,EAAEK,SAAS,EAAE;MAC7BL,KAAK,CAACE,SAAS,CAACG,SAAS,CAAC,GAAG,CAAC;IAChC,CAAC;IACDK,cAAcA,CAACV,KAAK,EAAEK,SAAS,EAAE;MAC/BL,KAAK,CAACC,UAAU,CAACI,SAAS,CAAC,GAAG,EAAE;IAClC;EACF,CAAC;EACDM,OAAO,EAAE;IACPC,WAAW,EAAGZ,KAAK,IAAMK,SAAS,IAAKL,KAAK,CAACC,UAAU,CAACI,SAAS,CAAC,IAAI,EAAE;IACxEQ,SAAS,EAAGb,KAAK,IAAMK,SAAS,IAAKL,KAAK,CAACE,SAAS,CAACG,SAAS,CAAC,IAAI,CAAC;IACpES,cAAc,EAAGd,KAAK,IAAKe,MAAM,CAACC,MAAM,CAAChB,KAAK,CAACE,SAAS,CAAC,CAACe,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,EAAE,CAAC;EACrF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}