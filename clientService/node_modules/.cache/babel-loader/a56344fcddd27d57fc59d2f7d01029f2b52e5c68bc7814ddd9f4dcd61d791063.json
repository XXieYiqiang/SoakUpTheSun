{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Administrator/Desktop/GimChat/gimChatVue/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.array.push.js\");\nvar _index = _interopRequireDefault(require(\"@/router/index.js\"));\nvar _map = require(\"@/libs/map.js\");\nvar _default = exports.default = {\n  name: 'ContextMenu',\n  data() {\n    return {\n      officeFileType: _map.officeFileType,\n      fileSuffixCodeModeMap: _map.fileSuffixCodeModeMap,\n      markdownFileType: _map.markdownFileType,\n      visible: false,\n      //  右键菜单是否显示\n      sortedFileList: [],\n      //  排序后的表格数据\n      // 右键菜单\n      rightMenu: {\n        top: 0,\n        left: 0,\n        bottom: 'auto',\n        right: 'auto'\n      },\n      // 右键解压缩菜单\n      unzipMenu: {\n        top: 0,\n        bottom: 'auto',\n        left: '126px',\n        right: 'auto'\n      },\n      dirImg: require('_a/images/file/dir.png'),\n      wordImg: require('_a/images/file/file_word.svg'),\n      excelImg: require('_a/images/file/file_excel.svg'),\n      pptImg: require('_a/images/file/file_ppt.svg')\n    };\n  },\n  computed: {\n    // 路由名称\n    routeName() {\n      return _index.default.currentRoute.name;\n    },\n    // 左侧菜单选中的文件类型\n    fileType() {\n      return _index.default.currentRoute.query.fileType ? Number(_index.default.currentRoute.query.fileType) : 0;\n    },\n    // 当前路径\n    filePath() {\n      return _index.default.currentRoute.query.filePath;\n    },\n    // 查看按钮是否显示\n    seeBtnShow() {\n      return this.fileType !== 6;\n    },\n    // 删除按钮是否显示\n    deleteBtnShow() {\n      return this.fileType !== 8 && !['Share'].includes(this.routeName);\n    },\n    // 还原按钮是否显示\n    restoreBtnShow() {\n      return this.fileType === 6 && !['Share'].includes(this.routeName);\n    },\n    // 复制按钮是否显示\n    copyBtnShow() {\n      return ![6, 8].includes(this.fileType) && !['Share'].includes(this.routeName);\n    },\n    // 移动按钮是否显示\n    moveBtnShow() {\n      return ![6, 8].includes(this.fileType) && !['Share'].includes(this.routeName);\n    },\n    // 重命名按钮是否显示\n    renameBtnShow() {\n      return ![6, 8].includes(this.fileType) && !['Share'].includes(this.routeName);\n    },\n    // 分享按钮是否显示\n    shareBtnShow() {\n      return ![6, 8].includes(this.fileType) && !['Share'].includes(this.routeName);\n    },\n    // 下载按钮是否显示\n    downloadBtnShow() {\n      return ![6, 8].includes(this.fileType);\n    },\n    // 解压缩按钮是否显示\n    unzipBtnShow() {\n      return ![6, 8].includes(this.fileType) && !['Share'].includes(this.routeName) && ['zip', 'rar', '7z', 'tar', 'gz'].includes(this.selectedFile.extendName);\n    },\n    // 编辑文件夹按钮是否显示\n    folderEditBtnShow() {\n      return ![6, 8].includes(this.fileType) && this.selectedFile.isDir === 1 && !['Share'].includes(this.routeName);\n    },\n    // 在线编辑按钮是否显示\n    onlineEditBtnShow() {\n      return ![6, 8].includes(this.fileType) && (this.officeFileType.includes(this.selectedFile.extendName) || this.markdownFileType.includes(this.selectedFile.extendName) || this.fileSuffixCodeModeMap.has(this.selectedFile.extendName)) && !['Share'].includes(this.routeName);\n    },\n    // 复制链接按钮是否显示\n    copyLinkBtnShow() {\n      return this.fileType === 8;\n    },\n    // 文件详情按钮是否显示\n    detailInfoBtnShow() {\n      return true;\n    },\n    // 上传文件组件参数\n    uploadFileParams() {\n      return {\n        filePath: this.filePath,\n        isDir: 0\n      };\n    }\n  },\n  watch: {\n    /**\r\n     * 监听右键列表状态\r\n     * @description 右键列表打开时，body 添加点击事件的监听\r\n     */\n    visible(newValue) {\n      if (newValue === true) {\n        document.body.addEventListener('click', this.closeRightMenu);\n        this.handleOpenContextMenu();\n      } else {\n        document.body.removeEventListener('click', this.closeRightMenu);\n      }\n    }\n  },\n  methods: {\n    /**\r\n     * 打开右键菜单\r\n     */\n    handleOpenContextMenu() {\n      // 纵坐标设置\n      if (document.body.clientHeight - this.domEvent.clientY < document.querySelectorAll('#rightMenuList > .right-menu-item').length * 36 + 10) {\n        // 如果到底部的距离小于元素总高度\n        this.rightMenu.top = 'auto';\n        this.rightMenu.bottom = `${document.body.clientHeight - this.domEvent.clientY}px`;\n        this.unzipMenu.top = 'auto';\n        this.unzipMenu.bottom = '0px';\n      } else {\n        this.rightMenu.top = `${this.domEvent.clientY}px`;\n        this.rightMenu.bottom = 'auto';\n        this.unzipMenu.top = '0px';\n        this.unzipMenu.bottom = 'auto';\n      }\n      // 横坐标设置\n      if (document.body.clientWidth - this.domEvent.clientX < 138) {\n        // 如果到右边的距离小于元素总宽度\n        this.rightMenu.left = 'auto';\n        this.rightMenu.right = `${document.body.clientWidth - this.domEvent.clientX}px`;\n        this.unzipMenu.left = '-200px';\n        this.unzipMenu.right = 'auto';\n      } else {\n        this.rightMenu.left = `${this.domEvent.clientX + 8}px`;\n        this.rightMenu.right = 'auto';\n        this.unzipMenu.left = '126px';\n        this.unzipMenu.right = 'auto';\n      }\n      this.visible = true;\n    },\n    /**\r\n     * 关闭右键列表\r\n     */\n    closeRightMenu(event) {\n      if (!event.target.className.includes('operate-more-') && !event.target.className.includes('unzip-menu-item')) {\n        this.visible = false;\n        if (this.selectedFile !== undefined) {\n          // 不是在空白处右键时\n          this.callback('cancel');\n        }\n      }\n    },\n    /**\r\n     * 复制按钮点击事件\r\n     * @description 向父组件传递当前操作的文件信息，并打开“复制文件对话框”\r\n     * @param {object} fileInfo 文件信息\r\n     */\n    handleCopyFileBtnClick(fileInfo) {\n      this.visible = false;\n      this.$openDialog.copyFile({\n        fileInfo\n      }).then(res => {\n        this.callback(res);\n      });\n    },\n    /**\r\n     * 移动按钮点击事件\r\n     * @description 向父组件传递当前操作的文件信息，并打开“移动文件对话框”\r\n     * @param {object} fileInfo 文件信息\r\n     */\n    handleMoveFileBtnClick(fileInfo) {\n      this.visible = false;\n      this.$openDialog.moveFile({\n        isBatchMove: false,\n        fileInfo\n      }).then(res => {\n        this.callback(res);\n      });\n    },\n    /**\r\n     * 解压缩按钮点击事件\r\n     * @description 调用解压缩文件接口，并展示新的文件列表\r\n     * @param {object} fileInfo 文件信息\r\n     * @param {number} unzipMode 解压模式 0-解压到当前文件夹， 1-自动创建该文件名目录，并解压到目录里， 2-手动选择解压目录\r\n     */\n    handleUnzipFileBtnClick(fileInfo, unzipMode) {\n      this.visible = false;\n      this.$openDialog.unzipFile({\n        unzipMode: unzipMode,\n        userFileId: fileInfo.userFileId\n      }).then(res => {\n        this.callback(res);\n      });\n    },\n    /**\r\n     * 删除按钮点击事件\r\n     * @description 区分 删除到回收站中 | 在回收站中彻底删除，打开确认对话框\r\n     * @param {object} fileInfo 文件信息\r\n     */\n    handleDeleteFileBtnClick(fileInfo) {\n      this.visible = false;\n      this.$openDialog.deleteFile({\n        isBatchOperation: false,\n        fileInfo,\n        deleteMode: this.fileType === 6 ? 2 : 1 //  删除类型：1-删除到回收站 2-彻底删除\n      }).then(res => {\n        this.callback(res);\n      });\n    },\n    /**\r\n     * 还原按钮点击事件\r\n     * @description 调用接口，在回收站中还原文件\r\n     * @param {object} fileInfo 文件信息\r\n     */\n    handleRestoreFileBtnClick(fileInfo) {\n      this.visible = false;\n      this.$openDialog.restoreFile({\n        deleteBatchNum: fileInfo.deleteBatchNum,\n        filePath: fileInfo.filePath\n      }).then(res => {\n        this.callback(res);\n      });\n    },\n    /**\r\n     * 文件重命名按钮点击事件\r\n     * @description 打开确认对话框让用户输入新的文件名\r\n     * @param {object} fileInfo 文件信息\r\n     */\n    handleRenameFileBtnClick(fileInfo) {\n      this.visible = false;\n      this.$openDialog.renameFile({\n        oldFileName: fileInfo.fileName,\n        userFileId: fileInfo.userFileId\n      }).then(res => {\n        this.callback(res);\n      });\n    },\n    /**\r\n     * 文件分享按钮点击事件\r\n     * @description 打开对话框让用户选择过期时间和提取码\r\n     * @param {object} fileInfo 文件信息\r\n     */\n    handleShareFileBtnClick(fileInfo) {\n      this.visible = false;\n      this.$openDialog.shareFile({\n        fileInfo: [{\n          userFileId: fileInfo.userFileId\n        }]\n      });\n    },\n    /**\r\n     * 编辑文件夹按钮点击事件\r\n     */\n    handleClickFolderEdit() {\n      _index.default.push({\n        name: 'WebIDE',\n        query: {\n          filePath: this.selectedFile.filePath\n        }\n      });\n    },\n    /**\r\n     * 文件在线编辑按钮点击事件\r\n     * @description 打开 代码预览对话框 或 office 编辑页面\r\n     * @param {object} fileInfo 文件信息\r\n     */\n    handleClickFileEdit(fileInfo) {\n      if (this.officeFileType.includes(fileInfo.extendName)) {\n        // office 编辑页面\n        this.$file.getFileOnlineEditPathByOffice(fileInfo);\n      } else if (this.markdownFileType.includes(fileInfo.extendName)) {\n        // markdown 编辑浮层\n        this.$openBox.markdownPreview({\n          fileInfo: fileInfo,\n          editable: true\n        });\n      } else {\n        // 代码编辑对话框\n        this.$openBox.codePreview({\n          fileInfo: fileInfo,\n          isEdit: true\n        });\n      }\n    },\n    /**\r\n     * 文件详情按钮点击事件\r\n     * @description 打开对话框展示文件完整信息\r\n     * @param {object} fileInfo 文件信息\r\n     */\n    handleShowDetailInfo(fileInfo) {\n      this.visible = false;\n      this.$openDialog.showFileDetail({\n        fileInfo\n      });\n    },\n    /**\r\n     * 新建文件夹按钮点击事件\r\n     * @description 调用新建文件夹服务，并在弹窗确认回调事件中刷新文件列表\r\n     */\n    handleClickAddFolderBtn() {\n      this.$openDialog.addFolder({\n        filePath: _index.default.currentRoute.query.filePath || '/'\n      }).then(res => {\n        this.callback(res);\n      });\n    },\n    /**\r\n     * 新建 office 文件\r\n     * @description 调用新建 office 文件服务，并在弹窗确认回调事件中刷新文件列表\r\n     * @param {string} 文件扩展名 docx xlsx pptx\r\n     */\n    handleCreateFile(extendName) {\n      this.$openDialog.addFile({\n        extendName: extendName\n      }).then(res => {\n        this.callback(res);\n      });\n    },\n    /**\r\n     * 上传文件按钮点击事件\r\n     * @description 通过Bus通信，开启全局上传文件流程\r\n     * @param {boolean} uploadWay 上传方式 0-文件上传 1-文件夹上传 2-粘贴图片或拖拽上传\r\n     */\n    handleUploadFileBtnClick(uploadWay) {\n      this.$openBox.uploadFile({\n        params: this.uploadFileParams,\n        uploadWay,\n        serviceEl: this.serviceEl,\n        callType: true //  callType 调用此服务的方式：1 - 顶部栏，2 - 右键菜单\n      });\n    }\n  }\n};","map":{"version":3,"names":["_index","_interopRequireDefault","require","_map","_default","exports","default","name","data","officeFileType","fileSuffixCodeModeMap","markdownFileType","visible","sortedFileList","rightMenu","top","left","bottom","right","unzipMenu","dirImg","wordImg","excelImg","pptImg","computed","routeName","router","currentRoute","fileType","query","Number","filePath","seeBtnShow","deleteBtnShow","includes","restoreBtnShow","copyBtnShow","moveBtnShow","renameBtnShow","shareBtnShow","downloadBtnShow","unzipBtnShow","selectedFile","extendName","folderEditBtnShow","isDir","onlineEditBtnShow","has","copyLinkBtnShow","detailInfoBtnShow","uploadFileParams","watch","newValue","document","body","addEventListener","closeRightMenu","handleOpenContextMenu","removeEventListener","methods","clientHeight","domEvent","clientY","querySelectorAll","length","clientWidth","clientX","event","target","className","undefined","callback","handleCopyFileBtnClick","fileInfo","$openDialog","copyFile","then","res","handleMoveFileBtnClick","moveFile","isBatchMove","handleUnzipFileBtnClick","unzipMode","unzipFile","userFileId","handleDeleteFileBtnClick","deleteFile","isBatchOperation","deleteMode","handleRestoreFileBtnClick","restoreFile","deleteBatchNum","handleRenameFileBtnClick","renameFile","oldFileName","fileName","handleShareFileBtnClick","shareFile","handleClickFolderEdit","push","handleClickFileEdit","$file","getFileOnlineEditPathByOffice","$openBox","markdownPreview","editable","codePreview","isEdit","handleShowDetailInfo","showFileDetail","handleClickAddFolderBtn","addFolder","handleCreateFile","addFile","handleUploadFileBtnClick","uploadWay","uploadFile","params","serviceEl","callType"],"sources":["src/components/file/box/contextMenu/Box.vue"],"sourcesContent":["<template>\r\n\t<!-- 右键列表 -->\r\n\t<transition name=\"el-fade-in-linear\">\r\n\t\t<!-- 在某个文件上右键 -->\r\n\t\t<ul\r\n\t\t\tclass=\"right-menu-list\"\r\n\t\t\tid=\"rightMenuList\"\r\n\t\t\tv-show=\"visible\"\r\n\t\t\tv-if=\"selectedFile !== undefined\"\r\n\t\t\t:style=\"`top: ${rightMenu.top};right: ${rightMenu.right};bottom: ${rightMenu.bottom};left: ${rightMenu.left};`\"\r\n\t\t>\r\n\t\t\t<li\r\n\t\t\t\tclass=\"right-menu-item\"\r\n\t\t\t\t@click=\"$file.handleFileNameClick(selectedFile, 0, [selectedFile])\"\r\n\t\t\t\tv-if=\"seeBtnShow\"\r\n\t\t\t>\r\n\t\t\t\t<i class=\"el-icon-view\"></i> 查看\r\n\t\t\t</li>\r\n\t\t\t<li\r\n\t\t\t\tclass=\"right-menu-item\"\r\n\t\t\t\t@click=\"handleDeleteFileBtnClick(selectedFile)\"\r\n\t\t\t\tv-if=\"deleteBtnShow\"\r\n\t\t\t>\r\n\t\t\t\t<i class=\"el-icon-delete\"></i> 删除\r\n\t\t\t</li>\r\n\t\t\t<li\r\n\t\t\t\tclass=\"right-menu-item\"\r\n\t\t\t\t@click=\"handleRestoreFileBtnClick(selectedFile)\"\r\n\t\t\t\tv-if=\"restoreBtnShow\"\r\n\t\t\t>\r\n\t\t\t\t<i class=\"el-icon-refresh-left\"></i> 还原\r\n\t\t\t</li>\r\n\t\t\t<li\r\n\t\t\t\tclass=\"right-menu-item\"\r\n\t\t\t\t@click=\"handleCopyFileBtnClick(selectedFile)\"\r\n\t\t\t\tv-if=\"copyBtnShow\"\r\n\t\t\t>\r\n\t\t\t\t<i class=\"el-icon-copy-document\"></i> 复制到\r\n\t\t\t</li>\r\n\t\t\t<li\r\n\t\t\t\tclass=\"right-menu-item\"\r\n\t\t\t\t@click=\"handleMoveFileBtnClick(selectedFile)\"\r\n\t\t\t\tv-if=\"moveBtnShow\"\r\n\t\t\t>\r\n\t\t\t\t<i class=\"el-icon-s-promotion\"></i> 移动\r\n\t\t\t</li>\r\n\t\t\t<li\r\n\t\t\t\tclass=\"right-menu-item\"\r\n\t\t\t\t@click=\"handleRenameFileBtnClick(selectedFile)\"\r\n\t\t\t\tv-if=\"renameBtnShow\"\r\n\t\t\t>\r\n\t\t\t\t<i class=\"el-icon-edit-outline\"></i> 重命名\r\n\t\t\t</li>\r\n\t\t\t<li\r\n\t\t\t\tclass=\"right-menu-item\"\r\n\t\t\t\t@click=\"handleShareFileBtnClick(selectedFile)\"\r\n\t\t\t\tv-if=\"shareBtnShow\"\r\n\t\t\t>\r\n\t\t\t\t<i class=\"el-icon-share\"></i> 分享\r\n\t\t\t</li>\r\n\t\t\t<li\r\n\t\t\t\tclass=\"right-menu-item\"\r\n\t\t\t\t@click=\"visible = false\"\r\n\t\t\t\tv-if=\"downloadBtnShow\"\r\n\t\t\t>\r\n\t\t\t\t<a\r\n\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\tstyle=\"display: block; color: inherit\"\r\n\t\t\t\t\t:href=\"$file.getDownloadFilePath(selectedFile)\"\r\n\t\t\t\t\t:download=\"selectedFile.fileName + '.' + selectedFile.extendName\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<i class=\"el-icon-download\"></i> 下载\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t\t<!-- 0-解压到当前文件夹， 1-自动创建该文件名目录，并解压到目录里， 3-手动选择解压目录 -->\r\n\t\t\t<li class=\"right-menu-item unzip-menu-item\" v-if=\"unzipBtnShow\">\r\n\t\t\t\t<i class=\"el-icon-files\"></i> 解压缩\r\n\t\t\t\t<i class=\"el-icon-arrow-right\"></i>\r\n\t\t\t\t<ul\r\n\t\t\t\t\tclass=\"unzip-list\"\r\n\t\t\t\t\t:style=\"`top: ${unzipMenu.top};bottom: ${unzipMenu.bottom};left: ${unzipMenu.left};right: ${unzipMenu.right};`\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<li\r\n\t\t\t\t\t\tclass=\"unzip-item\"\r\n\t\t\t\t\t\t@click=\"handleUnzipFileBtnClick(selectedFile, 0)\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i class=\"el-icon-files\"></i> 解压到当前文件夹\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li\r\n\t\t\t\t\t\tclass=\"unzip-item\"\r\n\t\t\t\t\t\t@click=\"handleUnzipFileBtnClick(selectedFile, 1)\"\r\n\t\t\t\t\t\t:title=\"`解压到&quot;${selectedFile.fileName}&quot;`\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i class=\"el-icon-files\"></i> 解压到\"{{ selectedFile.fileName }}\"\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li\r\n\t\t\t\t\t\tclass=\"unzip-item\"\r\n\t\t\t\t\t\t@click=\"handleUnzipFileBtnClick(selectedFile, 2)\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i class=\"el-icon-files\"></i> 解压到目标文件夹\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</li>\r\n\t\t\t<!-- <li\r\n\t\t\t\tclass=\"right-menu-item\"\r\n\t\t\t\t@click=\"handleClickFolderEdit\"\r\n\t\t\t\tv-if=\"folderEditBtnShow\"\r\n\t\t\t>\r\n\t\t\t\t<i class=\"el-icon-edit\"></i> 编辑文件夹\r\n\t\t\t</li> -->\r\n\t\t\t<li\r\n\t\t\t\tclass=\"right-menu-item\"\r\n\t\t\t\t@click=\"handleClickFileEdit(selectedFile)\"\r\n\t\t\t\tv-if=\"onlineEditBtnShow\"\r\n\t\t\t>\r\n\t\t\t\t<i class=\"el-icon-edit\"></i> 在线编辑\r\n\t\t\t</li>\r\n\t\t\t<li\r\n\t\t\t\tclass=\"right-menu-item\"\r\n\t\t\t\t@click=\"\r\n\t\t\t\t\t$file.copyShareLink(\r\n\t\t\t\t\t\tselectedFile.shareBatchNum,\r\n\t\t\t\t\t\tselectedFile.extractionCode\r\n\t\t\t\t\t)\r\n\t\t\t\t\"\r\n\t\t\t\tv-if=\"copyLinkBtnShow\"\r\n\t\t\t>\r\n\t\t\t\t<i class=\"el-icon-edit\"></i> 复制链接\r\n\t\t\t</li>\r\n\t\t\t<li\r\n\t\t\t\tclass=\"right-menu-item\"\r\n\t\t\t\t@click=\"handleShowDetailInfo(selectedFile)\"\r\n\t\t\t\tv-if=\"detailInfoBtnShow\"\r\n\t\t\t>\r\n\t\t\t\t<i class=\"el-icon-document\"></i> 文件详情\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t\t<!-- 在空白处右键，右键列表展示新建文件夹、新建文件等操作按钮 -->\r\n\t\t<ul\r\n\t\t\tclass=\"right-menu-list add\"\r\n\t\t\tid=\"rightMenuList\"\r\n\t\t\tv-show=\"visible\"\r\n\t\t\tv-else\r\n\t\t\t:style=\"`top: ${rightMenu.top};right: ${rightMenu.right};bottom: ${rightMenu.bottom};left: ${rightMenu.left};`\"\r\n\t\t>\r\n\t\t\t<li class=\"right-menu-item\" @click=\"callback('confirm')\">\r\n\t\t\t\t<i class=\"el-icon-refresh\"></i> 刷新\r\n\t\t\t</li>\r\n\t\t\t<template v-if=\"fileType === 0\">\r\n\t\t\t\t<el-divider />\r\n\t\t\t\t<li class=\"right-menu-item\" @click=\"handleClickAddFolderBtn\">\r\n\t\t\t\t\t<i class=\"el-icon-folder-add\"></i> 新建文件夹\r\n\t\t\t\t</li>\r\n\t\t\t\t<li class=\"right-menu-item\" @click=\"handleCreateFile('docx')\">\r\n\t\t\t\t\t<img :src=\"wordImg\" />新建 Word 文档\r\n\t\t\t\t</li>\r\n\t\t\t\t<li class=\"right-menu-item\" @click=\"handleCreateFile('xlsx')\">\r\n\t\t\t\t\t<img :src=\"excelImg\" />新建 Excel 工作表\r\n\t\t\t\t</li>\r\n\t\t\t\t<li class=\"right-menu-item\" @click=\"handleCreateFile('pptx')\">\r\n\t\t\t\t\t<img :src=\"pptImg\" />新建 PPT 演示文稿\r\n\t\t\t\t</li>\r\n\t\t\t\t<el-divider />\r\n\t\t\t\t<li class=\"right-menu-item\" @click=\"handleUploadFileBtnClick(1)\">\r\n\t\t\t\t\t<i class=\"el-icon-upload2\"></i> 上传文件\r\n\t\t\t\t</li>\r\n\t\t\t\t<li class=\"right-menu-item\" @click=\"handleUploadFileBtnClick(2)\">\r\n\t\t\t\t\t<i class=\"el-icon-folder-opened\"></i> 上传文件夹\r\n\t\t\t\t</li>\r\n\t\t\t\t<li class=\"right-menu-item\" @click=\"handleUploadFileBtnClick(3)\">\r\n\t\t\t\t\t<i class=\"el-icon-thumb\"></i> 拖拽上传\r\n\t\t\t\t</li>\r\n\t\t\t</template>\r\n\t\t</ul>\r\n\t</transition>\r\n</template>\r\n\r\n<script>\r\nimport router from '@/router/index.js'\r\nimport {\r\n\tofficeFileType,\r\n\tfileSuffixCodeModeMap,\r\n\tmarkdownFileType\r\n} from '@/libs/map.js'\r\n\r\nexport default {\r\n\tname: 'ContextMenu',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tofficeFileType,\r\n\t\t\tfileSuffixCodeModeMap,\r\n\t\t\tmarkdownFileType,\r\n\t\t\tvisible: false, //  右键菜单是否显示\r\n\t\t\tsortedFileList: [], //  排序后的表格数据\r\n\t\t\t// 右键菜单\r\n\t\t\trightMenu: {\r\n\t\t\t\ttop: 0,\r\n\t\t\t\tleft: 0,\r\n\t\t\t\tbottom: 'auto',\r\n\t\t\t\tright: 'auto'\r\n\t\t\t},\r\n\t\t\t// 右键解压缩菜单\r\n\t\t\tunzipMenu: {\r\n\t\t\t\ttop: 0,\r\n\t\t\t\tbottom: 'auto',\r\n\t\t\t\tleft: '126px',\r\n\t\t\t\tright: 'auto'\r\n\t\t\t},\r\n\t\t\tdirImg: require('_a/images/file/dir.png'),\r\n\t\t\twordImg: require('_a/images/file/file_word.svg'),\r\n\t\t\texcelImg: require('_a/images/file/file_excel.svg'),\r\n\t\t\tpptImg: require('_a/images/file/file_ppt.svg')\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t// 路由名称\r\n\t\trouteName() {\r\n\t\t\treturn router.currentRoute.name\r\n\t\t},\r\n\t\t// 左侧菜单选中的文件类型\r\n\t\tfileType() {\r\n\t\t\treturn router.currentRoute.query.fileType\r\n\t\t\t\t? Number(router.currentRoute.query.fileType)\r\n\t\t\t\t: 0\r\n\t\t},\r\n\t\t// 当前路径\r\n\t\tfilePath() {\r\n\t\t\treturn router.currentRoute.query.filePath\r\n\t\t},\r\n\t\t// 查看按钮是否显示\r\n\t\tseeBtnShow() {\r\n\t\t\treturn this.fileType !== 6\r\n\t\t},\r\n\t\t// 删除按钮是否显示\r\n\t\tdeleteBtnShow() {\r\n\t\t\treturn this.fileType !== 8 && !['Share'].includes(this.routeName)\r\n\t\t},\r\n\t\t// 还原按钮是否显示\r\n\t\trestoreBtnShow() {\r\n\t\t\treturn this.fileType === 6 && !['Share'].includes(this.routeName)\r\n\t\t},\r\n\t\t// 复制按钮是否显示\r\n\t\tcopyBtnShow() {\r\n\t\t\treturn (\r\n\t\t\t\t![6, 8].includes(this.fileType) && !['Share'].includes(this.routeName)\r\n\t\t\t)\r\n\t\t},\r\n\t\t// 移动按钮是否显示\r\n\t\tmoveBtnShow() {\r\n\t\t\treturn (\r\n\t\t\t\t![6, 8].includes(this.fileType) && !['Share'].includes(this.routeName)\r\n\t\t\t)\r\n\t\t},\r\n\t\t// 重命名按钮是否显示\r\n\t\trenameBtnShow() {\r\n\t\t\treturn (\r\n\t\t\t\t![6, 8].includes(this.fileType) && !['Share'].includes(this.routeName)\r\n\t\t\t)\r\n\t\t},\r\n\t\t// 分享按钮是否显示\r\n\t\tshareBtnShow() {\r\n\t\t\treturn (\r\n\t\t\t\t![6, 8].includes(this.fileType) && !['Share'].includes(this.routeName)\r\n\t\t\t)\r\n\t\t},\r\n\t\t// 下载按钮是否显示\r\n\t\tdownloadBtnShow() {\r\n\t\t\treturn ![6, 8].includes(this.fileType)\r\n\t\t},\r\n\t\t// 解压缩按钮是否显示\r\n\t\tunzipBtnShow() {\r\n\t\t\treturn (\r\n\t\t\t\t![6, 8].includes(this.fileType) &&\r\n\t\t\t\t!['Share'].includes(this.routeName) &&\r\n\t\t\t\t['zip', 'rar', '7z', 'tar', 'gz'].includes(this.selectedFile.extendName)\r\n\t\t\t)\r\n\t\t},\r\n\t\t// 编辑文件夹按钮是否显示\r\n\t\tfolderEditBtnShow() {\r\n\t\t\treturn (\r\n\t\t\t\t![6, 8].includes(this.fileType) &&\r\n\t\t\t\tthis.selectedFile.isDir === 1 &&\r\n\t\t\t\t!['Share'].includes(this.routeName)\r\n\t\t\t)\r\n\t\t},\r\n\t\t// 在线编辑按钮是否显示\r\n\t\tonlineEditBtnShow() {\r\n\t\t\treturn (\r\n\t\t\t\t![6, 8].includes(this.fileType) &&\r\n\t\t\t\t(this.officeFileType.includes(this.selectedFile.extendName) ||\r\n\t\t\t\t\tthis.markdownFileType.includes(this.selectedFile.extendName) ||\r\n\t\t\t\t\tthis.fileSuffixCodeModeMap.has(this.selectedFile.extendName)) &&\r\n\t\t\t\t!['Share'].includes(this.routeName)\r\n\t\t\t)\r\n\t\t},\r\n\t\t// 复制链接按钮是否显示\r\n\t\tcopyLinkBtnShow() {\r\n\t\t\treturn this.fileType === 8\r\n\t\t},\r\n\t\t// 文件详情按钮是否显示\r\n\t\tdetailInfoBtnShow() {\r\n\t\t\treturn true\r\n\t\t},\r\n\t\t// 上传文件组件参数\r\n\t\tuploadFileParams() {\r\n\t\t\treturn {\r\n\t\t\t\tfilePath: this.filePath,\r\n\t\t\t\tisDir: 0\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\t/**\r\n\t\t * 监听右键列表状态\r\n\t\t * @description 右键列表打开时，body 添加点击事件的监听\r\n\t\t */\r\n\t\tvisible(newValue) {\r\n\t\t\tif (newValue === true) {\r\n\t\t\t\tdocument.body.addEventListener('click', this.closeRightMenu)\r\n\t\t\t\tthis.handleOpenContextMenu()\r\n\t\t\t} else {\r\n\t\t\t\tdocument.body.removeEventListener('click', this.closeRightMenu)\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t/**\r\n\t\t * 打开右键菜单\r\n\t\t */\r\n\t\thandleOpenContextMenu() {\r\n\t\t\t// 纵坐标设置\r\n\t\t\tif (\r\n\t\t\t\tdocument.body.clientHeight - this.domEvent.clientY <\r\n\t\t\t\tdocument.querySelectorAll('#rightMenuList > .right-menu-item').length *\r\n\t\t\t\t\t36 +\r\n\t\t\t\t\t10\r\n\t\t\t) {\r\n\t\t\t\t// 如果到底部的距离小于元素总高度\r\n\t\t\t\tthis.rightMenu.top = 'auto'\r\n\t\t\t\tthis.rightMenu.bottom = `${\r\n\t\t\t\t\tdocument.body.clientHeight - this.domEvent.clientY\r\n\t\t\t\t}px`\r\n\t\t\t\tthis.unzipMenu.top = 'auto'\r\n\t\t\t\tthis.unzipMenu.bottom = '0px'\r\n\t\t\t} else {\r\n\t\t\t\tthis.rightMenu.top = `${this.domEvent.clientY}px`\r\n\t\t\t\tthis.rightMenu.bottom = 'auto'\r\n\t\t\t\tthis.unzipMenu.top = '0px'\r\n\t\t\t\tthis.unzipMenu.bottom = 'auto'\r\n\t\t\t}\r\n\t\t\t// 横坐标设置\r\n\t\t\tif (document.body.clientWidth - this.domEvent.clientX < 138) {\r\n\t\t\t\t// 如果到右边的距离小于元素总宽度\r\n\t\t\t\tthis.rightMenu.left = 'auto'\r\n\t\t\t\tthis.rightMenu.right = `${\r\n\t\t\t\t\tdocument.body.clientWidth - this.domEvent.clientX\r\n\t\t\t\t}px`\r\n\t\t\t\tthis.unzipMenu.left = '-200px'\r\n\t\t\t\tthis.unzipMenu.right = 'auto'\r\n\t\t\t} else {\r\n\t\t\t\tthis.rightMenu.left = `${this.domEvent.clientX + 8}px`\r\n\t\t\t\tthis.rightMenu.right = 'auto'\r\n\t\t\t\tthis.unzipMenu.left = '126px'\r\n\t\t\t\tthis.unzipMenu.right = 'auto'\r\n\t\t\t}\r\n\t\t\tthis.visible = true\r\n\t\t},\r\n\t\t/**\r\n\t\t * 关闭右键列表\r\n\t\t */\r\n\t\tcloseRightMenu(event) {\r\n\t\t\tif (\r\n\t\t\t\t!event.target.className.includes('operate-more-') &&\r\n\t\t\t\t!event.target.className.includes('unzip-menu-item')\r\n\t\t\t) {\r\n\t\t\t\tthis.visible = false\r\n\t\t\t\tif (this.selectedFile !== undefined) {\r\n\t\t\t\t\t// 不是在空白处右键时\r\n\t\t\t\t\tthis.callback('cancel')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * 复制按钮点击事件\r\n\t\t * @description 向父组件传递当前操作的文件信息，并打开“复制文件对话框”\r\n\t\t * @param {object} fileInfo 文件信息\r\n\t\t */\r\n\t\thandleCopyFileBtnClick(fileInfo) {\r\n\t\t\tthis.visible = false\r\n\t\t\tthis.$openDialog\r\n\t\t\t\t.copyFile({\r\n\t\t\t\t\tfileInfo\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tthis.callback(res)\r\n\t\t\t\t})\r\n\t\t},\r\n\t\t/**\r\n\t\t * 移动按钮点击事件\r\n\t\t * @description 向父组件传递当前操作的文件信息，并打开“移动文件对话框”\r\n\t\t * @param {object} fileInfo 文件信息\r\n\t\t */\r\n\t\thandleMoveFileBtnClick(fileInfo) {\r\n\t\t\tthis.visible = false\r\n\t\t\tthis.$openDialog\r\n\t\t\t\t.moveFile({\r\n\t\t\t\t\tisBatchMove: false,\r\n\t\t\t\t\tfileInfo\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tthis.callback(res)\r\n\t\t\t\t})\r\n\t\t},\r\n\t\t/**\r\n\t\t * 解压缩按钮点击事件\r\n\t\t * @description 调用解压缩文件接口，并展示新的文件列表\r\n\t\t * @param {object} fileInfo 文件信息\r\n\t\t * @param {number} unzipMode 解压模式 0-解压到当前文件夹， 1-自动创建该文件名目录，并解压到目录里， 2-手动选择解压目录\r\n\t\t */\r\n\t\thandleUnzipFileBtnClick(fileInfo, unzipMode) {\r\n\t\t\tthis.visible = false\r\n\t\t\tthis.$openDialog\r\n\t\t\t\t.unzipFile({\r\n\t\t\t\t\tunzipMode: unzipMode,\r\n\t\t\t\t\tuserFileId: fileInfo.userFileId\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tthis.callback(res)\r\n\t\t\t\t})\r\n\t\t},\r\n\t\t/**\r\n\t\t * 删除按钮点击事件\r\n\t\t * @description 区分 删除到回收站中 | 在回收站中彻底删除，打开确认对话框\r\n\t\t * @param {object} fileInfo 文件信息\r\n\t\t */\r\n\t\thandleDeleteFileBtnClick(fileInfo) {\r\n\t\t\tthis.visible = false\r\n\t\t\tthis.$openDialog\r\n\t\t\t\t.deleteFile({\r\n\t\t\t\t\tisBatchOperation: false,\r\n\t\t\t\t\tfileInfo,\r\n\t\t\t\t\tdeleteMode: this.fileType === 6 ? 2 : 1 //  删除类型：1-删除到回收站 2-彻底删除\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tthis.callback(res)\r\n\t\t\t\t})\r\n\t\t},\r\n\t\t/**\r\n\t\t * 还原按钮点击事件\r\n\t\t * @description 调用接口，在回收站中还原文件\r\n\t\t * @param {object} fileInfo 文件信息\r\n\t\t */\r\n\t\thandleRestoreFileBtnClick(fileInfo) {\r\n\t\t\tthis.visible = false\r\n\t\t\tthis.$openDialog\r\n\t\t\t\t.restoreFile({\r\n\t\t\t\t\tdeleteBatchNum: fileInfo.deleteBatchNum,\r\n\t\t\t\t\tfilePath: fileInfo.filePath\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tthis.callback(res)\r\n\t\t\t\t})\r\n\t\t},\r\n\t\t/**\r\n\t\t * 文件重命名按钮点击事件\r\n\t\t * @description 打开确认对话框让用户输入新的文件名\r\n\t\t * @param {object} fileInfo 文件信息\r\n\t\t */\r\n\t\thandleRenameFileBtnClick(fileInfo) {\r\n\t\t\tthis.visible = false\r\n\t\t\tthis.$openDialog\r\n\t\t\t\t.renameFile({\r\n\t\t\t\t\toldFileName: fileInfo.fileName,\r\n\t\t\t\t\tuserFileId: fileInfo.userFileId\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tthis.callback(res)\r\n\t\t\t\t})\r\n\t\t},\r\n\t\t/**\r\n\t\t * 文件分享按钮点击事件\r\n\t\t * @description 打开对话框让用户选择过期时间和提取码\r\n\t\t * @param {object} fileInfo 文件信息\r\n\t\t */\r\n\t\thandleShareFileBtnClick(fileInfo) {\r\n\t\t\tthis.visible = false\r\n\t\t\tthis.$openDialog.shareFile({\r\n\t\t\t\tfileInfo: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tuserFileId: fileInfo.userFileId\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t})\r\n\t\t},\r\n\t\t/**\r\n\t\t * 编辑文件夹按钮点击事件\r\n\t\t */\r\n\t\thandleClickFolderEdit() {\r\n\t\t\trouter.push({\r\n\t\t\t\tname: 'WebIDE',\r\n\t\t\t\tquery: { filePath: this.selectedFile.filePath }\r\n\t\t\t})\r\n\t\t},\r\n\t\t/**\r\n\t\t * 文件在线编辑按钮点击事件\r\n\t\t * @description 打开 代码预览对话框 或 office 编辑页面\r\n\t\t * @param {object} fileInfo 文件信息\r\n\t\t */\r\n\t\thandleClickFileEdit(fileInfo) {\r\n\t\t\tif (this.officeFileType.includes(fileInfo.extendName)) {\r\n\t\t\t\t// office 编辑页面\r\n\t\t\t\tthis.$file.getFileOnlineEditPathByOffice(fileInfo)\r\n\t\t\t} else if (this.markdownFileType.includes(fileInfo.extendName)) {\r\n\t\t\t\t// markdown 编辑浮层\r\n\t\t\t\tthis.$openBox.markdownPreview({\r\n\t\t\t\t\tfileInfo: fileInfo,\r\n\t\t\t\t\teditable: true\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// 代码编辑对话框\r\n\t\t\t\tthis.$openBox.codePreview({ fileInfo: fileInfo, isEdit: true })\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * 文件详情按钮点击事件\r\n\t\t * @description 打开对话框展示文件完整信息\r\n\t\t * @param {object} fileInfo 文件信息\r\n\t\t */\r\n\t\thandleShowDetailInfo(fileInfo) {\r\n\t\t\tthis.visible = false\r\n\t\t\tthis.$openDialog.showFileDetail({ fileInfo })\r\n\t\t},\r\n\t\t/**\r\n\t\t * 新建文件夹按钮点击事件\r\n\t\t * @description 调用新建文件夹服务，并在弹窗确认回调事件中刷新文件列表\r\n\t\t */\r\n\t\thandleClickAddFolderBtn() {\r\n\t\t\tthis.$openDialog\r\n\t\t\t\t.addFolder({\r\n\t\t\t\t\tfilePath: router.currentRoute.query.filePath || '/'\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tthis.callback(res)\r\n\t\t\t\t})\r\n\t\t},\r\n\t\t/**\r\n\t\t * 新建 office 文件\r\n\t\t * @description 调用新建 office 文件服务，并在弹窗确认回调事件中刷新文件列表\r\n\t\t * @param {string} 文件扩展名 docx xlsx pptx\r\n\t\t */\r\n\t\thandleCreateFile(extendName) {\r\n\t\t\tthis.$openDialog\r\n\t\t\t\t.addFile({\r\n\t\t\t\t\textendName: extendName\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tthis.callback(res)\r\n\t\t\t\t})\r\n\t\t},\r\n\t\t/**\r\n\t\t * 上传文件按钮点击事件\r\n\t\t * @description 通过Bus通信，开启全局上传文件流程\r\n\t\t * @param {boolean} uploadWay 上传方式 0-文件上传 1-文件夹上传 2-粘贴图片或拖拽上传\r\n\t\t */\r\n\t\thandleUploadFileBtnClick(uploadWay) {\r\n\t\t\tthis.$openBox.uploadFile({\r\n\t\t\t\tparams: this.uploadFileParams,\r\n\t\t\t\tuploadWay,\r\n\t\t\t\tserviceEl: this.serviceEl,\r\n\t\t\t\tcallType: true //  callType 调用此服务的方式：1 - 顶部栏，2 - 右键菜单\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@import '~_a/styles/varibles.styl';\r\n@import '~_a/styles/mixins.styl';\r\n\r\n.right-menu-list {\r\n  position: fixed;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: #fff;\r\n  border: 1px solid $BorderLighter;\r\n  border-radius: 4px;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n  z-index: 2;\r\n  padding: 4px 0;\r\n  color: $RegularText;\r\n  list-style: none;\r\n\r\n  .right-menu-item,\r\n  .unzip-item {\r\n    padding: 0 16px;\r\n    height: 36px;\r\n    line-height: 36px;\r\n    cursor: pointer;\r\n    &:hover {\r\n      background: $PrimaryHover;\r\n      color: $Primary;\r\n    }\r\n    i {\r\n      margin-right: 8px;\r\n    }\r\n  }\r\n\r\n  &.add {\r\n    .right-menu-item {\r\n      display: flex;\r\n      align-items: center;\r\n      img {\r\n        margin-right: 4px;\r\n        height: 20px;\r\n      }\r\n      i {\r\n        margin-right: 4px;\r\n        font-size: 18px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .unzip-menu-item {\r\n    position: relative;\r\n    &:hover {\r\n      .unzip-list {\r\n        display: block;\r\n      }\r\n    }\r\n    .unzip-list {\r\n      position: absolute;\r\n      display: none;\r\n      list-style: none;\r\n      .unzip-item {\r\n        width: 200px;\r\n        setEllipsis(1)\r\n      }\r\n    }\r\n  }\r\n}\r\n.right-menu-list,\r\n.unzip-list {\r\n  background: #fff;\r\n  border: 1px solid $BorderLighter;\r\n  border-radius: 6px;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n  z-index: 2;\r\n  padding: 8px 0;\r\n  color: $RegularText;\r\n  font-size: 14px;\r\n  .el-divider {\r\n    margin: 2px 0;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}