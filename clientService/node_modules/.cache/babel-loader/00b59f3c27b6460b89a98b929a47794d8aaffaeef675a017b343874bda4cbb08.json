{"ast":null,"code":"import axios from 'axios';\nimport store from '@/store';\nimport { getToken, getTokenType } from '@/utils/auth';\nconst service = axios.create({\n  withCredentials: true,\n  timeout: 1000 * 60 * 10\n});\n\n// 请求拦截\nservice.interceptors.request.use(config => {\n  config.headers['Authorization'] = getTokenType() + ' ' + getToken();\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// 响应拦截\nservice.interceptors.response.use(response => {\n  if (response.data.code !== '200') {\n    if (response.data.code === '3002') {\n      // 回退到登录页\n    } else if (response.data.code === '3005' || response.data.code === '3007') {\n      // 登录过期 回退到登录页\n    } else {\n      // 错误提示\n      // Notify({ type: 'danger', message: response.data.message })\n      // return response\n    }\n    return response;\n    // return Promise.reject(new Error(response.data.message || 'Error'))\n  } else {\n    return response;\n  }\n}, error => {\n  // 错误提示\n  return Promise.reject(error);\n});\nexport default service;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}