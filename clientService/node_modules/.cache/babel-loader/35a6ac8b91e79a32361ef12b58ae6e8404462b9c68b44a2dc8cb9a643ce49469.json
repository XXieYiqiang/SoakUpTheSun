{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Administrator/Desktop/GimChat/gimChatVue/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.array.push.js\");\nvar _index = _interopRequireDefault(require(\"@/router/index.js\"));\nvar _default = exports.default = {\n  name: 'FileDetailInfoDialog',\n  data() {\n    return {\n      visible: false //  对话框是否可见\n    };\n  },\n  computed: {\n    // 左侧菜单选中的文件类型\n    fileType() {\n      return _index.default.currentRoute.query.fileType ? Number(_index.default.currentRoute.query.fileType) : 0;\n    },\n    // 路由名称\n    routeName() {\n      return _index.default.currentRoute.name;\n    }\n  },\n  methods: {\n    /**\r\n     * 查看文件详情对话框 | 对话框关闭的回调\r\n     * @description 关闭对话框\r\n     */\n    handleDialogClose() {\n      this.visible = false;\n      this.$refs.fileInfoForm.resetFields();\n      this.callback('cancel');\n    },\n    /**\r\n     * 路径点击事件\r\n     * @param {object} fileInfo 文件信息\r\n     */\n    handleClickFilePath(fileInfo) {\n      _index.default.push({\n        query: {\n          filePath: fileInfo.filePath,\n          fileType: 0\n        }\n      });\n      this.handleDialogClose();\n    }\n  }\n};","map":{"version":3,"names":["_index","_interopRequireDefault","require","_default","exports","default","name","data","visible","computed","fileType","router","currentRoute","query","Number","routeName","methods","handleDialogClose","$refs","fileInfoForm","resetFields","callback","handleClickFilePath","fileInfo","push","filePath"],"sources":["src/components/file/dialog/showFileDetail/Dialog.vue"],"sourcesContent":["<template>\r\n\t<!-- 查看文件详情对话框 -->\r\n\t<el-dialog\r\n\t\tclass=\"file-info-dialog\"\r\n\t\ttitle=\"文件详情\"\r\n\t\t:visible.sync=\"visible\"\r\n\t\t:close-on-click-modal=\"false\"\r\n\t\twidth=\"550px\"\r\n\t\t@close=\"handleDialogClose\"\r\n\t>\r\n\t\t<img\r\n\t\t\tclass=\"file-img\"\r\n\t\t\t:src=\"$file.setFileImg(fileInfo)\"\r\n\t\t\t:title=\"`${fileInfo.isDir ? '' : '点击预览'}`\"\r\n\t\t/>\r\n\t\t<el-form\r\n\t\t\tclass=\"file-info-form\"\r\n\t\t\t:model=\"fileInfo\"\r\n\t\t\tref=\"fileInfoForm\"\r\n\t\t\tlabel-width=\"82px\"\r\n\t\t\tlabel-position=\"right\"\r\n\t\t\tlabel-suffix=\"：\"\r\n\t\t\tsize=\"small\"\r\n\t\t>\r\n\t\t\t<el-form-item label=\"文件名\" prop=\"fileName\">\r\n\t\t\t\t<el-input\r\n\t\t\t\t\t:value=\"$file.getFileNameComplete(fileInfo)\"\r\n\t\t\t\t\treadonly\r\n\t\t\t\t></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item\r\n\t\t\t\t:label=\"fileType === 6 ? '原路径' : '路径'\"\r\n\t\t\t\tprop=\"filePath\"\r\n\t\t\t\tv-if=\"![0, 8].includes(fileType)\"\r\n\t\t\t>\r\n\t\t\t\t<el-input\r\n\t\t\t\t\t:value=\"fileInfo.filePath\"\r\n\t\t\t\t\treadonly\r\n\t\t\t\t\t@click.native=\"handleClickFilePath(fileInfo)\"\r\n\t\t\t\t></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"类型\" prop=\"fileName\">\r\n\t\t\t\t<el-input :value=\"$file.getFileType(fileInfo)\" readonly></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"大小\" prop=\"fileSize\">\r\n\t\t\t\t<el-input\r\n\t\t\t\t\t:value=\"\r\n\t\t\t\t\t\tfileInfo.isDir === 0\r\n\t\t\t\t\t\t\t? $file.calculateFileSize(fileInfo.fileSize)\r\n\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t\"\r\n\t\t\t\t\treadonly\r\n\t\t\t\t></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item\r\n\t\t\t\tlabel=\"修改日期\"\r\n\t\t\t\tprop=\"uploadTime\"\r\n\t\t\t\tv-if=\"![7, 8].includes(fileType) && !['Share'].includes(this.routeName)\"\r\n\t\t\t>\r\n\t\t\t\t<el-input :value=\"fileInfo.uploadTime\" readonly></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"删除日期\" prop=\"deleteTime\" v-if=\"fileType === 6\">\r\n\t\t\t\t<el-input :value=\"fileInfo.deleteTime\" readonly></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"分享类型\" prop=\"shareType\" v-if=\"fileType === 8\">\r\n\t\t\t\t<el-input\r\n\t\t\t\t\t:value=\"fileInfo.shareType === 1 ? '私密' : '公共'\"\r\n\t\t\t\t\treadonly\r\n\t\t\t\t></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"分享时间\" prop=\"shareTime\" v-if=\"fileType === 8\">\r\n\t\t\t\t<el-input :value=\"fileInfo.shareTime\" readonly></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item\r\n\t\t\t\tlabel=\"过期时间\"\r\n\t\t\t\tprop=\"endTime\"\r\n\t\t\t\tv-if=\"fileType === 8\"\r\n\t\t\t\tclass=\"form-item-end-time\"\r\n\t\t\t>\r\n\t\t\t\t<el-input :value=\"fileInfo.endTime\" readonly></el-input>\r\n\t\t\t\t<i\r\n\t\t\t\t\tclass=\"status-icon el-icon-warning\"\r\n\t\t\t\t\tv-if=\"$file.getFileShareStatus(fileInfo.endTime)\"\r\n\t\t\t\t></i>\r\n\t\t\t\t<i class=\"status-icon el-icon-time\" v-else></i>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t<el-button @click=\"handleDialogClose\">关 闭</el-button>\r\n\t\t</div>\r\n\t</el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport router from '@/router/index.js'\r\n\r\nexport default {\r\n\tname: 'FileDetailInfoDialog',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tvisible: false //  对话框是否可见\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t// 左侧菜单选中的文件类型\r\n\t\tfileType() {\r\n\t\t\treturn router.currentRoute.query.fileType\r\n\t\t\t\t? Number(router.currentRoute.query.fileType)\r\n\t\t\t\t: 0\r\n\t\t},\r\n\t\t// 路由名称\r\n\t\trouteName() {\r\n\t\t\treturn router.currentRoute.name\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t/**\r\n\t\t * 查看文件详情对话框 | 对话框关闭的回调\r\n\t\t * @description 关闭对话框\r\n\t\t */\r\n\t\thandleDialogClose() {\r\n\t\t\tthis.visible = false\r\n\t\t\tthis.$refs.fileInfoForm.resetFields()\r\n\t\t\tthis.callback('cancel')\r\n\t\t},\r\n\t\t/**\r\n\t\t * 路径点击事件\r\n\t\t * @param {object} fileInfo 文件信息\r\n\t\t */\r\n\t\thandleClickFilePath(fileInfo) {\r\n\t\t\trouter.push({\r\n\t\t\t\tquery: { filePath: fileInfo.filePath, fileType: 0 }\r\n\t\t\t})\r\n\t\t\tthis.handleDialogClose()\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@import '~_a/styles/varibles.styl';\r\n\r\n.file-img {\r\n  display: block;\r\n  margin: 0 auto 8px auto;\r\n  max-width: 120px;\r\n  width: 40%;\r\n  height: auto;\r\n}\r\n>>>.el-form.file-info-form {\r\n  .el-form-item {\r\n    margin-bottom: 16px;\r\n    .el-input__inner {\r\n      border: none;\r\n      font-size: 14px;\r\n    }\r\n    &.form-item-end-time {\r\n      .el-form-item__content {\r\n        display: flex;\r\n        align-items: center;\r\n        .el-input {\r\n          width: 141px;\r\n          .el-input__inner {\r\n            padding-right: 0;\r\n          }\r\n        }\r\n        .status-icon {\r\n          font-size: 14px;\r\n        }\r\n        .el-icon-warning {\r\n          color: $Warning;\r\n        }\r\n        .el-icon-time {\r\n          color: $Success;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";;;;;;;;AA8FA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,OAAA;IACA;EACA;EACAC,QAAA;IACA;IACAC,SAAA;MACA,OAAAC,cAAA,CAAAC,YAAA,CAAAC,KAAA,CAAAH,QAAA,GACAI,MAAA,CAAAH,cAAA,CAAAC,YAAA,CAAAC,KAAA,CAAAH,QAAA,IACA;IACA;IACA;IACAK,UAAA;MACA,OAAAJ,cAAA,CAAAC,YAAA,CAAAN,IAAA;IACA;EACA;EACAU,OAAA;IACA;AACA;AACA;AACA;IACAC,kBAAA;MACA,KAAAT,OAAA;MACA,KAAAU,KAAA,CAAAC,YAAA,CAAAC,WAAA;MACA,KAAAC,QAAA;IACA;IACA;AACA;AACA;AACA;IACAC,oBAAAC,QAAA;MACAZ,cAAA,CAAAa,IAAA;QACAX,KAAA;UAAAY,QAAA,EAAAF,QAAA,CAAAE,QAAA;UAAAf,QAAA;QAAA;MACA;MACA,KAAAO,iBAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}