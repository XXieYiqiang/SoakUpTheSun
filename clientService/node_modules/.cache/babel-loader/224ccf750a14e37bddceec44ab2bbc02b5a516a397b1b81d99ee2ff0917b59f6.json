{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _ai = require(\"@/api/ai\");\n// JavaScript 逻辑保持不变\nvar _default = exports.default = {\n  data() {\n    return {\n      startTime: null,\n      taskId: null,\n      labelPosition: 'top',\n      formData: {\n        title: '美女跳舞',\n        userPrompt: '美女跳舞',\n        videoStyle: '写实风格',\n        videoLength: '15'\n      },\n      videoKey: 0,\n      // 用来强制重新渲染视频播放器\n      playerOptions: {\n        techOrder: ['html5'],\n        sources: [{\n          type: 'video/mp4',\n          // src: 'https://vjs.zencdn.net/v/oceans.mp4',  // 视频源\n          // src: 'https://tempfile.aiquickdraw.com/f/aaebe9df5e951608796487abbaebd7a9/4481152c-38db-465e-87ab-ebb45dfe36cc.mp4'\n          src: 'https://tempfile.aiquickdraw.com/r/5407877d-1beb-450f-9f98-d250134c32fa_watermarked.mp4'\n        }],\n        poster: 'https://vjs.zencdn.net/v/oceans.png',\n        // 预览图\n        controls: true,\n        controlBar: {\n          children: ['playToggle', 'volumePanel', 'timeDivider', 'progressControl', 'fullscreenToggle'],\n          align: 'center'\n        }\n      },\n      // 模拟的时间线数据\n      // 更新后的分片信息数据\n      timelineData: [{\n        segmentTitle: '片段 1：未来都市景观',\n        beginTime: '0',\n        // 模拟 API 返回的字符串秒数\n        endTime: '5',\n        // 模拟 API 返回的字符串秒数\n        segmentDescription: '清晨，一架赛博朋克风格的无人机缓缓飞过未来都市的高耸入云的摩天大楼群。城市被浓雾笼罩，霓虹灯尚未熄灭，地面湿润反射着灯光。要求画面有极高的细节分辨率，色彩饱和度高。',\n        segmentKeywords: '无人机, 赛博朋克, 霓虹灯, 摩天大楼',\n        shardingStyle: '超现实写实风格',\n        // 新增字段\n        fragmentedComposition: '大景深航拍全景',\n        // 新增字段\n        fragmentedLightAndShadow: '强对比丁达尔光束',\n        // 新增字段\n        fragmentedCameraMovement: '慢速推拉摇移 (Dolly Zoom)' // 新增字段\n      }, {\n        segmentTitle: '片段 2：街头武者对决',\n        beginTime: '5',\n        // 模拟 API 返回的字符串秒数\n        endTime: '10',\n        // 模拟 API 返回的字符串秒数\n        segmentDescription: '一名身穿铠甲的武者在雨夜的日式街头与机械敌人对峙。武者拔出武士刀，动作干净利落，背景有破碎的全息广告牌。',\n        segmentKeywords: '武士, 战斗, 雨夜, 全息投影, 机械敌人',\n        shardingStyle: '卡通渲染 (Cel Shading)',\n        fragmentedComposition: '中景特写，低角度拍摄',\n        fragmentedLightAndShadow: '高光强调，水面反射光',\n        fragmentedCameraMovement: '高速环绕运镜 (Orbit Shot)'\n      }, {\n        segmentTitle: '片段 3：数据流涌动',\n        beginTime: '10',\n        // 模拟 API 返回的字符串秒数\n        endTime: '15',\n        // 模拟 API 返回的字符串秒数\n        segmentDescription: '一个身着黑客服饰的女子，双手触摸着布满蓝色数据流的墙壁。画面主体清晰，背景虚焦，突出数据流动的动态感。',\n        segmentKeywords: '黑客, 数据流, 蓝色, 动态',\n        shardingStyle: '未来感风格',\n        fragmentedComposition: '特写景别，三分法构图',\n        fragmentedLightAndShadow: '环境光，蓝色背光',\n        fragmentedCameraMovement: '稳定慢速平移 (Tracking Shot)'\n      }]\n    };\n  },\n  methods: {\n    /**\r\n     * 生成视频\r\n     */\n    async generateVideo() {\n      const param = {\n        segmentInfoList: this.timelineData\n      };\n      const respData = await (0, _ai.generatorVideo)(param);\n      console.log('respData', respData);\n      if (respData.data.code == 200 && respData.data.data) {\n        this.taskId = respData.data.data;\n        console.log('this.taskId =', this.taskId);\n\n        // 启动定时任务，每隔 30 秒查询一次视频状态\n        this.startPollingTask();\n        this.$message({\n          message: '操作成功！视频生成任务已开始！',\n          type: 'success',\n          duration: 3000\n        });\n      } else {\n        this.$message({\n          message: '操作失败，请稍后进行重试！',\n          type: 'error',\n          duration: 3000\n        });\n      }\n    },\n    /**\r\n     * 启动轮询任务\r\n     */\n    startPollingTask() {\n      const that = this;\n      console.log('taskId=begin', that.taskId);\n      // 设置轮询间隔（30秒）\n      this.taskInterval = setInterval(async () => {\n        console.log('taskId=end', that.taskId);\n        const param = {\n          taskId: that.taskId\n        };\n        console.log('param=', param);\n        const respData = await (0, _ai.queryVideoResult)(param);\n        console.log('[startPollingTask]respData=', respData);\n        if (respData.data.code == 200 && respData.data.data) {\n          console.log('视频url:', respData.data.data);\n\n          // this.playerOptions.sources[0].src = respData.data.data\n\n          this.videoKey += 1; // 改变 key，强制重新渲染视频播放器\n          this.$set(this.playerOptions.sources, 0, {\n            type: 'video/mp4',\n            src: respData.data.data\n          });\n          this.$nextTick(() => {\n            this.$refs.videoPlayer.load(); // 强制重新加载视频\n          });\n          console.log('图片视频url:', this.playerOptions.sources[0].src);\n          clearInterval(this.taskInterval); // 停止定时任务\n          this.$message({\n            message: '视频生成完成！',\n            type: 'success',\n            duration: 3000\n          });\n        } else {\n          const resState = respData.message;\n          if (resState === \"2\") {\n            // 如果任务失败，停止轮询\n            clearInterval(this.taskInterval);\n            this.$message.error(\"任务生成失败\");\n          } else if (resState === \"3\") {\n            // 如果任务失败，停止轮询\n            clearInterval(this.taskInterval);\n            log.info(\"操作失败，任务创建成功但生成失败\");\n            this.$message.error(\"任务创建成功但生成失败\");\n          } else if (resState === \"-1\") {\n            // 如果任务失败，停止轮询\n            clearInterval(this.taskInterval);\n            log.info(\"操作失败，请稍后重试！\");\n            this.$message.error(\"操作失败，请稍后重试！\");\n          }\n        }\n\n        // 超过10分钟仍没有结果，停止轮询\n        if (!this.startTime) {\n          this.startTime = new Date().getTime();\n        }\n        const currentTime = new Date().getTime();\n        if (currentTime - this.startTime > 10 * 60 * 1000) {\n          // 10分钟\n          clearInterval(this.taskInterval);\n          this.$message({\n            message: '操作失败，视频生成超时，已停止查询结果。',\n            type: 'error',\n            duration: 3000\n          });\n        }\n      }, 1000 * 8);\n    },\n    /**\r\n     * 停止轮询任务\r\n     */\n    stopPollingTask() {\n      if (this.taskInterval) {\n        clearInterval(this.taskInterval);\n      }\n    },\n    /**\r\n     * 保存表单数据到浏览器的 localStorage\r\n     */\n    saveFormData() {\n      const token = this.$store.getters['user/token'];\n      localStorage.setItem('formData=' + token, JSON.stringify(this.formData));\n      this.$message({\n        message: '数据已保存！',\n        type: 'success',\n        duration: 3000\n      });\n    },\n    /**\r\n     * 加载保存的表单数据\r\n     */\n    loadFormData() {\n      // 从 localStorage 获取保存的表单数据\n      const token = this.$store.getters['user/token'];\n      const savedData = localStorage.getItem('formData=' + token);\n      if (savedData) {\n        this.formData = JSON.parse(savedData); // 解析并加载数据\n      }\n    },\n    /**\r\n     * 清空内容\r\n     */\n    clearData() {\n      this.formData = {\n        title: '',\n        userPrompt: '',\n        videoStyle: '',\n        videoLength: ''\n      };\n      const token = this.$store.getters['user/token'];\n      localStorage.removeItem('formData=' + token);\n    },\n    /**\r\n     * 获取AI分片提示词\r\n     */\n    async getVideoPrompt() {\n      console.log('getVideoPrompt');\n      let param = {\n        ...this.formData\n      };\n      const resData = await (0, _ai.createPrompt)(param);\n      console.log('resData=', resData);\n      if (resData.data.code == 200 && resData.data.data && resData.data.data.length > 0) {\n        this.timelineData = resData.data.data;\n        this.$message({\n          message: '提示词已生成，分片信息已更新！',\n          type: 'success',\n          duration: 3000\n        });\n      } else {\n        this.$message({\n          message: '提示词生成失败或数据为空。',\n          type: 'error',\n          duration: 3000\n        });\n      }\n    },\n    /**\r\n    * 复制指定分片的数据到剪贴板\r\n    * @param {Object} item - 分片数据对象\r\n    */\n    copySegmentData(item) {\n      // 1. 格式化文本\n      const copyText = [`分片标题：${item.segmentTitle}`, `详细的画面描述：${item.segmentDescription}`, `关键字：${item.segmentKeywords}`, `风格：${item.shardingStyle}`, `构图描述：${item.fragmentedComposition}`, `光影描述：${item.fragmentedLightAndShadow}`, `运镜描述：${item.fragmentedCameraMovement}`].join('\\n'); // 使用换行符分隔\n\n      // 2. 复制到剪贴板\n      if (navigator.clipboard) {\n        navigator.clipboard.writeText(copyText).then(() => {\n          // 3. 复制成功提示\n          this.$message({\n            message: '分片信息已成功复制到剪贴板！',\n            type: 'success',\n            duration: 2000\n          });\n        }).catch(err => {\n          // 复制失败提示\n          this.$message({\n            message: `复制失败：${err}`,\n            type: 'error',\n            duration: 3000\n          });\n        });\n      } else {\n        // 兼容性提示（旧版浏览器）\n        this.$message({\n          message: '您的浏览器不支持 navigator.clipboard，请手动复制。',\n          type: 'warning',\n          duration: 4000\n        });\n      }\n    },\n    /**\r\n     * 将秒数转换为 MM:SS 格式\r\n     * @param {string | number} totalSeconds - 总秒数\r\n     * @returns {string} 格式化后的时间字符串 (MM:SS)\r\n    */\n    formatSecondsToTime(totalSeconds) {\n      const seconds = parseInt(totalSeconds);\n      if (isNaN(seconds) || seconds < 0) {\n        return '00:00';\n      }\n      const minutes = Math.floor(seconds / 60);\n      const remainingSeconds = seconds % 60;\n\n      // 确保是两位数\n      const formattedMinutes = String(minutes).padStart(2, '0');\n      const formattedSeconds = String(remainingSeconds).padStart(2, '0');\n      return `${formattedMinutes}:${formattedSeconds}`;\n    },\n    /**\r\n     * 根据分片的起始和结束时间，生成时间戳字符串\r\n     * @param {Object} item - 分片数据对象 (包含 beginTime 和 endTime)\r\n     * @returns {string} 格式化的时间范围字符串 (MM:SS - MM:SS)\r\n     */\n    getSegmentTimestamp(item) {\n      const startTime = this.formatSecondsToTime(item.beginTime || 0);\n      const endTime = this.formatSecondsToTime(item.endTime || 0);\n      return `${startTime} - ${endTime}`;\n    }\n  },\n  mounted() {\n    this.loadFormData();\n  },\n  beforeDestroy() {\n    // 在组件销毁时清除定时任务，避免内存泄漏\n    this.stopPollingTask();\n  }\n};","map":{"version":3,"names":["_ai","require","_default","exports","default","data","startTime","taskId","labelPosition","formData","title","userPrompt","videoStyle","videoLength","videoKey","playerOptions","techOrder","sources","type","src","poster","controls","controlBar","children","align","timelineData","segmentTitle","beginTime","endTime","segmentDescription","segmentKeywords","shardingStyle","fragmentedComposition","fragmentedLightAndShadow","fragmentedCameraMovement","methods","generateVideo","param","segmentInfoList","respData","generatorVideo","console","log","code","startPollingTask","$message","message","duration","that","taskInterval","setInterval","queryVideoResult","$set","$nextTick","$refs","videoPlayer","load","clearInterval","resState","error","info","Date","getTime","currentTime","stopPollingTask","saveFormData","token","$store","getters","localStorage","setItem","JSON","stringify","loadFormData","savedData","getItem","parse","clearData","removeItem","getVideoPrompt","resData","createPrompt","length","copySegmentData","item","copyText","join","navigator","clipboard","writeText","then","catch","err","formatSecondsToTime","totalSeconds","seconds","parseInt","isNaN","minutes","Math","floor","remainingSeconds","formattedMinutes","String","padStart","formattedSeconds","getSegmentTimestamp","mounted","beforeDestroy"],"sources":["src/views/aiVideo/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"container tech-container\">\r\n    <div class=\"header\">\r\n      <h2 class=\"neon-title\">AI 视频制作 <span class=\"sub-text\"></span></h2>\r\n      <p class=\"sub-text\">通过AI技术，只需输入视频标题，即可快速生成高清画质视频，支持自定义片段，实时预览效果。</p>\r\n    </div>\r\n\r\n    <div class=\"content\">\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"7\">\r\n          <el-card class=\"tech-card\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n              <i class=\"el-icon-edit-outline tech-icon\" /><span>提示词设置 </span>\r\n            </div>\r\n            <div class=\"form-container\">\r\n              <el-form :model=\"formData\" ref=\"form\" label-width=\"100px\" class=\"tech-form\"\r\n                :label-position=\"labelPosition\">\r\n                <el-form-item label=\"视频标题\" prop=\"title\">\r\n                  <el-input v-model=\"formData.title\" placeholder=\"输入视频标题\" class=\"tech-input\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"视频描述\" prop=\"userPrompt\">\r\n                  <el-input type=\"textarea\" v-model=\"formData.userPrompt\" placeholder=\"请输入视频描述\" rows=\"4\"\r\n                    class=\"tech-input\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"视频风格\" prop=\"videoStyle\">\r\n                  <el-select v-model=\"formData.videoStyle\" placeholder=\"写实风格\" style=\"width: 100%\" class=\"tech-select\">\r\n                    <el-option label=\"写实风格\" value=\"写实风格\"></el-option>\r\n                    <el-option label=\"卡通风格\" value=\"卡通风格\"></el-option>\r\n                    <el-option label=\"未来感风格\" value=\"未来感风格\"></el-option>\r\n                  </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"视频长度\" prop=\"videoLength\">\r\n                  <el-select v-model=\"formData.videoLength\" placeholder=\"短片 (10s)\" style=\"width: 100%\"\r\n                    class=\"tech-select\">\r\n                    <el-option label=\"短片 (10s)\" value=\"10\"></el-option>\r\n                    <el-option label=\"中等长度 (15s)\" value=\"15\"></el-option>\r\n                    <el-option label=\"长片 (30s)\" value=\"30\"></el-option>\r\n                  </el-select>\r\n                </el-form-item>\r\n              </el-form>\r\n            </div>\r\n          </el-card>\r\n\r\n          <el-card class=\"tech-card\" style=\"margin-top: 20px;\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n              <i class=\"el-icon-paperclip tech-icon\" /><span>文件上传</span>\r\n            </div>\r\n            <el-upload drag action=\"https://jsonplaceholder.typicode.com/posts/\" multiple class=\"tech-upload-area\">\r\n              <i class=\"el-icon-upload\"></i>\r\n              <div class=\"el-upload__text\" style=\"width: 260px;\">将文件拖到此处，或<em class=\"neon-text-primary\">点击上传</em></div>\r\n            </el-upload>\r\n          </el-card>\r\n\r\n          <el-card class=\"tech-card\" style=\"margin-top: 20px;\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n              <i class=\"el-icon-s-tools tech-icon\" /><span>操作控制</span>\r\n            </div>\r\n            <div>\r\n              <el-button type=\"primary\" class=\"tech-button primary-btn\" @click.native=\"getVideoPrompt\">\r\n                <i class=\"el-icon-cpu\"></i> 生成提示词\r\n              </el-button>\r\n            </div>\r\n            <div><el-button class=\"tech-button primary-btn\" @click.native=\"saveFormData\">保存草稿</el-button></div>\r\n            <div><el-button class=\"tech-button primary-btn\" @click.native=\"clearData\">清空内容</el-button>\r\n            </div>\r\n            <div>\r\n              <el-button type=\"primary\" class=\"tech-button primary-btn\" @click.native=\"generateVideo\">\r\n                <i class=\"el-icon-cpu\"></i> 生成视频\r\n              </el-button>\r\n            </div>\r\n          </el-card>\r\n\r\n        </el-col>\r\n\r\n        <el-col :span=\"17\">\r\n          <el-card class=\"tech-card\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n              <i class=\"el-icon-view tech-icon\" /><span>视频预览 </span>\r\n            </div>\r\n            <div class=\"preview-box\">\r\n              <video-player :key=\"videoKey\" class=\"video-player\" :options=\"playerOptions\" :playsinline=\"true\" :preload=\"true\"\r\n                :autoplay=\"true\" :loop=\"true\" :muted=\"true\"></video-player>\r\n            </div>\r\n          </el-card>\r\n\r\n          <el-card class=\"tech-card\" style=\"margin-top: 20px;\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n              <i class=\"el-icon-s-operation tech-icon\" /><span></span>\r\n            </div>\r\n            <el-timeline class=\"tech-timeline\">\r\n              <el-timeline-item v-for=\"(item, index) in timelineData\" :key=\"index\"\r\n                :timestamp=\"getSegmentTimestamp(item)\" placement=\"top\">\r\n                <el-card class=\"timeline-card\">\r\n                  <el-button type=\"text\" class=\"copy-button\" icon=\"el-icon-document-copy\"\r\n                    @click=\"copySegmentData(item)\">\r\n                    复制\r\n                  </el-button>\r\n                  <span class=\"segment-title\">{{ item.segmentTitle }}</span>\r\n                  <p class=\"segment-description-long\">{{ item.segmentDescription }}</p>\r\n\r\n                  <div class=\"segment-detail-divider\"></div>\r\n\r\n                  <div class=\"segment-details-grid\">\r\n                    <p class=\"segment-param\">\r\n                      <span class=\"param-label\">关键字:</span>\r\n                      <span class=\"param-value neon-text-accent\">{{ item.segmentKeywords }}</span>\r\n                    </p>\r\n                    <p class=\"segment-param\">\r\n                      <span class=\"param-label\">风格:</span>\r\n                      <span class=\"param-value\">{{ item.shardingStyle }}</span>\r\n                    </p>\r\n                    <p class=\"segment-param\">\r\n                      <span class=\"param-label\">构图:</span>\r\n                      <span class=\"param-value\">{{ item.fragmentedComposition }}</span>\r\n                    </p>\r\n                    <p class=\"segment-param\">\r\n                      <span class=\"param-label\">光影:</span>\r\n                      <span class=\"param-value\">{{ item.fragmentedLightAndShadow }}</span>\r\n                    </p>\r\n                    <p class=\"segment-param\">\r\n                      <span class=\"param-label\">运镜:</span>\r\n                      <span class=\"param-value\">{{ item.fragmentedCameraMovement }}</span>\r\n                    </p>\r\n                  </div>\r\n                </el-card>\r\n              </el-timeline-item>\r\n            </el-timeline>\r\n          </el-card>\r\n\r\n          <el-card class=\"tech-card\" style=\"margin-top: 20px;\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n              <i class=\"el-icon-folder-checked tech-icon\" /><span>最近完成 (RECENT LOG)</span>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { createPrompt, generatorVideo, queryVideoResult } from '@/api/ai'\r\n// JavaScript 逻辑保持不变\r\nexport default {\r\n  data() {\r\n    return {\r\n      startTime: null,\r\n      taskId: null,\r\n      labelPosition: 'top',\r\n      formData: {\r\n        title: '美女跳舞',\r\n        userPrompt: '美女跳舞',\r\n        videoStyle: '写实风格',\r\n        videoLength: '15'\r\n      },\r\n      videoKey: 0,  // 用来强制重新渲染视频播放器\r\n      playerOptions: {\r\n        techOrder: ['html5'],\r\n        sources: [\r\n          {\r\n            type: 'video/mp4',\r\n            // src: 'https://vjs.zencdn.net/v/oceans.mp4',  // 视频源\r\n            // src: 'https://tempfile.aiquickdraw.com/f/aaebe9df5e951608796487abbaebd7a9/4481152c-38db-465e-87ab-ebb45dfe36cc.mp4'\r\n            src: 'https://tempfile.aiquickdraw.com/r/5407877d-1beb-450f-9f98-d250134c32fa_watermarked.mp4'\r\n          },\r\n        ],\r\n        poster: 'https://vjs.zencdn.net/v/oceans.png',  // 预览图\r\n        controls: true,\r\n        controlBar: {\r\n          children: ['playToggle', 'volumePanel', 'timeDivider', 'progressControl', 'fullscreenToggle'],\r\n          align: 'center'\r\n        },\r\n      },\r\n      // 模拟的时间线数据\r\n      // 更新后的分片信息数据\r\n      timelineData: [\r\n        {\r\n          segmentTitle: '片段 1：未来都市景观',\r\n          beginTime: '0', // 模拟 API 返回的字符串秒数\r\n          endTime: '5',   // 模拟 API 返回的字符串秒数\r\n          segmentDescription: '清晨，一架赛博朋克风格的无人机缓缓飞过未来都市的高耸入云的摩天大楼群。城市被浓雾笼罩，霓虹灯尚未熄灭，地面湿润反射着灯光。要求画面有极高的细节分辨率，色彩饱和度高。',\r\n          segmentKeywords: '无人机, 赛博朋克, 霓虹灯, 摩天大楼',\r\n          shardingStyle: '超现实写实风格', // 新增字段\r\n          fragmentedComposition: '大景深航拍全景', // 新增字段\r\n          fragmentedLightAndShadow: '强对比丁达尔光束', // 新增字段\r\n          fragmentedCameraMovement: '慢速推拉摇移 (Dolly Zoom)', // 新增字段\r\n        },\r\n        {\r\n          segmentTitle: '片段 2：街头武者对决',\r\n          beginTime: '5', // 模拟 API 返回的字符串秒数\r\n          endTime: '10',   // 模拟 API 返回的字符串秒数\r\n          segmentDescription: '一名身穿铠甲的武者在雨夜的日式街头与机械敌人对峙。武者拔出武士刀，动作干净利落，背景有破碎的全息广告牌。',\r\n          segmentKeywords: '武士, 战斗, 雨夜, 全息投影, 机械敌人',\r\n          shardingStyle: '卡通渲染 (Cel Shading)',\r\n          fragmentedComposition: '中景特写，低角度拍摄',\r\n          fragmentedLightAndShadow: '高光强调，水面反射光',\r\n          fragmentedCameraMovement: '高速环绕运镜 (Orbit Shot)',\r\n        },\r\n        {\r\n          segmentTitle: '片段 3：数据流涌动',\r\n          beginTime: '10', // 模拟 API 返回的字符串秒数\r\n          endTime: '15',   // 模拟 API 返回的字符串秒数\r\n          segmentDescription: '一个身着黑客服饰的女子，双手触摸着布满蓝色数据流的墙壁。画面主体清晰，背景虚焦，突出数据流动的动态感。',\r\n          segmentKeywords: '黑客, 数据流, 蓝色, 动态',\r\n          shardingStyle: '未来感风格',\r\n          fragmentedComposition: '特写景别，三分法构图',\r\n          fragmentedLightAndShadow: '环境光，蓝色背光',\r\n          fragmentedCameraMovement: '稳定慢速平移 (Tracking Shot)',\r\n        }\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    /**\r\n     * 生成视频\r\n     */\r\n    async generateVideo() {\r\n\r\n      const param = {\r\n        segmentInfoList: this.timelineData\r\n      }\r\n\r\n      const respData = await generatorVideo(param);\r\n\r\n      console.log('respData', respData)\r\n\r\n      if (respData.data.code == 200 && respData.data.data) {\r\n\r\n        this.taskId = respData.data.data;\r\n\r\n        console.log('this.taskId =', this.taskId)\r\n\r\n        // 启动定时任务，每隔 30 秒查询一次视频状态\r\n        this.startPollingTask();\r\n\r\n        this.$message({\r\n          message: '操作成功！视频生成任务已开始！',\r\n          type: 'success',\r\n          duration: 3000\r\n        });\r\n      } else {\r\n        this.$message({\r\n          message: '操作失败，请稍后进行重试！',\r\n          type: 'error',\r\n          duration: 3000\r\n        });\r\n      }\r\n    },\r\n    /**\r\n     * 启动轮询任务\r\n     */\r\n    startPollingTask() {\r\n      const that = this\r\n      console.log('taskId=begin', that.taskId)\r\n      // 设置轮询间隔（30秒）\r\n      this.taskInterval = setInterval(async () => {\r\n        console.log('taskId=end', that.taskId)\r\n        const param = {\r\n          taskId: that.taskId\r\n        }\r\n        console.log('param=', param)\r\n        const respData = await queryVideoResult(param);\r\n\r\n        console.log('[startPollingTask]respData=', respData)\r\n\r\n        if (respData.data.code == 200 && respData.data.data) {\r\n\r\n          console.log('视频url:', respData.data.data)\r\n\r\n          // this.playerOptions.sources[0].src = respData.data.data\r\n\r\n          this.videoKey += 1;  // 改变 key，强制重新渲染视频播放器\r\n          this.$set(this.playerOptions.sources, 0, {\r\n            type: 'video/mp4',\r\n            src: respData.data.data\r\n          });\r\n\r\n          this.$nextTick(() => {\r\n            this.$refs.videoPlayer.load();  // 强制重新加载视频\r\n          });\r\n\r\n          console.log('图片视频url:', this.playerOptions.sources[0].src)\r\n\r\n          clearInterval(this.taskInterval);  // 停止定时任务\r\n          this.$message({\r\n            message: '视频生成完成！',\r\n            type: 'success',\r\n            duration: 3000\r\n          });\r\n\r\n        } else {\r\n          const resState = respData.message\r\n\r\n          if (resState === \"2\") {\r\n            // 如果任务失败，停止轮询\r\n            clearInterval(this.taskInterval);\r\n            this.$message.error(\"任务生成失败\")\r\n          } else if (resState === \"3\") {\r\n            // 如果任务失败，停止轮询\r\n            clearInterval(this.taskInterval);\r\n            log.info(\"操作失败，任务创建成功但生成失败\")\r\n            this.$message.error(\"任务创建成功但生成失败\")\r\n          } else if (resState === \"-1\") {\r\n            // 如果任务失败，停止轮询\r\n            clearInterval(this.taskInterval);\r\n            log.info(\"操作失败，请稍后重试！\")\r\n            this.$message.error(\"操作失败，请稍后重试！\")\r\n          }\r\n        }\r\n\r\n        // 超过10分钟仍没有结果，停止轮询\r\n        if (!this.startTime) {\r\n          this.startTime = new Date().getTime();\r\n        }\r\n        const currentTime = new Date().getTime();\r\n        if (currentTime - this.startTime > 10 * 60 * 1000) {  // 10分钟\r\n          clearInterval(this.taskInterval);\r\n          this.$message({\r\n            message: '操作失败，视频生成超时，已停止查询结果。',\r\n            type: 'error',\r\n            duration: 3000\r\n          });\r\n        }\r\n      }, 1000 * 8);\r\n    },\r\n\r\n    /**\r\n     * 停止轮询任务\r\n     */\r\n    stopPollingTask() {\r\n      if (this.taskInterval) {\r\n        clearInterval(this.taskInterval);\r\n      }\r\n    },\r\n    /**\r\n     * 保存表单数据到浏览器的 localStorage\r\n     */\r\n    saveFormData() {\r\n      const token = this.$store.getters['user/token'];\r\n      localStorage.setItem('formData=' + token, JSON.stringify(this.formData));\r\n      this.$message({\r\n        message: '数据已保存！',\r\n        type: 'success',\r\n        duration: 3000\r\n      });\r\n    },\r\n    /**\r\n     * 加载保存的表单数据\r\n     */\r\n    loadFormData() {\r\n      // 从 localStorage 获取保存的表单数据\r\n      const token = this.$store.getters['user/token'];\r\n      const savedData = localStorage.getItem('formData=' + token);\r\n      if (savedData) {\r\n        this.formData = JSON.parse(savedData);  // 解析并加载数据\r\n      }\r\n    },\r\n    /**\r\n     * 清空内容\r\n     */\r\n    clearData() {\r\n      this.formData = {\r\n        title: '',\r\n        userPrompt: '',\r\n        videoStyle: '',\r\n        videoLength: ''\r\n      }\r\n\r\n      const token = this.$store.getters['user/token'];\r\n      localStorage.removeItem('formData=' + token);\r\n    },\r\n    /**\r\n     * 获取AI分片提示词\r\n     */\r\n    async getVideoPrompt() {\r\n      console.log('getVideoPrompt')\r\n      let param = {\r\n        ...this.formData\r\n      }\r\n\r\n      const resData = await createPrompt(param);\r\n\r\n      console.log('resData=', resData)\r\n\r\n      if (resData.data.code == 200 && resData.data.data && resData.data.data.length > 0) {\r\n\r\n        this.timelineData = resData.data.data\r\n\r\n        this.$message({\r\n          message: '提示词已生成，分片信息已更新！',\r\n          type: 'success',\r\n          duration: 3000\r\n        });\r\n\r\n      } else {\r\n        this.$message({\r\n          message: '提示词生成失败或数据为空。',\r\n          type: 'error',\r\n          duration: 3000\r\n        });\r\n      }\r\n\r\n    },\r\n    /**\r\n    * 复制指定分片的数据到剪贴板\r\n    * @param {Object} item - 分片数据对象\r\n    */\r\n    copySegmentData(item) {\r\n      // 1. 格式化文本\r\n      const copyText = [\r\n        `分片标题：${item.segmentTitle}`,\r\n        `详细的画面描述：${item.segmentDescription}`,\r\n        `关键字：${item.segmentKeywords}`,\r\n        `风格：${item.shardingStyle}`,\r\n        `构图描述：${item.fragmentedComposition}`,\r\n        `光影描述：${item.fragmentedLightAndShadow}`,\r\n        `运镜描述：${item.fragmentedCameraMovement}`,\r\n      ].join('\\n'); // 使用换行符分隔\r\n\r\n      // 2. 复制到剪贴板\r\n      if (navigator.clipboard) {\r\n        navigator.clipboard.writeText(copyText).then(() => {\r\n          // 3. 复制成功提示\r\n          this.$message({\r\n            message: '分片信息已成功复制到剪贴板！',\r\n            type: 'success',\r\n            duration: 2000\r\n          });\r\n        }).catch(err => {\r\n          // 复制失败提示\r\n          this.$message({\r\n            message: `复制失败：${err}`,\r\n            type: 'error',\r\n            duration: 3000\r\n          });\r\n        });\r\n      } else {\r\n        // 兼容性提示（旧版浏览器）\r\n        this.$message({\r\n          message: '您的浏览器不支持 navigator.clipboard，请手动复制。',\r\n          type: 'warning',\r\n          duration: 4000\r\n        });\r\n      }\r\n    },\r\n    /**\r\n     * 将秒数转换为 MM:SS 格式\r\n     * @param {string | number} totalSeconds - 总秒数\r\n     * @returns {string} 格式化后的时间字符串 (MM:SS)\r\n    */\r\n    formatSecondsToTime(totalSeconds) {\r\n      const seconds = parseInt(totalSeconds);\r\n      if (isNaN(seconds) || seconds < 0) {\r\n        return '00:00';\r\n      }\r\n\r\n      const minutes = Math.floor(seconds / 60);\r\n      const remainingSeconds = seconds % 60;\r\n\r\n      // 确保是两位数\r\n      const formattedMinutes = String(minutes).padStart(2, '0');\r\n      const formattedSeconds = String(remainingSeconds).padStart(2, '0');\r\n\r\n      return `${formattedMinutes}:${formattedSeconds}`;\r\n    },\r\n\r\n    /**\r\n     * 根据分片的起始和结束时间，生成时间戳字符串\r\n     * @param {Object} item - 分片数据对象 (包含 beginTime 和 endTime)\r\n     * @returns {string} 格式化的时间范围字符串 (MM:SS - MM:SS)\r\n     */\r\n    getSegmentTimestamp(item) {\r\n      const startTime = this.formatSecondsToTime(item.beginTime || 0);\r\n      const endTime = this.formatSecondsToTime(item.endTime || 0);\r\n      return `${startTime} - ${endTime}`;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.loadFormData()\r\n  },\r\n  beforeDestroy() {\r\n    // 在组件销毁时清除定时任务，避免内存泄漏\r\n    this.stopPollingTask();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n/* ================= 赛博朋克主题变量 ================= */\r\n@bg-dark: #0f1219;\r\n@bg-panel: rgba(26, 31, 44, 0.7);\r\n@primary-color: #00f2ff;\r\n/* Cyber Cyan */\r\n@accent-color: #7d2ae8;\r\n/* Neon Purple */\r\n@text-main: #e2e8f0;\r\n@text-sub: #94a3b8;\r\n@border-color: rgba(255, 255, 255, 0.08);\r\n\r\n/* ================= 全局容器和字体 ================= */\r\n.tech-container {\r\n  background-color: @bg-dark;\r\n  color: @text-main;\r\n  min-height: 100vh;\r\n  padding: 30px;\r\n  font-family: 'Inter', 'Courier New', monospace;\r\n}\r\n\r\n/* ================= 头部样式 ================= */\r\n.header {\r\n  padding-bottom: 20px;\r\n  border-bottom: 1px solid @border-color;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.neon-title {\r\n  color: @primary-color;\r\n  text-shadow: 0 0 15px rgba(0, 242, 255, 0.6);\r\n  font-size: 32px;\r\n  font-weight: 800;\r\n  letter-spacing: 2px;\r\n\r\n  .sub-text {\r\n    font-size: 16px;\r\n    color: @text-sub;\r\n    margin-left: 10px;\r\n    font-weight: normal;\r\n  }\r\n}\r\n\r\n.sub-text {\r\n  color: @text-sub;\r\n  font-size: 14px;\r\n}\r\n\r\n/* ================= 卡片 (el-card) 样式重写 ================= */\r\n.tech-card {\r\n  background: @bg-panel !important;\r\n  backdrop-filter: blur(10px);\r\n  border: 1px solid @border-color;\r\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);\r\n  color: @text-main;\r\n\r\n  ::v-deep .el-card__header {\r\n    border-bottom: 1px solid @border-color;\r\n    padding: 18px 20px;\r\n    color: @text-main;\r\n    font-size: 16px;\r\n  }\r\n\r\n  span {\r\n    font-weight: 600;\r\n    color: @text-main;\r\n    margin-left: 10px;\r\n  }\r\n}\r\n\r\n.tech-icon {\r\n  color: @primary-color !important;\r\n  text-shadow: 0 0 8px rgba(0, 242, 255, 0.4);\r\n  font-size: 20px;\r\n}\r\n\r\n/* ================= 表单 (Form) 样式重写 ================= */\r\n.form-container {\r\n  padding: 10px 0;\r\n}\r\n\r\n::v-deep .el-form-item__label {\r\n  color: @text-sub !important;\r\n  font-size: 13px;\r\n  letter-spacing: 1px;\r\n}\r\n\r\n/* 输入框和文本域 */\r\n.tech-input,\r\n.tech-select {\r\n\r\n  ::v-deep .el-input__inner,\r\n  ::v-deep .el-textarea__inner {\r\n    background-color: rgba(0, 0, 0, 0.3) !important;\r\n    border: 1px solid @border-color !important;\r\n    color: @text-main !important;\r\n    border-radius: 4px;\r\n    transition: all 0.3s;\r\n\r\n    &::placeholder {\r\n      color: rgba(255, 255, 255, 0.3);\r\n    }\r\n\r\n    &:focus {\r\n      border-color: @primary-color !important;\r\n      box-shadow: 0 0 8px rgba(0, 242, 255, 0.4);\r\n    }\r\n  }\r\n}\r\n\r\n/* Select 下拉菜单覆盖 */\r\n::v-deep .el-select-dropdown {\r\n  background-color: @bg-dark !important;\r\n  border: 1px solid @border-color !important;\r\n\r\n  .el-select-dropdown__item {\r\n    color: @text-main;\r\n\r\n    &:hover {\r\n      background-color: rgba(0, 242, 255, 0.1) !important;\r\n      color: @primary-color;\r\n    }\r\n\r\n    &.selected {\r\n      color: @primary-color;\r\n      font-weight: bold;\r\n      background-color: rgba(0, 242, 255, 0.2) !important;\r\n    }\r\n  }\r\n}\r\n\r\n/* ================= 文件上传 (Upload) 样式重写 ================= */\r\n.tech-upload-area {\r\n  width: 100%;\r\n  margin-top: 10px;\r\n\r\n  ::v-deep .el-upload-dragger {\r\n    background: rgba(0, 0, 0, 0.3) !important;\r\n    border: 1px dashed @border-color !important;\r\n    color: @text-sub;\r\n    width: 100%;\r\n    /* 撑满卡片 */\r\n    height: 120px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    transition: all 0.3s;\r\n\r\n    &:hover {\r\n      border-color: @primary-color !important;\r\n      box-shadow: 0 0 10px rgba(0, 242, 255, 0.3);\r\n    }\r\n\r\n    .el-icon-upload {\r\n      color: @primary-color;\r\n      font-size: 40px;\r\n      margin-bottom: 10px;\r\n    }\r\n  }\r\n}\r\n\r\n.neon-text-primary {\r\n  color: @primary-color;\r\n  text-shadow: 0 0 5px rgba(0, 242, 255, 0.3);\r\n}\r\n\r\n.neon-text-accent {\r\n  color: @accent-color;\r\n  text-shadow: 0 0 5px rgba(125, 42, 232, 0.3);\r\n}\r\n\r\n/* ================= 按钮 (Button) 样式重写 ================= */\r\n.tech-button {\r\n  width: 100%;\r\n  margin-top: 10px !important;\r\n  border-radius: 4px;\r\n  transition: all 0.3s;\r\n\r\n  &.primary-btn {\r\n    // 主按钮：霓虹渐变\r\n    background: linear-gradient(90deg, @primary-color, @accent-color) !important;\r\n    border: none !important;\r\n    color: #fff !important;\r\n    box-shadow: 0 0 15px rgba(0, 242, 255, 0.4);\r\n\r\n    &:hover {\r\n      transform: translateY(-2px);\r\n      box-shadow: 0 4px 20px rgba(0, 242, 255, 0.6);\r\n    }\r\n  }\r\n\r\n  &.secondary-btn {\r\n    // 次要按钮：透明边框科技感\r\n    background-color: transparent !important;\r\n    border: 1px solid @border-color !important;\r\n    color: @text-sub !important;\r\n\r\n    &:hover {\r\n      border-color: @accent-color !important;\r\n      color: @accent-color !important;\r\n      background-color: rgba(125, 42, 232, 0.1) !important;\r\n    }\r\n  }\r\n}\r\n\r\n/* ================= 视频预览 (Video Preview) ================= */\r\n.preview-box {\r\n  margin-top: 20px;\r\n  background: #000;\r\n  border: 2px solid @primary-color;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  box-shadow: 0 0 25px rgba(0, 242, 255, 0.4);\r\n  /* 确保视频播放器适应容器 */\r\n  width: 100%;\r\n  aspect-ratio: 16/9;\r\n  /* 保持常见的视频比例 */\r\n}\r\n\r\n.video-player {\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  // 覆盖 video.js 默认样式\r\n  ::v-deep .video-js {\r\n    font-family: 'Courier New', monospace;\r\n  }\r\n\r\n  ::v-deep .vjs-poster {\r\n    background-color: #000;\r\n  }\r\n\r\n  ::v-deep .vjs-control-bar {\r\n    background-color: rgba(0, 0, 0, 0.8) !important;\r\n  }\r\n}\r\n\r\n\r\n/* ================= 时间线 (Timeline) 样式重写 ================= */\r\n.tech-timeline {\r\n  padding: 20px 10px;\r\n\r\n  ::v-deep .el-timeline-item {\r\n    padding-bottom: 25px;\r\n  }\r\n\r\n  // 时间线节点\r\n  ::v-deep .el-timeline-item__node {\r\n    background-color: @primary-color;\r\n    box-shadow: 0 0 8px @primary-color;\r\n    width: 12px;\r\n    height: 12px;\r\n    border: 1px solid @bg-dark;\r\n  }\r\n\r\n  // 时间线连接线\r\n  ::v-deep .el-timeline-item__tail {\r\n    border-left: 1px dashed @border-color;\r\n  }\r\n\r\n  // 时间戳\r\n  ::v-deep .el-timeline-item__timestamp {\r\n    color: @text-sub;\r\n    font-family: 'Consolas', monospace;\r\n    font-size: 12px;\r\n  }\r\n}\r\n\r\n.timeline-card {\r\n  position: relative;\r\n  /* 确保子元素可以相对于它定位 */\r\n  background: rgba(255, 255, 255, 0.05) !important;\r\n  border: 1px solid rgba(255, 255, 255, 0.1) !important;\r\n\r\n  // 复制按钮的样式\r\n  .copy-button {\r\n    position: absolute;\r\n    top: 10px;\r\n    right: 10px;\r\n    color: @accent-color !important;\r\n    /* Neon Purple */\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    z-index: 10;\r\n    padding: 5px 10px;\r\n    border-radius: 4px;\r\n    background-color: rgba(125, 42, 232, 0.1);\r\n    /* 轻微背景色 */\r\n    transition: all 0.2s;\r\n\r\n    &:hover {\r\n      color: @primary-color !important;\r\n      /* 悬停时切换为 Primary Neon Cyan */\r\n      background-color: rgba(0, 242, 255, 0.15);\r\n      text-shadow: 0 0 5px rgba(0, 242, 255, 0.5);\r\n    }\r\n\r\n    i {\r\n      margin-right: 5px;\r\n    }\r\n  }\r\n\r\n  // 核心标题\r\n  .segment-title {\r\n    font-weight: 800;\r\n    font-size: 16px;\r\n    color: @primary-color; // 突出显示标题\r\n    text-shadow: 0 0 5px rgba(0, 242, 255, 0.2);\r\n    display: block;\r\n    margin-bottom: 8px;\r\n    padding-bottom: 5px;\r\n  }\r\n\r\n  // 针对长文本的描述优化\r\n  .segment-description-long {\r\n    color: @text-main;\r\n    font-size: 13px;\r\n    line-height: 1.6; // 增加行高，提升长文本阅读舒适度\r\n    margin: 0 0 15px 0; // 底部留出空间\r\n    // 确保长文本不会溢出（虽然卡片本身会自适应，但防止意外）\r\n    word-break: break-word;\r\n  }\r\n\r\n  // 分隔线，用于区分描述和详细参数\r\n  .segment-detail-divider {\r\n    height: 1px;\r\n    background: linear-gradient(90deg, rgba(0, 242, 255, 0.3), rgba(0, 242, 255, 0), rgba(0, 242, 255, 0.3));\r\n    margin: 10px 0 15px 0;\r\n  }\r\n\r\n  .segment-details-grid {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 1fr); // 两列布局\r\n    gap: 8px 20px; // 行间距和列间距\r\n    padding-top: 5px;\r\n  }\r\n\r\n  // 关键参数使用 Flex 或 Grid 布局\r\n  .segment-param {\r\n    font-size: 12px;\r\n    color: @text-sub; // 参数标签颜色\r\n    margin: 0; // 清除默认边距\r\n\r\n    .param-label {\r\n      font-weight: normal;\r\n      margin-right: 5px;\r\n    }\r\n\r\n    .param-value {\r\n      color: @text-main; // 参数值使用主文本色\r\n      font-weight: bold;\r\n      display: inline;\r\n    }\r\n  }\r\n\r\n  // .segment-segmentKeywords span,\r\n  // .segment-progress span {\r\n  //   font-weight: bold;\r\n  // }\r\n}\r\n\r\n@media (max-width: 1200px) {\r\n  .preview-box {\r\n    aspect-ratio: unset;\r\n    height: 350px;\r\n  }\r\n}\r\n\r\n@media (max-width: 992px) {\r\n  .tech-container {\r\n    padding: 10px;\r\n  }\r\n\r\n  .el-col {\r\n    margin-bottom: 20px;\r\n  }\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}