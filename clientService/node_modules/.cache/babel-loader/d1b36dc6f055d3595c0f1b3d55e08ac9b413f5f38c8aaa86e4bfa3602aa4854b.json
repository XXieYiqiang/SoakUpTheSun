{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Administrator/Desktop/GimChat/gimChatVue/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.array.push.js\");\nvar _index = _interopRequireDefault(require(\"@/router/index.js\"));\nvar _default = exports.default = {\n  name: 'FileDetailInfoDialog',\n  data() {\n    return {\n      visible: false //  对话框是否可见\n    };\n  },\n  computed: {\n    // 左侧菜单选中的文件类型\n    fileType() {\n      return _index.default.currentRoute.query.fileType ? Number(_index.default.currentRoute.query.fileType) : 0;\n    },\n    // 路由名称\n    routeName() {\n      return _index.default.currentRoute.name;\n    }\n  },\n  methods: {\n    /**\r\n     * 查看文件详情对话框 | 对话框关闭的回调\r\n     * @description 关闭对话框\r\n     */\n    handleDialogClose() {\n      this.visible = false;\n      this.$refs.fileInfoForm.resetFields();\n      this.callback('cancel');\n    },\n    /**\r\n     * 路径点击事件\r\n     * @param {object} fileInfo 文件信息\r\n     */\n    handleClickFilePath(fileInfo) {\n      _index.default.push({\n        query: {\n          filePath: fileInfo.filePath,\n          fileType: 0\n        }\n      });\n      this.handleDialogClose();\n    }\n  }\n};","map":{"version":3,"names":["_index","_interopRequireDefault","require","_default","exports","default","name","data","visible","computed","fileType","router","currentRoute","query","Number","routeName","methods","handleDialogClose","$refs","fileInfoForm","resetFields","callback","handleClickFilePath","fileInfo","push","filePath"],"sources":["src/components/file/dialog/showFileDetail/Dialog.vue"],"sourcesContent":["<template>\r\n\t<!-- 查看文件详情对话框 -->\r\n\t<el-dialog\r\n\t\tclass=\"file-info-dialog\"\r\n\t\ttitle=\"文件详情222\"\r\n\t\t:visible.sync=\"visible\"\r\n\t\t:close-on-click-modal=\"false\"\r\n\t\twidth=\"550px\"\r\n\t\t@close=\"handleDialogClose\"\r\n\t>\r\n\t\t<div class=\"file-info-main\">\r\n\t\t\t<!-- 左侧预览区域 -->\r\n\t\t\t<div class=\"file-preview\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tclass=\"file-img\"\r\n\t\t\t\t\t:src=\"$file.setFileImg(fileInfo)\"\r\n\t\t\t\t\t:title=\"`${fileInfo.isDir ? '' : '点击预览'}`\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- 右侧信息区域 -->\r\n\t\t\t<el-form\r\n\t\t\t\tclass=\"file-info-form\"\r\n\t\t\t\t:model=\"fileInfo\"\r\n\t\t\t\tref=\"fileInfoForm\"\r\n\t\t\t\tlabel-width=\"82px\"\r\n\t\t\t\tlabel-position=\"right\"\r\n\t\t\t\tlabel-suffix=\"：\"\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t>\r\n\t\t\t\t<el-form-item label=\"文件名\" prop=\"fileName\">\r\n\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t:value=\"$file.getFileNameComplete(fileInfo)\"\r\n\t\t\t\t\t\treadonly\r\n\t\t\t\t\t></el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item\r\n\t\t\t\t\tclass=\"form-item-path\"\r\n\t\t\t\t\t:label=\"fileType === 6 ? '原路径' : '路径'\"\r\n\t\t\t\t\tprop=\"filePath\"\r\n\t\t\t\t\tv-if=\"![0, 8].includes(fileType)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t:value=\"fileInfo.filePath\"\r\n\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t@click.native=\"handleClickFilePath(fileInfo)\"\r\n\t\t\t\t\t></el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"类型\" prop=\"fileName\">\r\n\t\t\t\t\t<el-input :value=\"$file.getFileType(fileInfo)\" readonly></el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"大小\" prop=\"fileSize\">\r\n\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t:value=\"\r\n\t\t\t\t\t\t\tfileInfo.isDir === 0\r\n\t\t\t\t\t\t\t\t? $file.calculateFileSize(fileInfo.fileSize)\r\n\t\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t\t\"\r\n\t\t\t\t\t\treadonly\r\n\t\t\t\t\t></el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item\r\n\t\t\t\t\tlabel=\"修改日期\"\r\n\t\t\t\t\tprop=\"uploadTime\"\r\n\t\t\t\t\tv-if=\"![7, 8].includes(fileType) && !['Share'].includes(this.routeName)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<el-input :value=\"fileInfo.uploadTime\" readonly></el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"删除日期\" prop=\"deleteTime\" v-if=\"fileType === 6\">\r\n\t\t\t\t\t<el-input :value=\"fileInfo.deleteTime\" readonly></el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"分享类型\" prop=\"shareType\" v-if=\"fileType === 8\">\r\n\t\t\t\t\t<el-input\r\n\t\t\t\t\t\t:value=\"fileInfo.shareType === 1 ? '私密' : '公共'\"\r\n\t\t\t\t\t\treadonly\r\n\t\t\t\t\t></el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"分享时间\" prop=\"shareTime\" v-if=\"fileType === 8\">\r\n\t\t\t\t\t<el-input :value=\"fileInfo.shareTime\" readonly></el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item\r\n\t\t\t\t\tlabel=\"过期时间\"\r\n\t\t\t\t\tprop=\"endTime\"\r\n\t\t\t\t\tv-if=\"fileType === 8\"\r\n\t\t\t\t\tclass=\"form-item-end-time\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<el-input :value=\"fileInfo.endTime\" readonly></el-input>\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tclass=\"status-icon el-icon-warning\"\r\n\t\t\t\t\t\tv-if=\"$file.getFileShareStatus(fileInfo.endTime)\"\r\n\t\t\t\t\t></i>\r\n\t\t\t\t\t<i class=\"status-icon el-icon-time\" v-else></i>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t</div>\r\n\r\n\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t<el-button @click=\"handleDialogClose\">关 闭</el-button>\r\n\t\t</div>\r\n\t</el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport router from '@/router/index.js'\r\n\r\nexport default {\r\n\tname: 'FileDetailInfoDialog',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tvisible: false //  对话框是否可见\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t// 左侧菜单选中的文件类型\r\n\t\tfileType() {\r\n\t\t\treturn router.currentRoute.query.fileType\r\n\t\t\t\t? Number(router.currentRoute.query.fileType)\r\n\t\t\t\t: 0\r\n\t\t},\r\n\t\t// 路由名称\r\n\t\trouteName() {\r\n\t\t\treturn router.currentRoute.name\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t/**\r\n\t\t * 查看文件详情对话框 | 对话框关闭的回调\r\n\t\t * @description 关闭对话框\r\n\t\t */\r\n\t\thandleDialogClose() {\r\n\t\t\tthis.visible = false\r\n\t\t\tthis.$refs.fileInfoForm.resetFields()\r\n\t\t\tthis.callback('cancel')\r\n\t\t},\r\n\t\t/**\r\n\t\t * 路径点击事件\r\n\t\t * @param {object} fileInfo 文件信息\r\n\t\t */\r\n\t\thandleClickFilePath(fileInfo) {\r\n\t\t\trouter.push({\r\n\t\t\t\tquery: { filePath: fileInfo.filePath, fileType: 0 }\r\n\t\t\t})\r\n\t\t\tthis.handleDialogClose()\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n// --- 样式变量定义（替代被弃用的 Stylus 文件） ---\r\n@PrimaryColor: #409eff; // 主题蓝\r\n@Warning: #e6a23c;      // 警告黄\r\n@Success: #67c23a;      // 成功绿\r\n@TextColor: #303133;    // 主要文本色\r\n@SubText: #909399;      // 次级文本色\r\n@BorderColor: #e4e7ed;  // 边框颜色\r\n@BgSoft: #f5f7fa;\r\n\r\n// 外层对话框整体风格\r\n.file-info-dialog {\r\n\t/deep/ .el-dialog {\r\n\t\tborder-radius: 12px;\r\n\t\toverflow: hidden;\r\n\t\tbox-shadow: 0 18px 40px rgba(0, 0, 0, 0.18);\r\n\r\n\t\t.el-dialog__header {\r\n\t\t\tborder-bottom: 1px solid @BorderColor;\r\n\t\t\tpadding: 14px 20px 10px;\r\n\t\t\tbackground: #fafafa;\r\n\r\n\t\t\t.el-dialog__title {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tcolor: @TextColor;\r\n\t\t\t\tfont-size: 16px;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.el-dialog__body {\r\n\t\t\tpadding: 16px 20px 18px;\r\n\t\t\tbackground: #fff;\r\n\t\t}\r\n\t\t.el-dialog__footer {\r\n\t\t\tpadding: 8px 20px 14px;\r\n\t\t\tbackground: #fafafa;\r\n\t\t\tborder-top: 1px solid @BorderColor;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/* 中间主内容：左图右信息 */\r\n.file-info-main {\r\n\tdisplay: flex;\r\n\talign-items: flex-start;\r\n\tcolumn-gap: 20px;\r\n}\r\n\r\n/* 左侧预览 */\r\n.file-preview {\r\n\twidth: 140px;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tpadding: 8px 0;\r\n\r\n\t.file-img {\r\n\t\tdisplay: block;\r\n\t\tmax-width: 120px;\r\n\t\tmax-height: 120px;\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t\tborder-radius: 10px;\r\n\t\tbackground: @BgSoft;\r\n\t\tbox-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);\r\n\t\tcursor: pointer;\r\n\t\ttransition: transform 0.25s ease, box-shadow 0.25s ease;\r\n\r\n\t\t&:hover {\r\n\t\t\ttransform: translateY(-2px) scale(1.02);\r\n\t\t\tbox-shadow: 0 10px 26px rgba(0, 0, 0, 0.12);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/* 右侧表单区 */\r\n.file-info-form {\r\n\tflex: 1;\r\n\tbackground: #fff;\r\n\tborder-radius: 8px;\r\n\tpadding: 4px 4px 0;\r\n\tbox-sizing: border-box;\r\n\r\n\t/deep/ .el-form-item {\r\n\t\tmargin-bottom: 10px;\r\n\r\n\t\t.el-form-item__label {\r\n\t\t\tcolor: @SubText;\r\n\t\t\tfont-weight: normal;\r\n\t\t\tpadding-right: 8px;\r\n\t\t}\r\n\r\n\t\t.el-form-item__content {\r\n\t\t\tline-height: 22px;\r\n\t\t}\r\n\r\n\t\t.el-input,\r\n\t\t.el-input__inner {\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\r\n\t\t.el-input__inner {\r\n\t\t\tborder: none;\r\n\t\t\tborder-radius: 0;\r\n\t\t\tpadding: 0;\r\n\t\t\theight: 22px;\r\n\t\t\tline-height: 22px;\r\n\t\t\tcolor: @TextColor;\r\n\t\t\tfont-size: 14px;\r\n\t\t\tbackground-color: transparent;\r\n\t\t\tbox-shadow: none;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 路径项：可点击，带主题色提示 */\r\n\t/deep/ .form-item-path {\r\n\t\t.el-input {\r\n\t\t\tcursor: pointer;\r\n\t\t}\r\n\t\t.el-input__inner {\r\n\t\t\tcolor: @PrimaryColor;\r\n\t\t\ttext-decoration: underline;\r\n\t\t\ttransition: color 0.2s ease;\r\n\r\n\t\t\t&:hover {\r\n\t\t\t\tcolor: lighten(@PrimaryColor, 8%);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 过期时间项：图标和状态色 */\r\n\t/deep/ .form-item-end-time {\r\n\t\t.el-form-item__content {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.el-input {\r\n\t\t\t\twidth: 150px;\r\n\r\n\t\t\t\t.el-input__inner {\r\n\t\t\t\t\tpadding-right: 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.status-icon {\r\n\t\t\t\tmargin-left: 8px;\r\n\t\t\t\tfont-size: 16px;\r\n\r\n\t\t\t\t&.el-icon-warning {\r\n\t\t\t\t\tcolor: @Warning;\r\n\t\t\t\t}\r\n\t\t\t\t&.el-icon-time {\r\n\t\t\t\t\tcolor: @Success;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/* 底部按钮区 */\r\n.dialog-footer {\r\n\ttext-align: right;\r\n\r\n\t.el-button {\r\n\t\tmin-width: 80px;\r\n\r\n\t\t&:hover {\r\n\t\t\tcolor: @PrimaryColor;\r\n\t\t\tborder-color: lighten(@PrimaryColor, 10%);\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n"],"mappings":";;;;;;;;AA+GA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,OAAA;IACA;EACA;EACAC,QAAA;IACA;IACAC,SAAA;MACA,OAAAC,cAAA,CAAAC,YAAA,CAAAC,KAAA,CAAAH,QAAA,GACAI,MAAA,CAAAH,cAAA,CAAAC,YAAA,CAAAC,KAAA,CAAAH,QAAA,IACA;IACA;IACA;IACAK,UAAA;MACA,OAAAJ,cAAA,CAAAC,YAAA,CAAAN,IAAA;IACA;EACA;EACAU,OAAA;IACA;AACA;AACA;AACA;IACAC,kBAAA;MACA,KAAAT,OAAA;MACA,KAAAU,KAAA,CAAAC,YAAA,CAAAC,WAAA;MACA,KAAAC,QAAA;IACA;IACA;AACA;AACA;AACA;IACAC,oBAAAC,QAAA;MACAZ,cAAA,CAAAa,IAAA;QACAX,KAAA;UAAAY,QAAA,EAAAF,QAAA,CAAAE,QAAA;UAAAf,QAAA;QAAA;MACA;MACA,KAAAO,iBAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}