{"ast":null,"code":"import Vue from 'vue';\nimport UploadFile from './Box.vue';\nconst UploadFileConstructor = Vue.extend(UploadFile);\nlet uploadFileInstance = null;\nconst showUploadFileBox = ({\n  params = {},\n  uploadWay = 0,\n  serviceEl = null,\n  callType = ''\n}) => {\n  return new Promise(resolve => {\n    // 1. 每次都创建新实例（避免复用导致 Promise 不生效）\n    const instance = new UploadFileConstructor({\n      el: document.createElement('div')\n    });\n\n    // 2. 设置属性\n    instance.params = params;\n    instance.uploadWay = uploadWay;\n    instance.serviceEl = serviceEl;\n    instance.callType = callType;\n\n    // 3. 设置回调\n    instance.callback = res => {\n      resolve(res);\n      document.body.removeChild(instance.$el);\n      instance.$destroy();\n      uploadFileInstance = null; // 清空引用\n    };\n\n    // 4. 渲染挂载\n    document.body.appendChild(instance.$el);\n\n    // 存一份引用（可选）\n    uploadFileInstance = instance;\n  });\n};\nexport default showUploadFileBox;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}