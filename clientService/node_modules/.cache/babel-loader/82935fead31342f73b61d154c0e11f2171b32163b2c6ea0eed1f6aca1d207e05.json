{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Administrator/Desktop/GimChat/gimChatVue/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.iterator.constructor.js\");\nrequire(\"core-js/modules/es.iterator.for-each.js\");\nvar _marked = require(\"marked\");\nvar _highlight = _interopRequireDefault(require(\"highlight.js\"));\nrequire(\"highlight.js/styles/github.css\");\n// 1. å¯¼å…¥æ ¸å¿ƒåº“\n// 2. å¯¼å…¥é«˜äº®ä¸»é¢˜æ ·å¼ (å¯é€‰ï¼Œä½†æ¨èç”¨äºä»£ç å—)\nvar _default = exports.default = {\n  name: 'FullScreenMarkdownViewer',\n  data() {\n    return {\n      showModal: false,\n      // å­˜å‚¨å½“å‰æ˜¾ç¤ºçš„ Markdown å†…å®¹\n      markdownInput: `# æ¬¢è¿ä½¿ç”¨å…¨å± Markdown å±•ç¤ºå™¨\n\nè¿™æ˜¯ä¸€ä¸ªä»¥**å†…å®¹å±•ç¤ºä¼˜å…ˆ**çš„å¸ƒå±€ã€‚æ‚¨çœ‹åˆ°çš„æ˜¯æ¸²æŸ“åçš„æœ€ç»ˆæ•ˆæœã€‚\n\n## å¦‚ä½•ç¼–è¾‘ï¼Ÿ\n\nç‚¹å‡»å³ä¸‹è§’çš„ **[ğŸ“ ç¼–è¾‘å†…å®¹]** æŒ‰é’®ï¼Œä¼šå¼¹å‡ºå…¨å±ç¼–è¾‘å¼¹æ¡†ã€‚\n\n### ä»£ç é«˜äº®ç¤ºä¾‹\n\\`\\`\\`python\ndef factorial(n):\n    if n == 0:\n        return 1\n    else:\n        return n * factorial(n - 1)\n\nprint(factorial(5))\n\\`\\`\\`\n\n---\n## ä¼˜åŠ¿\n\n1. **ä¸“æ³¨é˜…è¯»**ï¼šä¸»ç•Œé¢æ— å¹²æ‰°ï¼Œä¸“æ³¨äºæœ€ç»ˆæ¸²æŸ“æ•ˆæœã€‚\n2. **ç§»åŠ¨å‹å¥½**ï¼šåœ¨å°å±å¹•ä¸Šæ›´æ˜“äºæ“ä½œï¼Œé¿å…å·¦å³åˆ†æ æ‹¥æŒ¤ã€‚\n`,\n      // ä¸´æ—¶å­˜å‚¨ç¼–è¾‘ä¸­çš„å†…å®¹ï¼Œç”¨äºå®ç°â€œå–æ¶ˆâ€åŠŸèƒ½\n      tempMarkdownInput: ''\n    };\n  },\n  computed: {\n    renderedHtml() {\n      // æ ¸å¿ƒï¼šè®¡ç®—å±æ€§å®æ—¶å°† Markdown è½¬æ¢ä¸º HTML\n      return _marked.marked.parse(this.markdownInput);\n    }\n  },\n  watch: {\n    // ç›‘å¬æ¸²æŸ“åçš„ HTML å˜åŒ–\n    renderedHtml() {\n      // åœ¨ DOM æ›´æ–°åæ‰§è¡Œä»£ç é«˜äº®\n      this.$nextTick(() => {\n        this.highlightCode();\n      });\n    }\n  },\n  mounted() {\n    // é¦–æ¬¡åŠ è½½æ—¶é…ç½® marked çš„è§£æè§„åˆ™\n    this.setupMarked();\n    // åˆå§‹åŒ–ä¸´æ—¶ç¼–è¾‘åŒºå†…å®¹\n    this.tempMarkdownInput = this.markdownInput;\n  },\n  methods: {\n    setupMarked() {\n      _marked.marked.setOptions({\n        gfm: true,\n        breaks: true,\n        highlight: (code, lang) => {\n          const language = _highlight.default.getLanguage(lang) ? lang : 'plaintext';\n          try {\n            return _highlight.default.highlight(code, {\n              language\n            }).value;\n          } catch (error) {\n            return code;\n          }\n        }\n      });\n      // é¦–æ¬¡åŠ è½½æ—¶å¯¹åˆå§‹å†…å®¹è¿›è¡Œé«˜äº®\n      this.highlightCode();\n    },\n    highlightCode() {\n      // ç¡®ä¿æ¸²æŸ“åŒºåŸŸä¸­çš„ä»£ç å—è¢«é«˜äº®\n      const blocks = this.$el.querySelectorAll('.content-display-area pre code');\n      blocks.forEach(block => {\n        if (!block.classList.contains('hljs')) {\n          _highlight.default.highlightElement(block);\n        }\n      });\n    },\n    saveContent() {\n      // å°†ä¸´æ—¶ç¼–è¾‘åŒºçš„å†…å®¹ä¿å­˜åˆ°ä¸»æ•°æ®\n      this.markdownInput = this.tempMarkdownInput;\n      this.showModal = false;\n    },\n    cancelEdit() {\n      // å–æ¶ˆï¼šå°†ä¸´æ—¶ç¼–è¾‘åŒºçš„å†…å®¹æ¢å¤ä¸ºå½“å‰æ˜¾ç¤ºçš„å†…å®¹\n      this.tempMarkdownInput = this.markdownInput;\n      this.showModal = false;\n    }\n  }\n};","map":{"version":3,"names":["_marked","require","_highlight","_interopRequireDefault","_default","exports","default","name","data","showModal","markdownInput","tempMarkdownInput","computed","renderedHtml","marked","parse","watch","$nextTick","highlightCode","mounted","setupMarked","methods","setOptions","gfm","breaks","highlight","code","lang","language","hljs","getLanguage","value","error","blocks","$el","querySelectorAll","forEach","block","classList","contains","highlightElement","saveContent","cancelEdit"],"sources":["src/views/utils/EditText.vue"],"sourcesContent":["<template>\r\n  <div class=\"markdown-full-screen-container\">\r\n    \r\n    <div class=\"content-display-area\">\r\n      <button @click=\"showModal = true\" class=\"edit-fab\">\r\n        ğŸ“ ç¼–è¾‘å†…å®¹\r\n      </button>\r\n\r\n      <div v-html=\"renderedHtml\" class=\"markdown-body\"></div>\r\n    </div>\r\n\r\n    <div v-if=\"showModal\" class=\"modal-overlay\">\r\n      <div class=\"modal-dialog\">\r\n        <header class=\"modal-header\">\r\n          <h3>ç¼–è¾‘ Markdown æºç </h3>\r\n          <button @click=\"showModal = false\" class=\"close-button\">&times;</button>\r\n        </header>\r\n        \r\n        <div class=\"modal-body\">\r\n          <textarea \r\n            v-model=\"tempMarkdownInput\" \r\n            placeholder=\"åœ¨æ­¤è¾“å…¥ Markdown æºç ...\"\r\n            spellcheck=\"false\"\r\n          ></textarea>\r\n        </div>\r\n        \r\n        <footer class=\"modal-footer\">\r\n          <button @click=\"saveContent\" class=\"btn-primary\">ä¿å­˜å¹¶å…³é—­</button>\r\n          <button @click=\"cancelEdit\" class=\"btn-secondary\">å–æ¶ˆ</button>\r\n        </footer>\r\n      </div>\r\n    </div>\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 1. å¯¼å…¥æ ¸å¿ƒåº“\r\nimport { marked } from 'marked';\r\nimport hljs from 'highlight.js';\r\n// 2. å¯¼å…¥é«˜äº®ä¸»é¢˜æ ·å¼ (å¯é€‰ï¼Œä½†æ¨èç”¨äºä»£ç å—)\r\nimport 'highlight.js/styles/github.css'; \r\n\r\nexport default {\r\n  name: 'FullScreenMarkdownViewer',\r\n  data() {\r\n    return {\r\n      showModal: false,\r\n      // å­˜å‚¨å½“å‰æ˜¾ç¤ºçš„ Markdown å†…å®¹\r\n      markdownInput: \r\n`# æ¬¢è¿ä½¿ç”¨å…¨å± Markdown å±•ç¤ºå™¨\r\n\r\nè¿™æ˜¯ä¸€ä¸ªä»¥**å†…å®¹å±•ç¤ºä¼˜å…ˆ**çš„å¸ƒå±€ã€‚æ‚¨çœ‹åˆ°çš„æ˜¯æ¸²æŸ“åçš„æœ€ç»ˆæ•ˆæœã€‚\r\n\r\n## å¦‚ä½•ç¼–è¾‘ï¼Ÿ\r\n\r\nç‚¹å‡»å³ä¸‹è§’çš„ **[ğŸ“ ç¼–è¾‘å†…å®¹]** æŒ‰é’®ï¼Œä¼šå¼¹å‡ºå…¨å±ç¼–è¾‘å¼¹æ¡†ã€‚\r\n\r\n### ä»£ç é«˜äº®ç¤ºä¾‹\r\n\\`\\`\\`python\r\ndef factorial(n):\r\n    if n == 0:\r\n        return 1\r\n    else:\r\n        return n * factorial(n - 1)\r\n\r\nprint(factorial(5))\r\n\\`\\`\\`\r\n\r\n---\r\n## ä¼˜åŠ¿\r\n\r\n1. **ä¸“æ³¨é˜…è¯»**ï¼šä¸»ç•Œé¢æ— å¹²æ‰°ï¼Œä¸“æ³¨äºæœ€ç»ˆæ¸²æŸ“æ•ˆæœã€‚\r\n2. **ç§»åŠ¨å‹å¥½**ï¼šåœ¨å°å±å¹•ä¸Šæ›´æ˜“äºæ“ä½œï¼Œé¿å…å·¦å³åˆ†æ æ‹¥æŒ¤ã€‚\r\n`,\r\n      // ä¸´æ—¶å­˜å‚¨ç¼–è¾‘ä¸­çš„å†…å®¹ï¼Œç”¨äºå®ç°â€œå–æ¶ˆâ€åŠŸèƒ½\r\n      tempMarkdownInput: '', \r\n    };\r\n  },\r\n  computed: {\r\n    renderedHtml() {\r\n      // æ ¸å¿ƒï¼šè®¡ç®—å±æ€§å®æ—¶å°† Markdown è½¬æ¢ä¸º HTML\r\n      return marked.parse(this.markdownInput);\r\n    }\r\n  },\r\n  watch: {\r\n    // ç›‘å¬æ¸²æŸ“åçš„ HTML å˜åŒ–\r\n    renderedHtml() {\r\n      // åœ¨ DOM æ›´æ–°åæ‰§è¡Œä»£ç é«˜äº®\r\n      this.$nextTick(() => {\r\n        this.highlightCode();\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    // é¦–æ¬¡åŠ è½½æ—¶é…ç½® marked çš„è§£æè§„åˆ™\r\n    this.setupMarked();\r\n    // åˆå§‹åŒ–ä¸´æ—¶ç¼–è¾‘åŒºå†…å®¹\r\n    this.tempMarkdownInput = this.markdownInput;\r\n  },\r\n  methods: {\r\n    setupMarked() {\r\n      marked.setOptions({\r\n        gfm: true,\r\n        breaks: true,\r\n        highlight: (code, lang) => {\r\n          const language = hljs.getLanguage(lang) ? lang : 'plaintext';\r\n          try {\r\n            return hljs.highlight(code, { language }).value;\r\n          } catch (error) {\r\n            return code;\r\n          }\r\n        }\r\n      });\r\n      // é¦–æ¬¡åŠ è½½æ—¶å¯¹åˆå§‹å†…å®¹è¿›è¡Œé«˜äº®\r\n      this.highlightCode();\r\n    },\r\n    \r\n    highlightCode() {\r\n      // ç¡®ä¿æ¸²æŸ“åŒºåŸŸä¸­çš„ä»£ç å—è¢«é«˜äº®\r\n      const blocks = this.$el.querySelectorAll('.content-display-area pre code');\r\n      blocks.forEach((block) => {\r\n        if (!block.classList.contains('hljs')) {\r\n           hljs.highlightElement(block);\r\n        }\r\n      });\r\n    },\r\n\r\n    saveContent() {\r\n      // å°†ä¸´æ—¶ç¼–è¾‘åŒºçš„å†…å®¹ä¿å­˜åˆ°ä¸»æ•°æ®\r\n      this.markdownInput = this.tempMarkdownInput;\r\n      this.showModal = false;\r\n    },\r\n\r\n    cancelEdit() {\r\n      // å–æ¶ˆï¼šå°†ä¸´æ—¶ç¼–è¾‘åŒºçš„å†…å®¹æ¢å¤ä¸ºå½“å‰æ˜¾ç¤ºçš„å†…å®¹\r\n      this.tempMarkdownInput = this.markdownInput;\r\n      this.showModal = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* ------------------------------------- */\r\n/* 1. ä¸»å†…å®¹å±•ç¤ºåŒºåŸŸ (Full Screen View) */\r\n/* ------------------------------------- */\r\n.markdown-full-screen-container {\r\n  width: 100vw;\r\n  min-height: 100vh;\r\n  padding: 0;\r\n  margin: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.content-display-area {\r\n  padding: 50px 10%; /* ç•™å‡ºè¾¹è·ï¼Œè®©å†…å®¹å±…ä¸­èˆ’é€‚ */\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n  position: relative; /* ç”¨äºå®šä½FABæŒ‰é’® */\r\n  min-height: 100vh;\r\n}\r\n\r\n/* ç¼–è¾‘æŒ‰é’® (Floating Action Button style) */\r\n.edit-fab {\r\n  position: fixed;\r\n  bottom: 30px;\r\n  right: 30px;\r\n  background-color: #007bff;\r\n  color: white;\r\n  border: none;\r\n  padding: 10px 20px;\r\n  border-radius: 50px;\r\n  cursor: pointer;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n  font-size: 16px;\r\n  z-index: 100;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.edit-fab:hover {\r\n  background-color: #0056b3;\r\n}\r\n\r\n\r\n/* ------------------------------------- */\r\n/* 2. å¼¹æ¡†/æ¨¡æ€æ¡† (Modal/Dialog) æ ·å¼ */\r\n/* ------------------------------------- */\r\n\r\n/* é®ç½©å±‚ */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.7); /* 70% é€æ˜åº¦é»‘è‰²èƒŒæ™¯ */\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n/* å¼¹æ¡†ä¸»ä½“ */\r\n.modal-dialog {\r\n  background: white;\r\n  width: 90%;\r\n  height: 90%;\r\n  max-width: 1200px;\r\n  max-height: 800px;\r\n  border-radius: 8px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n}\r\n\r\n.modal-header {\r\n  padding: 15px 20px;\r\n  border-bottom: 1px solid #eee;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.close-button {\r\n  background: none;\r\n  border: none;\r\n  font-size: 24px;\r\n  cursor: pointer;\r\n  color: #666;\r\n}\r\n\r\n.modal-body {\r\n  flex-grow: 1; /* å æ®å‰©ä½™ç©ºé—´ */\r\n  padding: 20px;\r\n}\r\n\r\n.modal-body textarea {\r\n  width: 100%;\r\n  height: 100%;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  resize: none;\r\n  padding: 10px;\r\n  box-sizing: border-box;\r\n  font-family: 'Consolas', 'Courier New', monospace;\r\n  font-size: 14px;\r\n  line-height: 1.6;\r\n}\r\n\r\n.modal-footer {\r\n  padding: 15px 20px;\r\n  border-top: 1px solid #eee;\r\n  text-align: right;\r\n}\r\n\r\n.btn-primary, .btn-secondary {\r\n  padding: 8px 15px;\r\n  margin-left: 10px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n}\r\n\r\n.btn-primary {\r\n  background-color: #28a745;\r\n  color: white;\r\n}\r\n\r\n.btn-secondary {\r\n  background-color: #6c757d;\r\n  color: white;\r\n}\r\n\r\n\r\n/* ------------------------------------- */\r\n/* 3. Markdown å†…å®¹æ¸²æŸ“æ ·å¼ (ä¸ä¹‹å‰ç›¸åŒ) */\r\n/* ------------------------------------- */\r\n\r\n.markdown-body {\r\n  line-height: 1.7;\r\n  color: #333;\r\n}\r\n\r\n.markdown-body h1, .markdown-body h2 { border-bottom: 1px solid #eee; padding-bottom: 0.3em; margin-top: 1.5em; }\r\n.markdown-body ul, .markdown-body ol { padding-left: 2em; }\r\n\r\n.markdown-body blockquote {\r\n  margin: 1em 0;\r\n  padding: 0 1em;\r\n  color: #6a737d;\r\n  border-left: 0.25em solid #dfe2e5;\r\n}\r\n\r\n.markdown-body pre {\r\n  background-color: #f6f8fa;\r\n  padding: 16px;\r\n  overflow: auto;\r\n  line-height: 1.45;\r\n  border-radius: 6px;\r\n  margin: 1em 0;\r\n}\r\n\r\n.markdown-body code {\r\n  padding: 0.2em 0.4em;\r\n  margin: 0;\r\n  font-size: 85%;\r\n  background-color: rgba(27,31,35,.05);\r\n  border-radius: 6px;\r\n  font-family: 'Consolas', 'Courier New', monospace;\r\n}\r\n\r\n.markdown-body pre code {\r\n  background-color: transparent;\r\n  padding: 0;\r\n}\r\n</style>"],"mappings":";;;;;;;;;AAsCA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAAC,UAAA,GAAAC,sBAAA,CAAAF,OAAA;AAEAA,OAAA;AAJA;AAGA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAGA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,SAAA;MACA;MACAC,aAAA,EACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;MACA;MACAC,iBAAA;IACA;EACA;EACAC,QAAA;IACAC,aAAA;MACA;MACA,OAAAC,cAAA,CAAAC,KAAA,MAAAL,aAAA;IACA;EACA;EACAM,KAAA;IACA;IACAH,aAAA;MACA;MACA,KAAAI,SAAA;QACA,KAAAC,aAAA;MACA;IACA;EACA;EACAC,QAAA;IACA;IACA,KAAAC,WAAA;IACA;IACA,KAAAT,iBAAA,QAAAD,aAAA;EACA;EACAW,OAAA;IACAD,YAAA;MACAN,cAAA,CAAAQ,UAAA;QACAC,GAAA;QACAC,MAAA;QACAC,SAAA,EAAAA,CAAAC,IAAA,EAAAC,IAAA;UACA,MAAAC,QAAA,GAAAC,kBAAA,CAAAC,WAAA,CAAAH,IAAA,IAAAA,IAAA;UACA;YACA,OAAAE,kBAAA,CAAAJ,SAAA,CAAAC,IAAA;cAAAE;YAAA,GAAAG,KAAA;UACA,SAAAC,KAAA;YACA,OAAAN,IAAA;UACA;QACA;MACA;MACA;MACA,KAAAR,aAAA;IACA;IAEAA,cAAA;MACA;MACA,MAAAe,MAAA,QAAAC,GAAA,CAAAC,gBAAA;MACAF,MAAA,CAAAG,OAAA,CAAAC,KAAA;QACA,KAAAA,KAAA,CAAAC,SAAA,CAAAC,QAAA;UACAV,kBAAA,CAAAW,gBAAA,CAAAH,KAAA;QACA;MACA;IACA;IAEAI,YAAA;MACA;MACA,KAAA/B,aAAA,QAAAC,iBAAA;MACA,KAAAF,SAAA;IACA;IAEAiC,WAAA;MACA;MACA,KAAA/B,iBAAA,QAAAD,aAAA;MACA,KAAAD,SAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}