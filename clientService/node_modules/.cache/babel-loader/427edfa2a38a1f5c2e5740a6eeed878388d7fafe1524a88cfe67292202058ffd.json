{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Administrator/Desktop/GimChat/gimChatVue/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.array.push.js\");\nvar _index = _interopRequireDefault(require(\"@/router/index.js\"));\nvar _default = exports.default = {\n  name: 'FileDetailInfoDialog',\n  data() {\n    return {\n      visible: false //  对话框是否可见\n    };\n  },\n  computed: {\n    // 左侧菜单选中的文件类型\n    fileType() {\n      return _index.default.currentRoute.query.fileType ? Number(_index.default.currentRoute.query.fileType) : 0;\n    },\n    // 路由名称\n    routeName() {\n      return _index.default.currentRoute.name;\n    }\n  },\n  methods: {\n    /**\r\n     * 查看文件详情对话框 | 对话框关闭的回调\r\n     * @description 关闭对话框\r\n     */\n    handleDialogClose() {\n      this.visible = false;\n      this.$refs.fileInfoForm.resetFields();\n      this.callback('cancel');\n    },\n    /**\r\n     * 路径点击事件\r\n     * @param {object} fileInfo 文件信息\r\n     */\n    handleClickFilePath(fileInfo) {\n      _index.default.push({\n        query: {\n          filePath: fileInfo.filePath,\n          fileType: 0\n        }\n      });\n      this.handleDialogClose();\n    }\n  }\n};","map":{"version":3,"names":["_index","_interopRequireDefault","require","_default","exports","default","name","data","visible","computed","fileType","router","currentRoute","query","Number","routeName","methods","handleDialogClose","$refs","fileInfoForm","resetFields","callback","handleClickFilePath","fileInfo","push","filePath"],"sources":["src/components/file/dialog/showFileDetail/Dialog.vue"],"sourcesContent":["<template>\r\n\t<!-- 查看文件详情对话框 -->\r\n\t<el-dialog\r\n\t\tclass=\"file-info-dialog\"\r\n\t\ttitle=\"文件详情222\"\r\n\t\t:visible.sync=\"visible\"\r\n\t\t:close-on-click-modal=\"false\"\r\n\t\twidth=\"550px\"\r\n\t\t@close=\"handleDialogClose\"\r\n\t>\r\n\t\t<img\r\n\t\t\tclass=\"file-img\"\r\n\t\t\t:src=\"$file.setFileImg(fileInfo)\"\r\n\t\t\t:title=\"`${fileInfo.isDir ? '' : '点击预览'}`\"\r\n\t\t/>\r\n\t\t<el-form\r\n\t\t\tclass=\"file-info-form\"\r\n\t\t\t:model=\"fileInfo\"\r\n\t\t\tref=\"fileInfoForm\"\r\n\t\t\tlabel-width=\"82px\"\r\n\t\t\tlabel-position=\"right\"\r\n\t\t\tlabel-suffix=\"：\"\r\n\t\t\tsize=\"small\"\r\n\t\t>\r\n\t\t\t<el-form-item label=\"文件名\" prop=\"fileName\">\r\n\t\t\t\t<el-input\r\n\t\t\t\t\t:value=\"$file.getFileNameComplete(fileInfo)\"\r\n\t\t\t\t\treadonly\r\n\t\t\t\t></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item\r\n\t\t\t\t:label=\"fileType === 6 ? '原路径' : '路径'\"\r\n\t\t\t\tprop=\"filePath\"\r\n\t\t\t\tv-if=\"![0, 8].includes(fileType)\"\r\n\t\t\t>\r\n\t\t\t\t<el-input\r\n\t\t\t\t\t:value=\"fileInfo.filePath\"\r\n\t\t\t\t\treadonly\r\n\t\t\t\t\t@click.native=\"handleClickFilePath(fileInfo)\"\r\n\t\t\t\t></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"类型\" prop=\"fileName\">\r\n\t\t\t\t<el-input :value=\"$file.getFileType(fileInfo)\" readonly></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"大小\" prop=\"fileSize\">\r\n\t\t\t\t<el-input\r\n\t\t\t\t\t:value=\"\r\n\t\t\t\t\t\tfileInfo.isDir === 0\r\n\t\t\t\t\t\t\t? $file.calculateFileSize(fileInfo.fileSize)\r\n\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t\"\r\n\t\t\t\t\treadonly\r\n\t\t\t\t></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item\r\n\t\t\t\tlabel=\"修改日期\"\r\n\t\t\t\tprop=\"uploadTime\"\r\n\t\t\t\tv-if=\"![7, 8].includes(fileType) && !['Share'].includes(this.routeName)\"\r\n\t\t\t>\r\n\t\t\t\t<el-input :value=\"fileInfo.uploadTime\" readonly></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"删除日期\" prop=\"deleteTime\" v-if=\"fileType === 6\">\r\n\t\t\t\t<el-input :value=\"fileInfo.deleteTime\" readonly></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"分享类型\" prop=\"shareType\" v-if=\"fileType === 8\">\r\n\t\t\t\t<el-input\r\n\t\t\t\t\t:value=\"fileInfo.shareType === 1 ? '私密' : '公共'\"\r\n\t\t\t\t\treadonly\r\n\t\t\t\t></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"分享时间\" prop=\"shareTime\" v-if=\"fileType === 8\">\r\n\t\t\t\t<el-input :value=\"fileInfo.shareTime\" readonly></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item\r\n\t\t\t\tlabel=\"过期时间\"\r\n\t\t\t\tprop=\"endTime\"\r\n\t\t\t\tv-if=\"fileType === 8\"\r\n\t\t\t\tclass=\"form-item-end-time\"\r\n\t\t\t>\r\n\t\t\t\t<el-input :value=\"fileInfo.endTime\" readonly></el-input>\r\n\t\t\t\t<i\r\n\t\t\t\t\tclass=\"status-icon el-icon-warning\"\r\n\t\t\t\t\tv-if=\"$file.getFileShareStatus(fileInfo.endTime)\"\r\n\t\t\t\t></i>\r\n\t\t\t\t<i class=\"status-icon el-icon-time\" v-else></i>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t<el-button @click=\"handleDialogClose\">关 闭</el-button>\r\n\t\t</div>\r\n\t</el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport router from '@/router/index.js'\r\n\r\nexport default {\r\n\tname: 'FileDetailInfoDialog',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tvisible: false //  对话框是否可见\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t// 左侧菜单选中的文件类型\r\n\t\tfileType() {\r\n\t\t\treturn router.currentRoute.query.fileType\r\n\t\t\t\t? Number(router.currentRoute.query.fileType)\r\n\t\t\t\t: 0\r\n\t\t},\r\n\t\t// 路由名称\r\n\t\trouteName() {\r\n\t\t\treturn router.currentRoute.name\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t/**\r\n\t\t * 查看文件详情对话框 | 对话框关闭的回调\r\n\t\t * @description 关闭对话框\r\n\t\t */\r\n\t\thandleDialogClose() {\r\n\t\t\tthis.visible = false\r\n\t\t\tthis.$refs.fileInfoForm.resetFields()\r\n\t\t\tthis.callback('cancel')\r\n\t\t},\r\n\t\t/**\r\n\t\t * 路径点击事件\r\n\t\t * @param {object} fileInfo 文件信息\r\n\t\t */\r\n\t\thandleClickFilePath(fileInfo) {\r\n\t\t\trouter.push({\r\n\t\t\t\tquery: { filePath: fileInfo.filePath, fileType: 0 }\r\n\t\t\t})\r\n\t\t\tthis.handleDialogClose()\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n// --- 样式变量定义（替代被弃用的 Stylus 文件） ---\r\n@PrimaryColor: #409EFF; // 主题蓝\r\n@Warning: #E6A23C;      // 警告黄\r\n@Success: #67C23A;      // 成功绿\r\n@TextColor: #303133;    // 主要文本色\r\n@BorderColor: #DCDFE6;  // 边框颜色\r\n\r\n// --- 对话框主体和图片样式 ---\r\n.file-info-dialog {\r\n    /deep/ .el-dialog {\r\n        border-radius: 8px;\r\n        .el-dialog__header {\r\n            border-bottom: 1px solid @BorderColor;\r\n            padding: 15px 20px 10px;\r\n            .el-dialog__title {\r\n                font-weight: 600;\r\n                color: @TextColor;\r\n            }\r\n        }\r\n        .el-dialog__body {\r\n            padding: 20px 30px;\r\n        }\r\n    }\r\n}\r\n\r\n.file-img {\r\n    display: block;\r\n    margin: 0 auto 16px auto; // 增加底部间距\r\n    max-width: 120px;\r\n    width: 40%;\r\n    height: auto;\r\n    cursor: pointer; // 提示可点击预览\r\n    transition: transform 0.3s;\r\n    &:hover {\r\n        transform: scale(1.05);\r\n    }\r\n}\r\n\r\n// --- 表单样式优化 ---\r\n/deep/ .el-form.file-info-form {\r\n    padding: 0 20px; // 表单内边距，使内容更居中\r\n    .el-form-item {\r\n        margin-bottom: 12px; // 缩小表单项间距\r\n        \r\n        .el-form-item__label {\r\n            color: #909399; // 标签使用辅助文本色\r\n            font-weight: normal;\r\n        }\r\n\r\n        .el-form-item__content {\r\n            // 确保输入框内容对齐\r\n            line-height: 20px; \r\n        }\r\n\r\n        .el-input__inner {\r\n            border: none;\r\n            padding: 0;\r\n            height: 20px; // 适应紧凑布局\r\n            line-height: 20px;\r\n            color: @TextColor;\r\n            font-size: 14px;\r\n            background-color: transparent; // 背景透明\r\n        }\r\n        \r\n        // 路径输入框样式美化，提示可点击\r\n        .el-form-item:nth-child(2) .el-input {\r\n            cursor: pointer;\r\n            .el-input__inner {\r\n                color: @PrimaryColor; // 路径文本使用主题色\r\n                text-decoration: underline; // 添加下划线\r\n                &:hover {\r\n                    color: lighten(@PrimaryColor, 10%);\r\n                }\r\n            }\r\n        }\r\n\r\n        // 分享过期时间特殊样式\r\n        &.form-item-end-time {\r\n            .el-form-item__content {\r\n                display: flex;\r\n                align-items: center;\r\n                \r\n                .el-input {\r\n                    // 保持输入框宽度，为图标留出空间\r\n                    width: 140px;\r\n                    .el-input__inner {\r\n                        padding-right: 0;\r\n                    }\r\n                }\r\n                \r\n                .status-icon {\r\n                    margin-left: 8px;\r\n                    font-size: 16px; // 调整图标大小\r\n                    &.el-icon-warning {\r\n                        color: @Warning; // 警告色\r\n                    }\r\n                    &.el-icon-time {\r\n                        color: @Success; // 成功色\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// --- 底部按钮区 ---\r\n.dialog-footer {\r\n    padding-bottom: 5px;\r\n    .el-button {\r\n        // 确保按钮是主题色，与整体设计一致\r\n        &:hover {\r\n            color: @PrimaryColor;\r\n        }\r\n    }\r\n}\r\n</style>\r\n"],"mappings":";;;;;;;;AA8FA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,OAAA;IACA;EACA;EACAC,QAAA;IACA;IACAC,SAAA;MACA,OAAAC,cAAA,CAAAC,YAAA,CAAAC,KAAA,CAAAH,QAAA,GACAI,MAAA,CAAAH,cAAA,CAAAC,YAAA,CAAAC,KAAA,CAAAH,QAAA,IACA;IACA;IACA;IACAK,UAAA;MACA,OAAAJ,cAAA,CAAAC,YAAA,CAAAN,IAAA;IACA;EACA;EACAU,OAAA;IACA;AACA;AACA;AACA;IACAC,kBAAA;MACA,KAAAT,OAAA;MACA,KAAAU,KAAA,CAAAC,YAAA,CAAAC,WAAA;MACA,KAAAC,QAAA;IACA;IACA;AACA;AACA;AACA;IACAC,oBAAAC,QAAA;MACAZ,cAAA,CAAAa,IAAA;QACAX,KAAA;UAAAY,QAAA,EAAAF,QAAA,CAAAE,QAAA;UAAAf,QAAA;QAAA;MACA;MACA,KAAAO,iBAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}