{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/Administrator/Desktop/GimChat/front/gim-chat/node_modules/@babel/runtime/helpers/interopRequireDefault.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _vue = _interopRequireDefault(require(\"vue\"));\nvar _router = _interopRequireDefault(require(\"@/router/router\"));\nvar _index = _interopRequireDefault(require(\"@/config/index.js\"));\nvar _elementUi = require(\"element-ui\");\nvar _map = require(\"@/libs/map.js\");\n// 全局函数 - 文件相关\nconst fileFunction = {\n  /**\r\n   * 格式化文件大小\r\n   * @param {number} size 文件大小\r\n   * @param {boolean} isInteger 是否只显示整数位，默认不截取\r\n   * @returns {string} 文件大小（带单位）\r\n   */\n  calculateFileSize(size, isInteger = false) {\n    const B = 1024;\n    const KB = Math.pow(1024, 2);\n    const MB = Math.pow(1024, 3);\n    const GB = Math.pow(1024, 4);\n    if (isInteger) {\n      // 截取为整数\n      if (size < B) {\n        return `${size}B`;\n      } else if (size < KB) {\n        return `${(size / B).toFixed(0)}KB`;\n      } else if (size < MB) {\n        return `${(size / KB).toFixed(0)}MB`;\n      } else if (size < GB) {\n        return `${(size / MB).toFixed(0)}GB`;\n      } else {\n        return `${(size / GB).toFixed(0)}TB`;\n      }\n    } else {\n      // 保留小数位\n      if (size < B) {\n        return `${size}B`;\n      } else if (size < KB) {\n        return `${(size / B).toFixed(0)}KB`;\n      } else if (size < MB) {\n        return `${(size / KB).toFixed(1)}MB`;\n      } else if (size < GB) {\n        return `${(size / MB).toFixed(2)}GB`;\n      } else {\n        return `${(size / GB).toFixed(3)}TB`;\n      }\n    }\n  },\n  /**\r\n   * 获取流式的缩略图、视频封面图\r\n   * @param {object} row 文件信息\r\n   * @returns {string} 流式图片\r\n   */\n  getMinImgStream(row) {\n    return `${_index.default.baseContext}/filetransfer/preview?userFileId=${row.userFileId}&isMin=true&shareBatchNum=${row.shareBatchNum == null ? '' : row.shareBatchNum}&extractionCode=${row.extractionCode == null ? '' : row.extractionCode}`;\n  },\n  /**\r\n   * 获取文件查看路径\r\n   * @param {object} row 文件信息\r\n   * @returns {string} 文件路径\r\n   */\n  getViewFilePath(row) {\n    return `${_index.default.baseContext}/filetransfer/preview?userFileId=${row.userFileId}&isMin=false&shareBatchNum=${row.shareBatchNum == null ? '' : row.shareBatchNum}&extractionCode=${row.extractionCode == null ? '' : row.extractionCode}`;\n  },\n  /**\r\n   * 获取文件下载路径\r\n   * @param {object} row 文件信息\r\n   * @returns {string}  文件下载路径\r\n   */\n  getDownloadFilePath(row) {\n    return `${_index.default.baseContext}/filetransfer/downloadfile?userFileId=${row.userFileId}&shareBatchNum=${row.shareBatchNum == null ? '' : row.shareBatchNum}&extractionCode=${row.extractionCode == null ? '' : row.extractionCode}`;\n  },\n  /**\r\n   * 获取 Onlyoffice 文件创建路径\r\n   * @param {object} row\r\n   * @returns {string} office 文件创建路径\r\n   */\n  // createFileOnlineByOffice(data) {\n  // \tlet fileUrl = `${location.protocol}//${location.host}${config.baseContext}`\n  // \tconst { href } = router.resolve({\n  // \t\tname: 'Onlyoffice',\n  // \t\tquery: {\n  // \t\t\tfileUrl: fileUrl,\n  // \t\t\tfileName: data.fileName,\n  // \t\t\tfilePath: data.filePath,\n  // \t\t\textendName: data.extendName,\n  // \t\t\tot: 'add'\n  // \t\t}\n  // \t})\n  // \twindow.open(href, '_blank')\n  // },\n  /**\r\n   * 获取 Onlyoffice 文件在线预览路径\r\n   * @param {object} row\r\n   * @returns {string} office 文件在线预览路径\r\n   */\n  // getFileOnlineViewPathByOffice(row) {\n  // \tlet userFileId = row.userFileId\n\n  // \tconst { href } = router.resolve({\n  // \t\tname: 'Onlyoffice',\n  // \t\tquery: {\n  // \t\t\tuserFileId: userFileId,\n  // \t\t\tot: 'detail'\n  // \t\t}\n  // \t})\n  // \twindow.open(href, '_blank')\n  // },\n  /**\r\n   * 获取 Onlyoffice 文件在线编辑路径\r\n   * @param {object} row\r\n   * @returns {string} office 文件在线编辑路径\r\n   */\n  getFileOnlineEditPathByOffice(row) {\n    let userFileId = row.userFileId;\n    const {\n      href\n    } = _router.default.resolve({\n      name: 'Onlyoffice',\n      query: {\n        userFileId: userFileId,\n        ot: 'edit'\n      }\n    });\n    window.open(href, '_blank');\n  },\n  /**\r\n   * 获取分享链接\r\n   * @param {string} shareBatchNum\r\n   * @returns {string} 完整的分享链接\r\n   */\n  getShareLink(shareBatchNum) {\n    return `${location.protocol}//${location.host}/share/${shareBatchNum}`;\n  },\n  /**\r\n   * 复制分享链接\r\n   * @param {string} shareBatchNum\r\n   * @param {string} extractionCode\r\n   */\n  copyShareLink(shareBatchNum, extractionCode) {\n    let input = document.createElement('textarea'); // 直接构建textarea以保持换行\n    input.value = extractionCode === null ? `分享链接：${this.getShareLink(shareBatchNum)}\\n复制链接到浏览器中并输入提取码即可查看文件` : `分享链接：${this.getShareLink(shareBatchNum)}\\n提取码：${extractionCode}\\n复制链接到浏览器中并输入提取码即可查看文件`; // 设置内容\n    document.body.appendChild(input); // 添加临时实例\n    input.select(); // 选择实例内容\n    document.execCommand('Copy'); // 执行复制\n    document.body.removeChild(input); // 删除临时实例\n    _elementUi.Message.success('复制成功');\n  },\n  /**\r\n   * 根据文件扩展名设置文件图片\r\n   * @param {object} file 文件信息\r\n   */\n  // setFileImg(file) {\n  // \tif (file.isDir === 1) {\n  // \t\t//  文件夹\n  // \t\treturn fileImgMap.get('dir')\n  // \t} else if (\n  // \t\tNumber(router.currentRoute.query.fileType) !== 6 &&\n  // \t\t['jpg', 'png', 'jpeg', 'gif', 'mp4'].includes(\n  // \t\t\tfile.extendName.toLowerCase()\n  // \t\t)\n  // \t) {\n  // \t\t// 图片、视频类型，直接显示缩略图\n  // \t\treturn this.getMinImgStream(file)\n  // \t} else if (fileImgMap.has(file.extendName.toLowerCase())) {\n  // \t\t// 可以识别文件类型的文件\n  // \t\treturn fileImgMap.get(file.extendName.toLowerCase())\n  // \t} else {\n  // \t\t// 无法识别文件类型的文件\n  // \t\treturn unknownImg\n  // \t}\n  // },\n  /**\r\n   * 判断是否是视频文件\r\n   * @param {object} file 文件信息\r\n   */\n  isVideoFile(file) {\n    if (['avi', 'mp4', 'mpg', 'mov', 'swf'].includes(file.extendName?.toLowerCase())) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n  /**\r\n   * 图片预览\r\n   * @param {*} currentIndex 当前图片索引\r\n   * @param {*} imgInfo 单个图片信息\r\n   * @param {*} imgInfoList 多个图片列表\r\n   */\n  // handleImgPreview(currentIndex, imgInfo = {}, imgInfoList = []) {\n  // \t// 图片分类下 - 传递整个页面的图片列表；非图片分类下 - 由单个图片构建图片列表\n  // \tconst imgList =\n  // \t\tNumber(router.currentRoute.query.fileType) === 1\n  // \t\t\t? imgInfoList.map((item) => {\n  // \t\t\t\t\treturn {\n  // \t\t\t\t\t\t...item,\n  // \t\t\t\t\t\tfileUrl: this.getViewFilePath(item),\n  // \t\t\t\t\t\tdownloadLink: this.getDownloadFilePath(item)\n  // \t\t\t\t\t}\n  // \t\t\t  })\n  // \t\t\t: [\n  // \t\t\t\t\t{\n  // \t\t\t\t\t\t...imgInfo,\n  // \t\t\t\t\t\tfileUrl: this.getViewFilePath(imgInfo),\n  // \t\t\t\t\t\tdownloadLink: this.getDownloadFilePath(imgInfo)\n  // \t\t\t\t\t}\n  // \t\t\t  ]\n  // \tconst defaultIndex =\n  // \t\tNumber(router.currentRoute.query.fileType) === 1 ? currentIndex : 0\n  // \tVue.prototype.$openBox.imgPreview({ imgList, defaultIndex })\n  // },\n  /**\r\n   * 视频预览\r\n   * @param {*} currentIndex 当前视频索引\r\n   * @param {*} videoInfo 单个视频信息\r\n   * @param {*} videoInfoList 多个视频列表\r\n   */\n  // handleVideoPreview(currentIndex, videoInfo = {}, videoInfoList = []) {\n  // \t// 视频分类下 - 传递整个页面的视频列表；非视频分类下 - 由单个视频构建视频列表\n  // \tconst videoList =\n  // \t\tNumber(router.currentRoute.query.fileType) === 3\n  // \t\t\t? videoInfoList.map((item) => {\n  // \t\t\t\t\treturn {\n  // \t\t\t\t\t\t...item,\n  // \t\t\t\t\t\tfileUrl: this.getViewFilePath(item),\n  // \t\t\t\t\t\tdownloadLink: this.getDownloadFilePath(item)\n  // \t\t\t\t\t}\n  // \t\t\t  })\n  // \t\t\t: [\n  // \t\t\t\t\t{\n  // \t\t\t\t\t\t...videoInfo,\n  // \t\t\t\t\t\tfileUrl: this.getViewFilePath(videoInfo),\n  // \t\t\t\t\t\tdownloadLink: this.getDownloadFilePath(videoInfo)\n  // \t\t\t\t\t}\n  // \t\t\t  ]\n  // \tconst defaultIndex =\n  // \t\tNumber(router.currentRoute.query.fileType) === 3 ? currentIndex : 0\n  // \tVue.prototype.$openBox.videoPreview({ videoList, defaultIndex })\n  // },\n  /**\r\n   * 音频预览\r\n   * @param {*} currentIndex 当前音频索引\r\n   * @param {*} audioInfo 单个音频信息\r\n   * @param {*} audioInfoList 多个音频列表\r\n   */\n  // handleAudioPreview(currentIndex, audioInfo = {}, audioInfoList = []) {\n  // \t// 音频分类下 - 传递整个页面的音频列表；非音频分类下 - 由单个音频构建音频列表\n  // \tconst audioList =\n  // \t\tNumber(router.currentRoute.query.fileType) === 4\n  // \t\t\t? audioInfoList.map((item) => {\n  // \t\t\t\t\treturn {\n  // \t\t\t\t\t\t...item,\n  // \t\t\t\t\t\tfileUrl: this.getViewFilePath(item),\n  // \t\t\t\t\t\tdownloadLink: this.getDownloadFilePath(item)\n  // \t\t\t\t\t}\n  // \t\t\t  })\n  // \t\t\t: [\n  // \t\t\t\t\t{\n  // \t\t\t\t\t\t...audioInfo,\n  // \t\t\t\t\t\tfileUrl: this.getViewFilePath(audioInfo),\n  // \t\t\t\t\t\tdownloadLink: this.getDownloadFilePath(audioInfo)\n  // \t\t\t\t\t}\n  // \t\t\t  ]\n  // \tconst defaultIndex =\n  // \t\tNumber(router.currentRoute.query.fileType) === 4 ? currentIndex : 0\n  // \tVue.prototype.$openBox.audioPreview({ audioList, defaultIndex })\n  // },\n  /**\r\n   * 文件预览\r\n   * @description 若当前点击的为文件夹，则进入文件夹内部；若是文件，则进行相应的预览。\r\n   * @param {object} row 文件信息\r\n   * @param {number} currentIndex 当前文件索引\r\n   * @param {array} fileList 文件列表\r\n   */\n  // handleFileNameClick(row, currentIndex, fileList = []) {\n  // \t// 如果当前文件在回收站中，则不允许预览\n  // \tif (row.deleteFlag !== undefined && row.deleteFlag !== 0) {\n  // \t\treturn false\n  // \t}\n  // \t// 若是文件夹则进入该文件夹\n  // \tif (row.isDir) {\n  // \t\tif (router.currentRoute.name === 'Share') {\n  // \t\t\t// 当前是查看他人分享列表的页面\n  // \t\t\trouter.push({\n  // \t\t\t\tquery: {\n  // \t\t\t\t\tfilePath: `${row.shareFilePath === '/' ? '' : row.shareFilePath}/${\n  // \t\t\t\t\t\trow.fileName\n  // \t\t\t\t\t}`\n  // \t\t\t\t}\n  // \t\t\t})\n  // \t\t} else if (Number(router.currentRoute.query.fileType) === 8) {\n  // \t\t\t// 当前是我的已分享列表页面\n  // \t\t\trouter.push({\n  // \t\t\t\tquery: {\n  // \t\t\t\t\tfileType: 8,\n  // \t\t\t\t\tfilePath: `${row.shareFilePath === '/' ? '' : row.shareFilePath}/${\n  // \t\t\t\t\t\trow.fileName\n  // \t\t\t\t\t}`,\n  // \t\t\t\t\tshareBatchNum: row.shareBatchNum\n  // \t\t\t\t}\n  // \t\t\t})\n  // \t\t} else if (Number(router.currentRoute.query.fileType) !== 6) {\n  // \t\t\t// 回收站页面不允许打开文件夹\n  // \t\t\t// 网盘页面\n  // \t\t\trouter.push({\n  // \t\t\t\tquery: {\n  // \t\t\t\t\tfilePath: `${row.filePath === '/' ? '' : row.filePath}/${\n  // \t\t\t\t\t\trow.fileName\n  // \t\t\t\t\t}`,\n  // \t\t\t\t\tfileType: 0\n  // \t\t\t\t}\n  // \t\t\t})\n  // \t\t}\n  // \t}\n  // \t// 若是文件，则进行相应的预览\n  // \telse {\n  // \t\t// 若当前点击项是图片\n  // \t\tconst PIC = ['png', 'jpg', 'jpeg', 'gif', 'svg']\n  // \t\tif (PIC.includes(row.extendName.toLowerCase())) {\n  // \t\t\tthis.handleImgPreview(currentIndex, row, fileList)\n  // \t\t\treturn false\n  // \t\t}\n  // \t\t//  若当前点击项是可以使用office在线预览的\n  // \t\tif ([...officeFileType].includes(row.extendName.toLowerCase())) {\n  // \t\t\tthis.getFileOnlineViewPathByOffice(row)\n  // \t\t\treturn false\n  // \t\t}\n  // \t\t//  若当前点击项是pdf\n  // \t\tif (row.extendName.toLowerCase() === 'pdf') {\n  // \t\t\twindow.open(this.getViewFilePath(row), '_blank')\n  // \t\t}\n  // \t\t//  若当前点击项是代码或文本文件\n  // \t\tlet codeFileSuffix = row.extendName.toLowerCase()\n  // \t\tif (codeFileSuffix === 'yaml') {\n  // \t\t\tcodeFileSuffix = 'yml'\n  // \t\t}\n  // \t\t// 无格式文件也可以在线编辑\n  // \t\tif (\n  // \t\t\tfileSuffixCodeModeMap.has(codeFileSuffix) ||\n  // \t\t\t(row.isDir === 0 && row.extendName === '')\n  // \t\t) {\n  // \t\t\tVue.prototype.$openBox.codePreview({ fileInfo: row, isEdit: false })\n  // \t\t\treturn false\n  // \t\t}\n  // \t\t//  若当前点击项是 markdown 文档\n  // \t\tif (markdownFileType.includes(row.extendName.toLowerCase())) {\n  // \t\t\tVue.prototype.$openBox.markdownPreview({\n  // \t\t\t\tfileInfo: row,\n  // \t\t\t\teditable: false\n  // \t\t\t})\n  // \t\t\treturn false\n  // \t\t}\n  // \t\t//  若当前点击项是视频mp4格式\n  // \t\tconst VIDEO = ['mp4']\n  // \t\tif (VIDEO.includes(row.extendName.toLowerCase())) {\n  // \t\t\tthis.handleVideoPreview(currentIndex, row, fileList)\n  // \t\t\treturn false\n  // \t\t}\n  // \t\t//  若当前点击项是音频 mp3、flac 格式\n  // \t\tconst AUDIO = ['mp3', 'flac']\n  // \t\tif (AUDIO.includes(row.extendName.toLowerCase())) {\n  // \t\t\tthis.handleAudioPreview(currentIndex, row, fileList)\n  // \t\t\treturn false\n  // \t\t}\n  // \t}\n  // },\n  /**\r\n   * 文件名称拼接，包括文件名称 + 文件后缀\r\n   * @param {object} file 文件信息\r\n   * @param {boolean} isHighlight 是否需要展示高亮效果，默认不需要\r\n   * @returns {string} 完整文件名称\r\n   */\n  getFileNameComplete(file, isHighlight = false) {\n    return isHighlight === true && file.highlightFields ? `${file.highlightFields}${file.isDir === 0 && file.extendName ? `.${file.extendName}` : ''}` : `${file.fileName}${file.isDir === 0 && file.extendName ? `.${file.extendName}` : ''}`;\n  },\n  /**\r\n   * 文件类型\r\n   * @param {object} file 文件信息\r\n   */\n  getFileType(file) {\n    return file.isDir === 1 ? '文件夹' : file.extendName ? file.extendName : '文件';\n  },\n  /**\r\n   * 获取文件分享过期状态\r\n   * @param {string} time 日期\r\n   * @returns {boolean} 是否过期\r\n   */\n  getFileShareStatus(time) {\n    if (new Date(time).getTime() > new Date().getTime()) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n};\nvar _default = exports.default = fileFunction;","map":{"version":3,"names":["_vue","_interopRequireDefault","require","_router","_index","_elementUi","_map","fileFunction","calculateFileSize","size","isInteger","B","KB","Math","pow","MB","GB","toFixed","getMinImgStream","row","config","baseContext","userFileId","shareBatchNum","extractionCode","getViewFilePath","getDownloadFilePath","getFileOnlineEditPathByOffice","href","router","resolve","name","query","ot","window","open","getShareLink","location","protocol","host","copyShareLink","input","document","createElement","value","body","appendChild","select","execCommand","removeChild","Message","success","isVideoFile","file","includes","extendName","toLowerCase","getFileNameComplete","isHighlight","highlightFields","isDir","fileName","getFileType","getFileShareStatus","time","Date","getTime","_default","exports","default"],"sources":["C:/Users/Administrator/Desktop/GimChat/front/gim-chat/src/libs/globalFunction/file.js"],"sourcesContent":["import Vue from 'vue'\r\nimport router from '@/router/router'\r\nimport config from '@/config/index.js'\r\nimport { Message } from 'element-ui'\r\nimport {\r\n\tfileImgMap,\r\n\tunknownImg,\r\n\tfileSuffixCodeModeMap,\r\n\tmarkdownFileType\r\n} from '@/libs/map.js'\r\nimport { officeFileType } from '@/libs/map.js'\r\n\r\n// 全局函数 - 文件相关\r\nconst fileFunction = {\r\n\t/**\r\n\t * 格式化文件大小\r\n\t * @param {number} size 文件大小\r\n\t * @param {boolean} isInteger 是否只显示整数位，默认不截取\r\n\t * @returns {string} 文件大小（带单位）\r\n\t */\r\n\tcalculateFileSize(size, isInteger = false) {\r\n\t\tconst B = 1024\r\n\t\tconst KB = Math.pow(1024, 2)\r\n\t\tconst MB = Math.pow(1024, 3)\r\n\t\tconst GB = Math.pow(1024, 4)\r\n\t\tif (isInteger) {\r\n\t\t\t// 截取为整数\r\n\t\t\tif (size < B) {\r\n\t\t\t\treturn `${size}B`\r\n\t\t\t} else if (size < KB) {\r\n\t\t\t\treturn `${(size / B).toFixed(0)}KB`\r\n\t\t\t} else if (size < MB) {\r\n\t\t\t\treturn `${(size / KB).toFixed(0)}MB`\r\n\t\t\t} else if (size < GB) {\r\n\t\t\t\treturn `${(size / MB).toFixed(0)}GB`\r\n\t\t\t} else {\r\n\t\t\t\treturn `${(size / GB).toFixed(0)}TB`\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// 保留小数位\r\n\t\t\tif (size < B) {\r\n\t\t\t\treturn `${size}B`\r\n\t\t\t} else if (size < KB) {\r\n\t\t\t\treturn `${(size / B).toFixed(0)}KB`\r\n\t\t\t} else if (size < MB) {\r\n\t\t\t\treturn `${(size / KB).toFixed(1)}MB`\r\n\t\t\t} else if (size < GB) {\r\n\t\t\t\treturn `${(size / MB).toFixed(2)}GB`\r\n\t\t\t} else {\r\n\t\t\t\treturn `${(size / GB).toFixed(3)}TB`\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t/**\r\n\t * 获取流式的缩略图、视频封面图\r\n\t * @param {object} row 文件信息\r\n\t * @returns {string} 流式图片\r\n\t */\r\n\tgetMinImgStream(row) {\r\n\t\treturn `${config.baseContext}/filetransfer/preview?userFileId=${\r\n\t\t\trow.userFileId\r\n\t\t}&isMin=true&shareBatchNum=${\r\n\t\t\trow.shareBatchNum == null ? '' : row.shareBatchNum\r\n\t\t}&extractionCode=${row.extractionCode == null ? '' : row.extractionCode}`\r\n\t},\r\n\t/**\r\n\t * 获取文件查看路径\r\n\t * @param {object} row 文件信息\r\n\t * @returns {string} 文件路径\r\n\t */\r\n\tgetViewFilePath(row) {\r\n\t\treturn `${config.baseContext}/filetransfer/preview?userFileId=${\r\n\t\t\trow.userFileId\r\n\t\t}&isMin=false&shareBatchNum=${\r\n\t\t\trow.shareBatchNum == null ? '' : row.shareBatchNum\r\n\t\t}&extractionCode=${row.extractionCode == null ? '' : row.extractionCode}`\r\n\t},\r\n\t/**\r\n\t * 获取文件下载路径\r\n\t * @param {object} row 文件信息\r\n\t * @returns {string}  文件下载路径\r\n\t */\r\n\tgetDownloadFilePath(row) {\r\n\t\treturn `${config.baseContext}/filetransfer/downloadfile?userFileId=${\r\n\t\t\trow.userFileId\r\n\t\t}&shareBatchNum=${\r\n\t\t\trow.shareBatchNum == null ? '' : row.shareBatchNum\r\n\t\t}&extractionCode=${row.extractionCode == null ? '' : row.extractionCode}`\r\n\t},\r\n\t/**\r\n\t * 获取 Onlyoffice 文件创建路径\r\n\t * @param {object} row\r\n\t * @returns {string} office 文件创建路径\r\n\t */\r\n\t// createFileOnlineByOffice(data) {\r\n\t// \tlet fileUrl = `${location.protocol}//${location.host}${config.baseContext}`\r\n\t// \tconst { href } = router.resolve({\r\n\t// \t\tname: 'Onlyoffice',\r\n\t// \t\tquery: {\r\n\t// \t\t\tfileUrl: fileUrl,\r\n\t// \t\t\tfileName: data.fileName,\r\n\t// \t\t\tfilePath: data.filePath,\r\n\t// \t\t\textendName: data.extendName,\r\n\t// \t\t\tot: 'add'\r\n\t// \t\t}\r\n\t// \t})\r\n\t// \twindow.open(href, '_blank')\r\n\t// },\r\n\t/**\r\n\t * 获取 Onlyoffice 文件在线预览路径\r\n\t * @param {object} row\r\n\t * @returns {string} office 文件在线预览路径\r\n\t */\r\n\t// getFileOnlineViewPathByOffice(row) {\r\n\t// \tlet userFileId = row.userFileId\r\n\r\n\t// \tconst { href } = router.resolve({\r\n\t// \t\tname: 'Onlyoffice',\r\n\t// \t\tquery: {\r\n\t// \t\t\tuserFileId: userFileId,\r\n\t// \t\t\tot: 'detail'\r\n\t// \t\t}\r\n\t// \t})\r\n\t// \twindow.open(href, '_blank')\r\n\t// },\r\n\t/**\r\n\t * 获取 Onlyoffice 文件在线编辑路径\r\n\t * @param {object} row\r\n\t * @returns {string} office 文件在线编辑路径\r\n\t */\r\n\tgetFileOnlineEditPathByOffice(row) {\r\n\t\tlet userFileId = row.userFileId\r\n\r\n\t\tconst { href } = router.resolve({\r\n\t\t\tname: 'Onlyoffice',\r\n\t\t\tquery: {\r\n\t\t\t\tuserFileId: userFileId,\r\n\t\t\t\tot: 'edit'\r\n\t\t\t}\r\n\t\t})\r\n\t\twindow.open(href, '_blank')\r\n\t},\r\n\t/**\r\n\t * 获取分享链接\r\n\t * @param {string} shareBatchNum\r\n\t * @returns {string} 完整的分享链接\r\n\t */\r\n\tgetShareLink(shareBatchNum) {\r\n\t\treturn `${location.protocol}//${location.host}/share/${shareBatchNum}`\r\n\t},\r\n\t/**\r\n\t * 复制分享链接\r\n\t * @param {string} shareBatchNum\r\n\t * @param {string} extractionCode\r\n\t */\r\n\tcopyShareLink(shareBatchNum, extractionCode) {\r\n\t\tlet input = document.createElement('textarea') // 直接构建textarea以保持换行\r\n\t\tinput.value =\r\n\t\t\textractionCode === null\r\n\t\t\t\t? `分享链接：${this.getShareLink(\r\n\t\t\t\t\t\tshareBatchNum\r\n\t\t\t\t  )}\\n复制链接到浏览器中并输入提取码即可查看文件`\r\n\t\t\t\t: `分享链接：${this.getShareLink(\r\n\t\t\t\t\t\tshareBatchNum\r\n\t\t\t\t  )}\\n提取码：${extractionCode}\\n复制链接到浏览器中并输入提取码即可查看文件` // 设置内容\r\n\t\tdocument.body.appendChild(input) // 添加临时实例\r\n\t\tinput.select() // 选择实例内容\r\n\t\tdocument.execCommand('Copy') // 执行复制\r\n\t\tdocument.body.removeChild(input) // 删除临时实例\r\n\t\tMessage.success('复制成功')\r\n\t},\r\n\t/**\r\n\t * 根据文件扩展名设置文件图片\r\n\t * @param {object} file 文件信息\r\n\t */\r\n\t// setFileImg(file) {\r\n\t// \tif (file.isDir === 1) {\r\n\t// \t\t//  文件夹\r\n\t// \t\treturn fileImgMap.get('dir')\r\n\t// \t} else if (\r\n\t// \t\tNumber(router.currentRoute.query.fileType) !== 6 &&\r\n\t// \t\t['jpg', 'png', 'jpeg', 'gif', 'mp4'].includes(\r\n\t// \t\t\tfile.extendName.toLowerCase()\r\n\t// \t\t)\r\n\t// \t) {\r\n\t// \t\t// 图片、视频类型，直接显示缩略图\r\n\t// \t\treturn this.getMinImgStream(file)\r\n\t// \t} else if (fileImgMap.has(file.extendName.toLowerCase())) {\r\n\t// \t\t// 可以识别文件类型的文件\r\n\t// \t\treturn fileImgMap.get(file.extendName.toLowerCase())\r\n\t// \t} else {\r\n\t// \t\t// 无法识别文件类型的文件\r\n\t// \t\treturn unknownImg\r\n\t// \t}\r\n\t// },\r\n\t/**\r\n\t * 判断是否是视频文件\r\n\t * @param {object} file 文件信息\r\n\t */\r\n\tisVideoFile(file) {\r\n\t\tif (\r\n\t\t\t['avi', 'mp4', 'mpg', 'mov', 'swf'].includes(\r\n\t\t\t\tfile.extendName?.toLowerCase()\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\treturn true\r\n\t\t} else {\r\n\t\t\treturn false\r\n\t\t}\r\n\t},\r\n\t/**\r\n\t * 图片预览\r\n\t * @param {*} currentIndex 当前图片索引\r\n\t * @param {*} imgInfo 单个图片信息\r\n\t * @param {*} imgInfoList 多个图片列表\r\n\t */\r\n\t// handleImgPreview(currentIndex, imgInfo = {}, imgInfoList = []) {\r\n\t// \t// 图片分类下 - 传递整个页面的图片列表；非图片分类下 - 由单个图片构建图片列表\r\n\t// \tconst imgList =\r\n\t// \t\tNumber(router.currentRoute.query.fileType) === 1\r\n\t// \t\t\t? imgInfoList.map((item) => {\r\n\t// \t\t\t\t\treturn {\r\n\t// \t\t\t\t\t\t...item,\r\n\t// \t\t\t\t\t\tfileUrl: this.getViewFilePath(item),\r\n\t// \t\t\t\t\t\tdownloadLink: this.getDownloadFilePath(item)\r\n\t// \t\t\t\t\t}\r\n\t// \t\t\t  })\r\n\t// \t\t\t: [\r\n\t// \t\t\t\t\t{\r\n\t// \t\t\t\t\t\t...imgInfo,\r\n\t// \t\t\t\t\t\tfileUrl: this.getViewFilePath(imgInfo),\r\n\t// \t\t\t\t\t\tdownloadLink: this.getDownloadFilePath(imgInfo)\r\n\t// \t\t\t\t\t}\r\n\t// \t\t\t  ]\r\n\t// \tconst defaultIndex =\r\n\t// \t\tNumber(router.currentRoute.query.fileType) === 1 ? currentIndex : 0\r\n\t// \tVue.prototype.$openBox.imgPreview({ imgList, defaultIndex })\r\n\t// },\r\n\t/**\r\n\t * 视频预览\r\n\t * @param {*} currentIndex 当前视频索引\r\n\t * @param {*} videoInfo 单个视频信息\r\n\t * @param {*} videoInfoList 多个视频列表\r\n\t */\r\n\t// handleVideoPreview(currentIndex, videoInfo = {}, videoInfoList = []) {\r\n\t// \t// 视频分类下 - 传递整个页面的视频列表；非视频分类下 - 由单个视频构建视频列表\r\n\t// \tconst videoList =\r\n\t// \t\tNumber(router.currentRoute.query.fileType) === 3\r\n\t// \t\t\t? videoInfoList.map((item) => {\r\n\t// \t\t\t\t\treturn {\r\n\t// \t\t\t\t\t\t...item,\r\n\t// \t\t\t\t\t\tfileUrl: this.getViewFilePath(item),\r\n\t// \t\t\t\t\t\tdownloadLink: this.getDownloadFilePath(item)\r\n\t// \t\t\t\t\t}\r\n\t// \t\t\t  })\r\n\t// \t\t\t: [\r\n\t// \t\t\t\t\t{\r\n\t// \t\t\t\t\t\t...videoInfo,\r\n\t// \t\t\t\t\t\tfileUrl: this.getViewFilePath(videoInfo),\r\n\t// \t\t\t\t\t\tdownloadLink: this.getDownloadFilePath(videoInfo)\r\n\t// \t\t\t\t\t}\r\n\t// \t\t\t  ]\r\n\t// \tconst defaultIndex =\r\n\t// \t\tNumber(router.currentRoute.query.fileType) === 3 ? currentIndex : 0\r\n\t// \tVue.prototype.$openBox.videoPreview({ videoList, defaultIndex })\r\n\t// },\r\n\t/**\r\n\t * 音频预览\r\n\t * @param {*} currentIndex 当前音频索引\r\n\t * @param {*} audioInfo 单个音频信息\r\n\t * @param {*} audioInfoList 多个音频列表\r\n\t */\r\n\t// handleAudioPreview(currentIndex, audioInfo = {}, audioInfoList = []) {\r\n\t// \t// 音频分类下 - 传递整个页面的音频列表；非音频分类下 - 由单个音频构建音频列表\r\n\t// \tconst audioList =\r\n\t// \t\tNumber(router.currentRoute.query.fileType) === 4\r\n\t// \t\t\t? audioInfoList.map((item) => {\r\n\t// \t\t\t\t\treturn {\r\n\t// \t\t\t\t\t\t...item,\r\n\t// \t\t\t\t\t\tfileUrl: this.getViewFilePath(item),\r\n\t// \t\t\t\t\t\tdownloadLink: this.getDownloadFilePath(item)\r\n\t// \t\t\t\t\t}\r\n\t// \t\t\t  })\r\n\t// \t\t\t: [\r\n\t// \t\t\t\t\t{\r\n\t// \t\t\t\t\t\t...audioInfo,\r\n\t// \t\t\t\t\t\tfileUrl: this.getViewFilePath(audioInfo),\r\n\t// \t\t\t\t\t\tdownloadLink: this.getDownloadFilePath(audioInfo)\r\n\t// \t\t\t\t\t}\r\n\t// \t\t\t  ]\r\n\t// \tconst defaultIndex =\r\n\t// \t\tNumber(router.currentRoute.query.fileType) === 4 ? currentIndex : 0\r\n\t// \tVue.prototype.$openBox.audioPreview({ audioList, defaultIndex })\r\n\t// },\r\n\t/**\r\n\t * 文件预览\r\n\t * @description 若当前点击的为文件夹，则进入文件夹内部；若是文件，则进行相应的预览。\r\n\t * @param {object} row 文件信息\r\n\t * @param {number} currentIndex 当前文件索引\r\n\t * @param {array} fileList 文件列表\r\n\t */\r\n\t// handleFileNameClick(row, currentIndex, fileList = []) {\r\n\t// \t// 如果当前文件在回收站中，则不允许预览\r\n\t// \tif (row.deleteFlag !== undefined && row.deleteFlag !== 0) {\r\n\t// \t\treturn false\r\n\t// \t}\r\n\t// \t// 若是文件夹则进入该文件夹\r\n\t// \tif (row.isDir) {\r\n\t// \t\tif (router.currentRoute.name === 'Share') {\r\n\t// \t\t\t// 当前是查看他人分享列表的页面\r\n\t// \t\t\trouter.push({\r\n\t// \t\t\t\tquery: {\r\n\t// \t\t\t\t\tfilePath: `${row.shareFilePath === '/' ? '' : row.shareFilePath}/${\r\n\t// \t\t\t\t\t\trow.fileName\r\n\t// \t\t\t\t\t}`\r\n\t// \t\t\t\t}\r\n\t// \t\t\t})\r\n\t// \t\t} else if (Number(router.currentRoute.query.fileType) === 8) {\r\n\t// \t\t\t// 当前是我的已分享列表页面\r\n\t// \t\t\trouter.push({\r\n\t// \t\t\t\tquery: {\r\n\t// \t\t\t\t\tfileType: 8,\r\n\t// \t\t\t\t\tfilePath: `${row.shareFilePath === '/' ? '' : row.shareFilePath}/${\r\n\t// \t\t\t\t\t\trow.fileName\r\n\t// \t\t\t\t\t}`,\r\n\t// \t\t\t\t\tshareBatchNum: row.shareBatchNum\r\n\t// \t\t\t\t}\r\n\t// \t\t\t})\r\n\t// \t\t} else if (Number(router.currentRoute.query.fileType) !== 6) {\r\n\t// \t\t\t// 回收站页面不允许打开文件夹\r\n\t// \t\t\t// 网盘页面\r\n\t// \t\t\trouter.push({\r\n\t// \t\t\t\tquery: {\r\n\t// \t\t\t\t\tfilePath: `${row.filePath === '/' ? '' : row.filePath}/${\r\n\t// \t\t\t\t\t\trow.fileName\r\n\t// \t\t\t\t\t}`,\r\n\t// \t\t\t\t\tfileType: 0\r\n\t// \t\t\t\t}\r\n\t// \t\t\t})\r\n\t// \t\t}\r\n\t// \t}\r\n\t// \t// 若是文件，则进行相应的预览\r\n\t// \telse {\r\n\t// \t\t// 若当前点击项是图片\r\n\t// \t\tconst PIC = ['png', 'jpg', 'jpeg', 'gif', 'svg']\r\n\t// \t\tif (PIC.includes(row.extendName.toLowerCase())) {\r\n\t// \t\t\tthis.handleImgPreview(currentIndex, row, fileList)\r\n\t// \t\t\treturn false\r\n\t// \t\t}\r\n\t// \t\t//  若当前点击项是可以使用office在线预览的\r\n\t// \t\tif ([...officeFileType].includes(row.extendName.toLowerCase())) {\r\n\t// \t\t\tthis.getFileOnlineViewPathByOffice(row)\r\n\t// \t\t\treturn false\r\n\t// \t\t}\r\n\t// \t\t//  若当前点击项是pdf\r\n\t// \t\tif (row.extendName.toLowerCase() === 'pdf') {\r\n\t// \t\t\twindow.open(this.getViewFilePath(row), '_blank')\r\n\t// \t\t}\r\n\t// \t\t//  若当前点击项是代码或文本文件\r\n\t// \t\tlet codeFileSuffix = row.extendName.toLowerCase()\r\n\t// \t\tif (codeFileSuffix === 'yaml') {\r\n\t// \t\t\tcodeFileSuffix = 'yml'\r\n\t// \t\t}\r\n\t// \t\t// 无格式文件也可以在线编辑\r\n\t// \t\tif (\r\n\t// \t\t\tfileSuffixCodeModeMap.has(codeFileSuffix) ||\r\n\t// \t\t\t(row.isDir === 0 && row.extendName === '')\r\n\t// \t\t) {\r\n\t// \t\t\tVue.prototype.$openBox.codePreview({ fileInfo: row, isEdit: false })\r\n\t// \t\t\treturn false\r\n\t// \t\t}\r\n\t// \t\t//  若当前点击项是 markdown 文档\r\n\t// \t\tif (markdownFileType.includes(row.extendName.toLowerCase())) {\r\n\t// \t\t\tVue.prototype.$openBox.markdownPreview({\r\n\t// \t\t\t\tfileInfo: row,\r\n\t// \t\t\t\teditable: false\r\n\t// \t\t\t})\r\n\t// \t\t\treturn false\r\n\t// \t\t}\r\n\t// \t\t//  若当前点击项是视频mp4格式\r\n\t// \t\tconst VIDEO = ['mp4']\r\n\t// \t\tif (VIDEO.includes(row.extendName.toLowerCase())) {\r\n\t// \t\t\tthis.handleVideoPreview(currentIndex, row, fileList)\r\n\t// \t\t\treturn false\r\n\t// \t\t}\r\n\t// \t\t//  若当前点击项是音频 mp3、flac 格式\r\n\t// \t\tconst AUDIO = ['mp3', 'flac']\r\n\t// \t\tif (AUDIO.includes(row.extendName.toLowerCase())) {\r\n\t// \t\t\tthis.handleAudioPreview(currentIndex, row, fileList)\r\n\t// \t\t\treturn false\r\n\t// \t\t}\r\n\t// \t}\r\n\t// },\r\n\t/**\r\n\t * 文件名称拼接，包括文件名称 + 文件后缀\r\n\t * @param {object} file 文件信息\r\n\t * @param {boolean} isHighlight 是否需要展示高亮效果，默认不需要\r\n\t * @returns {string} 完整文件名称\r\n\t */\r\n\tgetFileNameComplete(file, isHighlight = false) {\r\n\t\treturn isHighlight === true && file.highlightFields\r\n\t\t\t? `${file.highlightFields}${\r\n\t\t\t\t\tfile.isDir === 0 && file.extendName ? `.${file.extendName}` : ''\r\n\t\t\t  }`\r\n\t\t\t: `${file.fileName}${\r\n\t\t\t\t\tfile.isDir === 0 && file.extendName ? `.${file.extendName}` : ''\r\n\t\t\t  }`\r\n\t},\r\n\t/**\r\n\t * 文件类型\r\n\t * @param {object} file 文件信息\r\n\t */\r\n\tgetFileType(file) {\r\n\t\treturn file.isDir === 1\r\n\t\t\t? '文件夹'\r\n\t\t\t: file.extendName\r\n\t\t\t? file.extendName\r\n\t\t\t: '文件'\r\n\t},\r\n\t/**\r\n\t * 获取文件分享过期状态\r\n\t * @param {string} time 日期\r\n\t * @returns {boolean} 是否过期\r\n\t */\r\n\tgetFileShareStatus(time) {\r\n\t\tif (new Date(time).getTime() > new Date().getTime()) {\r\n\t\t\treturn false\r\n\t\t} else {\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default fileFunction\r\n"],"mappings":"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WAAWA,CAACC,IAAI,EAAE;IACjB,IACC,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAACC,QAAQ,CAC3CD,IAAI,CAACE,UAAU,EAAEC,WAAW,CAAC,CAC9B,CAAC,EACA;MACD,OAAO,IAAI;IACZ,CAAC,MAAM;MACN,OAAO,KAAK;IACb;EACD,CAAC;EACD;AACD;AACA;AACA;AACA;AACA;EACC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACD;AACA;AACA;AACA;AACA;EACC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACD;AACA;AACA;AACA;AACA;EACC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACD;AACA;AACA;AACA;AACA;AACA;EACC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACD;AACA;AACA;AACA;AACA;EACCC,mBAAmBA,CAACJ,IAAI,EAAEK,WAAW,GAAG,KAAK,EAAE;IAC9C,OAAOA,WAAW,KAAK,IAAI,IAAIL,IAAI,CAACM,eAAe,GAChD,GAAGN,IAAI,CAACM,eAAe,GACvBN,IAAI,CAACO,KAAK,KAAK,CAAC,IAAIP,IAAI,CAACE,UAAU,GAAG,IAAIF,IAAI,CAACE,UAAU,EAAE,GAAG,EAAE,EAC9D,GACF,GAAGF,IAAI,CAACQ,QAAQ,GAChBR,IAAI,CAACO,KAAK,KAAK,CAAC,IAAIP,IAAI,CAACE,UAAU,GAAG,IAAIF,IAAI,CAACE,UAAU,EAAE,GAAG,EAAE,EAC9D;EACN,CAAC;EACD;AACD;AACA;AACA;EACCO,WAAWA,CAACT,IAAI,EAAE;IACjB,OAAOA,IAAI,CAACO,KAAK,KAAK,CAAC,GACpB,KAAK,GACLP,IAAI,CAACE,UAAU,GACfF,IAAI,CAACE,UAAU,GACf,IAAI;EACR,CAAC;EACD;AACD;AACA;AACA;AACA;EACCQ,kBAAkBA,CAACC,IAAI,EAAE;IACxB,IAAI,IAAIC,IAAI,CAACD,IAAI,CAAC,CAACE,OAAO,CAAC,CAAC,GAAG,IAAID,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,EAAE;MACpD,OAAO,KAAK;IACb,CAAC,MAAM;MACN,OAAO,IAAI;IACZ;EACD;AACD,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEc9D,YAAY","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}