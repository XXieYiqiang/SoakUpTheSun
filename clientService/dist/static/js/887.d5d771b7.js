"use strict";(self["webpackChunkgim_chat"]=self["webpackChunkgim_chat"]||[]).push([[887],{9887:function(t,a,s){s.r(a),s.d(a,{default:function(){return h}});var e=function(){var t=this,a=t._self._c;return a("div",{staticClass:"hot-board-container"},[a("div",{staticClass:"header-bar glass-panel"},[t._m(0),a("div",{staticClass:"header-right"},[a("div",{staticClass:"time-block"},[a("div",{staticClass:"time-now"},[t._v(t._s(t.currentTime))]),a("div",{staticClass:"time-desc"},[t._v(t._s(t.lunarDate))])]),a("div",{staticClass:"action-btns"},[a("button",{staticClass:"tech-icon-btn",attrs:{title:"刷新"},on:{click:t.getData}},[a("i",{staticClass:"icon"},[t._v("⟳")])]),t._m(1)])])]),a("div",{staticClass:"board-grid"},t._l(t.boardList,function(s,e){return a("div",{key:e,staticClass:"board-card glass-panel"},[a("transition",{attrs:{name:"fade"}},[s.loading?a("div",{staticClass:"loading-mask"},[a("div",{staticClass:"tech-spinner"}),a("span",{staticClass:"loading-text"},[t._v("LOADING...")])]):t._e()]),a("div",{staticClass:"board-header"},[a("div",{staticClass:"board-header-left"},[s.icon?a("img",{staticClass:"board-icon",attrs:{src:`${t.baseUrl}${s.icon}`,alt:"logo"}}):t._e(),a("span",{staticClass:"board-title"},[t._v(t._s(s.title))])]),a("span",{staticClass:"board-tag",class:t.getTagClass(s.tag)},[t._v(t._s(s.tag))])]),a("div",{staticClass:"tech-divider"}),a("ul",{staticClass:"board-items custom-scrollbar"},[s.items.length>0?t._l(s.items,function(s,e){return a("li",{key:e,staticClass:"board-item",on:{click:function(a){return t.onToNewsDetails(s)}}},[a("span",{staticClass:"rank",class:`rank-${e+1}`},[t._v(t._s(e+1))]),a("span",{staticClass:"text"},[t._v(t._s(s.title))]),a("i",{staticClass:"el-icon-arrow-right item-arrow"})])}):[t._m(2,!0)]],2),a("div",{staticClass:"board-footer"},[a("span",{staticClass:"update-time"},[a("i",{staticClass:"el-icon-time"}),t._v(" "+t._s(t.getRelativeTime(s.lastUpdate))+" ")]),a("i",{staticClass:"refresh-icon el-icon-refresh",attrs:{title:"更新数据"},on:{click:function(a){return t.refreshBoard(e)}}})])],1)}),0)])},i=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"header-left"},[a("div",{staticClass:"icon-wrapper"},[a("img",{staticClass:"hot-icon",attrs:{src:"https://so1.360tres.com/t01a815bd3d379e2381.jpg",alt:"icon"}}),a("div",{staticClass:"icon-glow"})]),a("div",{staticClass:"header-title"},[a("h2",{staticClass:"neon-text"},[t._v("今日热榜 "),a("span",{staticClass:"header-en"},[t._v("HOT TRENDS")])]),a("p",{staticClass:"sub-title"},[t._v("汇聚全网热点 · 实时数据监控")])])])},function(){var t=this,a=t._self._c;return a("button",{staticClass:"tech-icon-btn",attrs:{title:"更多"}},[a("i",{staticClass:"icon"},[t._v("⚙️")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"empty-state"},[a("i",{staticClass:"el-icon-odometer"}),a("span",[t._v("暂无数据信号")])])}],l=(s(44114),s(18111),s(7588),s(35720));const n=t=>(0,l.A)({method:"get",url:"/api/news/getListTop10",params:t});var r={data(){return{baseUrl:"http://127.0.0.1:9876",currentTime:"",lunarDate:"",timer:null,timer1:null,boardList:[{title:"新浪微博",tag:"热搜",icon:"/upload/xlwb.png",lastUpdate:new Date(Date.now()-3e5),items:[{title:"2025年度热词有哪些？",url:"#"},{title:"AI 辅助编程进入主流了吗？",url:"#"},{title:"未来科技趋势展望报告",url:"#"},{title:"SpaceX 新一代星舰发射成功",url:"#"},{title:"全球气候变化峰会开幕",url:"#"}],loading:!1},{title:"抖音",tag:"视频",icon:"/upload/dy.png",lastUpdate:new Date(Date.now()-36e5),items:[],loading:!1},{title:"知乎",tag:"讨论",icon:"/upload/zh.png",lastUpdate:new Date(Date.now()-108e5),items:[],loading:!1},{title:"澎湃新闻",tag:"时事",icon:"/upload/pp.png",lastUpdate:new Date(Date.now()-72e5),items:[],loading:!1},{title:"网易新闻",tag:"综合",icon:"/upload/wy.png",lastUpdate:new Date(Date.now()-18e5),items:[],loading:!1},{title:"CSDN",tag:"技术",icon:"/upload/csdn.png",lastUpdate:new Date(Date.now()-6e5),items:[],loading:!1}]}},methods:{getTagClass(t){return"tag-default"},onToNewsDetails(t){console.log("跳转到新闻详情页面，row=",t),t.url&&window.open(t.url)},getData(){this.boardList.forEach(t=>t.loading=!0);let t={};n(t).then(t=>{if(t&&200===t.data.code&&t.data.data){const a={0:"XINLANGB",1:"DOUYIN",2:"XINLANGNEWS",3:"PENGPAI",4:"WANGYIXINWEN",5:"CSDN"};Object.keys(a).forEach(s=>{const e=Number(s),i=t.data.data[a[e]]||[];i.length>0&&(this.boardList[e].items=i),this.boardList[e].loading=!1,this.boardList[e].lastUpdate=new Date})}else this.boardList.forEach(t=>{0===t.items.length&&(t.loading=!1)})}).catch(t=>{console.error(t),this.boardList.forEach(t=>t.loading=!1)})},toNewsDetails(){this.$router.push({name:"newDetails"})},getRelativeTime(t){if(!t)return"";const a=(Date.now()-new Date(t))/1e3;return a<60?"刚刚更新":a<3600?Math.floor(a/60)+" 分钟前":a<86400?Math.floor(a/3600)+" 小时前":Math.floor(a/86400)+" 天前"},async refreshBoard(t){this.boardList[t].loading=!0;try{const a=await n({});a&&200===a.data.code&&a.data.data?(setTimeout(()=>{this.boardList[t].loading=!1},800),this.boardList[t].lastUpdate=new Date):(this.$message.error(a.data.message),this.boardList[t].loading=!1)}catch(a){console.error(a),this.boardList[t].loading=!1}},updateTime(){const t=new Date,a=t=>t.toString().padStart(2,"0"),s=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];this.currentTime=`${t.getFullYear()}-${a(t.getMonth()+1)}-${a(t.getDate())} ${a(t.getHours())}:${a(t.getMinutes())}:${a(t.getSeconds())}`,this.lunarDate=`农历十月十三 ${s[t.getDay()]}`}},mounted(){this.updateTime(),this.timer=setInterval(this.updateTime,1e3),this.getData(),this.timer1=setInterval(()=>{this.getData()},3e4)},beforeDestroy(){clearInterval(this.timer),clearInterval(this.timer1)}},o=r,c=s(81656),d=(0,c.A)(o,e,i,!1,null,"e17f3e76",null),h=d.exports}}]);